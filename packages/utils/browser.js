(()=>{var We=typeof global=="object"&&global&&global.Object===Object&&global,et=We;var qe=typeof self=="object"&&self&&self.Object===Object&&self,Qe=et||qe||Function("return this")(),T=Qe;var ze=T.Symbol,L=ze;var wt=Object.prototype,Xe=wt.hasOwnProperty,$e=wt.toString,k=L?L.toStringTag:void 0;function Ze(t){var r=Xe.call(t,k),e=t[k];try{t[k]=void 0;var o=!0}catch{}var n=$e.call(t);return o&&(r?t[k]=e:delete t[k]),n}var jt=Ze;var to=Object.prototype,ro=to.toString;function eo(t){return ro.call(t)}var Ft=eo;var oo="[object Null]",no="[object Undefined]",Ht=L?L.toStringTag:void 0;function ao(t){return t==null?t===void 0?no:oo:Ht&&Ht in Object(t)?jt(t):Ft(t)}var y=ao;function so(t,r){return function(e){return t(r(e))}}var Gt=so;var io=Gt(Object.getPrototypeOf,Object),ot=io;function co(t){return t!=null&&typeof t=="object"}var d=co;var po="[object Object]",fo=Function.prototype,_o=Object.prototype,Bt=fo.toString,uo=_o.hasOwnProperty,lo=Bt.call(Object);function mo(t){if(!d(t)||y(t)!=po)return!1;var r=ot(t);if(r===null)return!0;var e=uo.call(r,"constructor")&&r.constructor;return typeof e=="function"&&e instanceof e&&Bt.call(e)==lo}var A=mo;function Eo(){this.__data__=[],this.size=0}var Jt=Eo;function xo(t,r){return t===r||t!==t&&r!==r}var g=xo;function To(t,r){for(var e=t.length;e--;)if(g(t[e][0],r))return e;return-1}var S=To;var Ao=Array.prototype,Oo=Ao.splice;function No(t){var r=this.__data__,e=S(r,t);if(e<0)return!1;var o=r.length-1;return e==o?r.pop():Oo.call(r,e,1),--this.size,!0}var kt=No;function Po(t){var r=this.__data__,e=S(r,t);return e<0?void 0:r[e][1]}var Vt=Po;function yo(t){return S(this.__data__,t)>-1}var Wt=yo;function Ro(t,r){var e=this.__data__,o=S(e,t);return o<0?(++this.size,e.push([t,r])):e[o][1]=r,this}var qt=Ro;function Y(t){var r=-1,e=t==null?0:t.length;for(this.clear();++r<e;){var o=t[r];this.set(o[0],o[1])}}Y.prototype.clear=Jt;Y.prototype.delete=kt;Y.prototype.get=Vt;Y.prototype.has=Wt;Y.prototype.set=qt;var h=Y;function go(){this.__data__=new h,this.size=0}var Qt=go;function So(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e}var zt=So;function ho(t){return this.__data__.get(t)}var Xt=ho;function Co(t){return this.__data__.has(t)}var $t=Co;function bo(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}var l=bo;var Io="[object AsyncFunction]",Mo="[object Function]",Lo="[object GeneratorFunction]",Yo="[object Proxy]";function Do(t){if(!l(t))return!1;var r=y(t);return r==Mo||r==Lo||r==Io||r==Yo}var D=Do;var Uo=T["__core-js_shared__"],nt=Uo;var Zt=function(){var t=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ko(t){return!!Zt&&Zt in t}var tr=Ko;var vo=Function.prototype,wo=vo.toString;function jo(t){if(t!=null){try{return wo.call(t)}catch{}try{return t+""}catch{}}return""}var rr=jo;var Fo=/[\\^$.*+?()[\]{}|]/g,Ho=/^\[object .+?Constructor\]$/,Go=Function.prototype,Bo=Object.prototype,Jo=Go.toString,ko=Bo.hasOwnProperty,Vo=RegExp("^"+Jo.call(ko).replace(Fo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wo(t){if(!l(t)||tr(t))return!1;var r=D(t)?Vo:Ho;return r.test(rr(t))}var er=Wo;function qo(t,r){return t?.[r]}var or=qo;function Qo(t,r){var e=or(t,r);return er(e)?e:void 0}var U=Qo;var zo=U(T,"Map"),at=zo;var Xo=U(Object,"create"),R=Xo;function $o(){this.__data__=R?R(null):{},this.size=0}var nr=$o;function Zo(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}var ar=Zo;var tn="__lodash_hash_undefined__",rn=Object.prototype,en=rn.hasOwnProperty;function on(t){var r=this.__data__;if(R){var e=r[t];return e===tn?void 0:e}return en.call(r,t)?r[t]:void 0}var sr=on;var nn=Object.prototype,an=nn.hasOwnProperty;function sn(t){var r=this.__data__;return R?r[t]!==void 0:an.call(r,t)}var ir=sn;var cn="__lodash_hash_undefined__";function pn(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=R&&r===void 0?cn:r,this}var cr=pn;function K(t){var r=-1,e=t==null?0:t.length;for(this.clear();++r<e;){var o=t[r];this.set(o[0],o[1])}}K.prototype.clear=nr;K.prototype.delete=ar;K.prototype.get=sr;K.prototype.has=ir;K.prototype.set=cr;var Rt=K;function fn(){this.size=0,this.__data__={hash:new Rt,map:new(at||h),string:new Rt}}var pr=fn;function _n(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}var fr=_n;function un(t,r){var e=t.__data__;return fr(r)?e[typeof r=="string"?"string":"hash"]:e.map}var C=un;function ln(t){var r=C(this,t).delete(t);return this.size-=r?1:0,r}var _r=ln;function mn(t){return C(this,t).get(t)}var ur=mn;function En(t){return C(this,t).has(t)}var lr=En;function xn(t,r){var e=C(this,t),o=e.size;return e.set(t,r),this.size+=e.size==o?0:1,this}var mr=xn;function v(t){var r=-1,e=t==null?0:t.length;for(this.clear();++r<e;){var o=t[r];this.set(o[0],o[1])}}v.prototype.clear=pr;v.prototype.delete=_r;v.prototype.get=ur;v.prototype.has=lr;v.prototype.set=mr;var Er=v;var Tn=200;function dn(t,r){var e=this.__data__;if(e instanceof h){var o=e.__data__;if(!at||o.length<Tn-1)return o.push([t,r]),this.size=++e.size,this;e=this.__data__=new Er(o)}return e.set(t,r),this.size=e.size,this}var xr=dn;function w(t){var r=this.__data__=new h(t);this.size=r.size}w.prototype.clear=Qt;w.prototype.delete=zt;w.prototype.get=Xt;w.prototype.has=$t;w.prototype.set=xr;var Tr=w;var An=function(){try{var t=U(Object,"defineProperty");return t({},"",{}),t}catch{}}(),j=An;function On(t,r,e){r=="__proto__"&&j?j(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e}var F=On;function Nn(t,r,e){(e!==void 0&&!g(t[r],e)||e===void 0&&!(r in t))&&F(t,r,e)}var V=Nn;function Pn(t){return function(r,e,o){for(var n=-1,a=Object(r),c=o(r),s=c.length;s--;){var p=c[t?s:++n];if(e(a[p],p,a)===!1)break}return r}}var dr=Pn;var yn=dr(),Ar=yn;var yr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Or=yr&&typeof module=="object"&&module&&!module.nodeType&&module,Rn=Or&&Or.exports===yr,Nr=Rn?T.Buffer:void 0,Pr=Nr?Nr.allocUnsafe:void 0;function gn(t,r){if(r)return t.slice();var e=t.length,o=Pr?Pr(e):new t.constructor(e);return t.copy(o),o}var Rr=gn;var Sn=T.Uint8Array,gt=Sn;function hn(t){var r=new t.constructor(t.byteLength);return new gt(r).set(new gt(t)),r}var gr=hn;function Cn(t,r){var e=r?gr(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}var Sr=Cn;function bn(t,r){var e=-1,o=t.length;for(r||(r=Array(o));++e<o;)r[e]=t[e];return r}var hr=bn;var Cr=Object.create,In=function(){function t(){}return function(r){if(!l(r))return{};if(Cr)return Cr(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}(),br=In;var Mn=Object.prototype;function Ln(t){var r=t&&t.constructor,e=typeof r=="function"&&r.prototype||Mn;return t===e}var st=Ln;function Yn(t){return typeof t.constructor=="function"&&!st(t)?br(ot(t)):{}}var Ir=Yn;var Dn="[object Arguments]";function Un(t){return d(t)&&y(t)==Dn}var St=Un;var Mr=Object.prototype,Kn=Mr.hasOwnProperty,vn=Mr.propertyIsEnumerable,wn=St(function(){return arguments}())?St:function(t){return d(t)&&Kn.call(t,"callee")&&!vn.call(t,"callee")},W=wn;var jn=Array.isArray,I=jn;var Fn=9007199254740991;function Hn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Fn}var it=Hn;function Gn(t){return t!=null&&it(t.length)&&!D(t)}var H=Gn;function Bn(t){return d(t)&&H(t)}var Lr=Bn;function Jn(){return!1}var Yr=Jn;var Kr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Dr=Kr&&typeof module=="object"&&module&&!module.nodeType&&module,kn=Dr&&Dr.exports===Kr,Ur=kn?T.Buffer:void 0,Vn=Ur?Ur.isBuffer:void 0,Wn=Vn||Yr,ct=Wn;var qn="[object Arguments]",Qn="[object Array]",zn="[object Boolean]",Xn="[object Date]",$n="[object Error]",Zn="[object Function]",ta="[object Map]",ra="[object Number]",ea="[object Object]",oa="[object RegExp]",na="[object Set]",aa="[object String]",sa="[object WeakMap]",ia="[object ArrayBuffer]",ca="[object DataView]",pa="[object Float32Array]",fa="[object Float64Array]",_a="[object Int8Array]",ua="[object Int16Array]",la="[object Int32Array]",ma="[object Uint8Array]",Ea="[object Uint8ClampedArray]",xa="[object Uint16Array]",Ta="[object Uint32Array]",i={};i[pa]=i[fa]=i[_a]=i[ua]=i[la]=i[ma]=i[Ea]=i[xa]=i[Ta]=!0;i[qn]=i[Qn]=i[ia]=i[zn]=i[ca]=i[Xn]=i[$n]=i[Zn]=i[ta]=i[ra]=i[ea]=i[oa]=i[na]=i[aa]=i[sa]=!1;function da(t){return d(t)&&it(t.length)&&!!i[y(t)]}var vr=da;function Aa(t){return function(r){return t(r)}}var wr=Aa;var jr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,q=jr&&typeof module=="object"&&module&&!module.nodeType&&module,Oa=q&&q.exports===jr,ht=Oa&&et.process,Na=function(){try{var t=q&&q.require&&q.require("util").types;return t||ht&&ht.binding&&ht.binding("util")}catch{}}(),Ct=Na;var Fr=Ct&&Ct.isTypedArray,Pa=Fr?wr(Fr):vr,pt=Pa;function ya(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}var Q=ya;var Ra=Object.prototype,ga=Ra.hasOwnProperty;function Sa(t,r,e){var o=t[r];(!(ga.call(t,r)&&g(o,e))||e===void 0&&!(r in t))&&F(t,r,e)}var Hr=Sa;function ha(t,r,e,o){var n=!e;e||(e={});for(var a=-1,c=r.length;++a<c;){var s=r[a],p=o?o(e[s],t[s],s,e,t):void 0;p===void 0&&(p=t[s]),n?F(e,s,p):Hr(e,s,p)}return e}var Gr=ha;function Ca(t,r){for(var e=-1,o=Array(t);++e<t;)o[e]=r(e);return o}var Br=Ca;var ba=9007199254740991,Ia=/^(?:0|[1-9]\d*)$/;function Ma(t,r){var e=typeof t;return r=r??ba,!!r&&(e=="number"||e!="symbol"&&Ia.test(t))&&t>-1&&t%1==0&&t<r}var ft=Ma;var La=Object.prototype,Ya=La.hasOwnProperty;function Da(t,r){var e=I(t),o=!e&&W(t),n=!e&&!o&&ct(t),a=!e&&!o&&!n&&pt(t),c=e||o||n||a,s=c?Br(t.length,String):[],p=s.length;for(var x in t)(r||Ya.call(t,x))&&!(c&&(x=="length"||n&&(x=="offset"||x=="parent")||a&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||ft(x,p)))&&s.push(x);return s}var Jr=Da;function Ua(t){var r=[];if(t!=null)for(var e in Object(t))r.push(e);return r}var kr=Ua;var Ka=Object.prototype,va=Ka.hasOwnProperty;function wa(t){if(!l(t))return kr(t);var r=st(t),e=[];for(var o in t)o=="constructor"&&(r||!va.call(t,o))||e.push(o);return e}var Vr=wa;function ja(t){return H(t)?Jr(t,!0):Vr(t)}var _t=ja;function Fa(t){return Gr(t,_t(t))}var Wr=Fa;function Ha(t,r,e,o,n,a,c){var s=Q(t,e),p=Q(r,e),x=c.get(p);if(x){V(t,e,x);return}var m=a?a(s,p,e+"",t,r,c):void 0,J=m===void 0;if(J){var Pt=I(p),yt=!Pt&&ct(p),vt=!Pt&&!yt&&pt(p);m=p,Pt||yt||vt?I(s)?m=s:Lr(s)?m=hr(s):yt?(J=!1,m=Rr(p,!0)):vt?(J=!1,m=Sr(p,!0)):m=[]:A(p)||W(p)?(m=s,W(s)?m=Wr(s):(!l(s)||D(s))&&(m=Ir(p))):J=!1}J&&(c.set(p,m),n(m,p,o,a,c),c.delete(p)),V(t,e,m)}var qr=Ha;function Qr(t,r,e,o,n){t!==r&&Ar(r,function(a,c){if(n||(n=new Tr),l(a))qr(t,r,c,e,Qr,o,n);else{var s=o?o(Q(t,c),a,c+"",t,r,n):void 0;s===void 0&&(s=a),V(t,c,s)}},_t)}var zr=Qr;function Ga(t){return t}var ut=Ga;function Ba(t,r,e){switch(e.length){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)}var Xr=Ba;var $r=Math.max;function Ja(t,r,e){return r=$r(r===void 0?t.length-1:r,0),function(){for(var o=arguments,n=-1,a=$r(o.length-r,0),c=Array(a);++n<a;)c[n]=o[r+n];n=-1;for(var s=Array(r+1);++n<r;)s[n]=o[n];return s[r]=e(c),Xr(t,this,s)}}var Zr=Ja;function ka(t){return function(){return t}}var te=ka;var Va=j?function(t,r){return j(t,"toString",{configurable:!0,enumerable:!1,value:te(r),writable:!0})}:ut,re=Va;var Wa=800,qa=16,Qa=Date.now;function za(t){var r=0,e=0;return function(){var o=Qa(),n=qa-(o-e);if(e=o,n>0){if(++r>=Wa)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}var ee=za;var Xa=ee(re),oe=Xa;function $a(t,r){return oe(Zr(t,r,ut),t+"")}var ne=$a;function Za(t,r,e){if(!l(e))return!1;var o=typeof r;return(o=="number"?H(e)&&ft(r,e.length):o=="string"&&r in e)?g(e[r],t):!1}var ae=Za;function ts(t){return ne(function(r,e){var o=-1,n=e.length,a=n>1?e[n-1]:void 0,c=n>2?e[2]:void 0;for(a=t.length>3&&typeof a=="function"?(n--,a):void 0,c&&ae(e[0],e[1],c)&&(a=n<3?void 0:a,n=1),r=Object(r);++o<n;){var s=e[o];s&&t(r,s,o,a)}return r})}var se=ts;var rs=se(function(t,r,e){zr(t,r,e)}),z=rs;var es="[object String]";function os(t){return typeof t=="string"||!I(t)&&d(t)&&y(t)==es}var O=os;var ie=(t,r)=>!!t.filter(e=>e===r).length,bt=t=>Array.isArray(t)?t:[t],b=(t,r=!0)=>{try{return O(t)?JSON.parse(t):JSON.parse(JSON.stringify(t))}catch(e){if(r)return t;throw e}},E=(t,r)=>{try{let e=Object.keys(t);return ie(e,r)}catch(e){return!1}},ns=(...t)=>t.join("_"),as=(t,r)=>r&&A(r)&&t in r?r[t]:void 0,ss=t=>t!==void 0&&t!==!1&&t!==null&&(t+"").trim()!=="",is=t=>typeof t=="function"?!0:(console.error(`Expect to be Function type! Got ${typeof t}`),!1),cs=(...t)=>Reflect.apply(Object.assign,Object,t),It=()=>!1,ps=t=>Object.freeze(t);var fs=(t,...r)=>(...e)=>r.reduce((o,n)=>Reflect.apply(n,null,bt(o)),Reflect.apply(t,null,e));function _s(t,r=!1){return t.reduce((e,o)=>e.then(n=>o.then(a=>r===!1?[...n,a]:z(n,a))),Promise.resolve(r===!1?[]:A(r)?r:{}))}function us(t,...r){return(...e)=>r.reduce((o,n)=>o.then(a=>n(a)),Reflect.apply(t,null,e))}var lt="data",X="error";var pe="jsonql",ce="application/vnd.api+json",ls="charset=utf-8",J_={Accept:ce,"Content-Type":[ce,ls].join("")};var $="query",Z="mutation",mt="socket";var G="payload",B="condition",Mt="resolverName",M="args",f="TS";var fe=["POST","PUT"];var _e="public";var Lt=-1;var Et=404;var xt="__reply__",Tt="__event__",dt="__data__";var ue="emit_reply",le="emit_send",me="emit_acknowledge";var tt="nspGroup",At="publicNamespace";var Ee="base64";var xe="pem",ms="publicKey",Es="privateKey",W_=[ms,xe].join("."),q_=[Es,xe].join(".");var N=class extends Error{constructor(...e){super(...e);this.message=e[0],this.detail=e[1],this.className=N.name,Error.captureStackTrace&&Error.captureStackTrace(this,N)}static get statusCode(){return Et}};var _=class extends Error{constructor(...e){super(...e);this.message=e[0],this.detail=e[1],this.className=_.name,Error.captureStackTrace&&Error.captureStackTrace(this,_)}};var u=class extends Error{constructor(...e){super(...e);this.message=e[0],this.detail=e[1],this.className=u.name,Error.captureStackTrace&&Error.captureStackTrace(this,u)}static get statusCode(){return Lt}};function be(t){return A(t)&&(E(t,$)||E(t,Z)||E(t,mt))}function As(t){return be(t)?t:!1}function Dt(t){return E(t,mt)?t[mt]:!1}function Os(t,r){switch(r){case $:return t[M];case Z:return[t[G],t[B]];default:throw new u(`Unknown ${r} to extract argument from!`)}}function Ns(t,r,e){try{let o=t[r][e];if(!o)throw new N(e,r);return o}catch(o){throw new N(e,o)}}var Ps=t=>{let r=t.trim(),e=r.substring(0,1);return(e==="_"||e==="-"?r.substring(1):r).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()};function ys(t,r=Ee){return Buffer.isBuffer(t)?t:Buffer.from(t,r)}var Rs=t=>window.btoa(unescape(encodeURIComponent(t))),gs=t=>decodeURIComponent(escape(window.atob(t)));function Ss(...t){try{window&&window.DEBUG&&Reflect.apply(console.log,console,t)}catch(r){}}var hs=t=>{let r=[t];return(...e)=>{try{window&&window.JSONQL_DEBUG&&Reflect.apply(console.info,console,r.concat(e))}catch(o){}}};var Cs="socket not found in contract!",Ie="size";function bs(t,r){let e={};for(let o in t){let n=t[o];e[o]=n}return{size:1,nspGroup:{[r]:e},publicNamespace:r}}function Me(t){let r=Dt(t);if(r===!1)throw new u("groupByNamespace",Cs);let e={[tt]:{},[At]:null,[Ie]:0};for(let o in r){let n=r[o],{namespace:a}=n;a&&(e[tt][a]||(++e[Ie],e[tt][a]={}),e[tt][a][o]=n,!e[At]&&n[_e]&&(e[At]=a))}return e}function Is(t,r){let e=[];for(let o in t)o===r?e[1]=o:e[0]=o;return e}function Le(t){let r=pe;return t.enableAuth?[[r,t.privateNamespace].join("/"),[r,t.publicNamespace].join("/")]:[r]}function Ms(t){return t.length>1?t[0]:!1}function Ls(t){let{contract:r,enableAuth:e}=t,o=Le(t),n=e?Me(r):bs(r.socket,o[0]);return Object.assign(n,{namespaces:o})}function Ys(t,r,e,o=null){return Object.getOwnPropertyDescriptor(t,r)===void 0&&Object.defineProperty(t,r,{set:e,get:o===null?function(){return null}:o}),t}function Ye(t,r){let e=Object.getOwnPropertyDescriptor(t,r);return e!==void 0&&e.value?e.value:e}function Ds(t,r,e,o=!1){let n=Ye(t,r);return o===!1&&n!==void 0||Object.defineProperty(t,r,{value:e,writable:o}),t}var P=(t=!1)=>{let r=Date.now();return t?Math.floor(r/1e3):r};var Ut=t=>{let r=t[f];return Array.isArray(r)||(r=[r]),r.push(P()),r},De=t=>O(t)?b(t):t,Nt=t=>({[M]:t});function Ue(t){return Object.keys(t).filter(e=>e!==f)[0]}function rt(t,r,e={}){return Object.assign({[t]:r,[f]:[P()]},e)}function Ke(t,r=[],e=!1){if(O(t)&&Array.isArray(r)){let o=Nt(r);return e===!0?o:rt(t,o)}throw new _("utils:params-api:createQuery",{message:"expect resolverName to be string and args to be array!",resolverName:t,args:r})}function Us(t,r=[],e=!1){return JSON.stringify(Ke(t,r,e))}function ve(t,r,e={},o=!1){let n={[G]:r,[B]:e};if(o===!0)return n;if(O(t))return rt(t,n);throw new _("[createMutation] expect resolverName to be string!",{resolverName:t,payload:r,condition:e})}function Ks(t,r,e={},o=!1){return JSON.stringify(ve(t,r,e,o))}function we(t,r){if(t&&A(r)){let e=r[t];if(e[M])return{[Mt]:t,[M]:e[M],[f]:Ut(r)}}return!1}function je(t,r){let e=De(t),o=Ue(e);return Reflect.apply(r,null,[o,e])}function vs(t){let r=je(t,we);if(r!==!1)return r;throw new _("[getQueryArgs] Payload is malformed!",t)}function Fe(t,r){if(t&&A(r)){let e=r[t];if(e)return{[Mt]:t,[G]:e[G],[B]:e[B],[f]:Ut(r)}}return!1}function ws(t){let r=je(t,Fe);if(r!==!1)return r;throw new _("[getMutationArgs] Payload is malformed!",t)}function He(t){return t instanceof RegExp}function js(t){switch(!0){case He(t)===!0:return t;case O(t)===!0:return new RegExp(t);default:return!1}}var Fs=t=>{let[r,e]=fe;switch(!0){case t===r:return $;case t===e:return Z;default:return!1}},Hs=function(t,r=!1){let e={[lt]:t};return r&&Array.isArray(r)&&(r.push(P()),e[f]=r),JSON.stringify(e)},Ge=t=>["detail","className"].filter(o=>E(t,o)).length?["className","message","statusCode"].filter(o=>E(t,o)).map(o=>({[o]:typeof t[o]=="object"?t[o].toString():t[o]})).reduce(z,{detail:t.toString()}):!1,Gs=function(t,r="JsonqlError",e=0,o=""){let n={detail:t,className:r,statusCode:e,message:o};return JSON.stringify({[X]:Ge(t)||n,[f]:[P()]})},Bs=t=>E(t,lt)&&!E(t,X)?t[lt]:t;var Js="payload can not decoded",Be=[xt,Tt,dt],ks=(t,r,e=!1)=>{if(O(t)&&Array.isArray(r)){let o=Nt(r),n=rt(t,o,{type:le});return e?JSON.stringify(n):n}throw new _("utils:socket:createSendMsg",{resolverName:t,args:r,message:"expect resolverName to be string and args to be array!"})},Vs=t=>{let r={data:{}};if(r[f]=[],t[f]){let e=t[f];r[f]=Array.isArray(e)?e:[e],delete t[f]}return r.data=t,r},Kt=(t,r,e,o=[])=>{let n=Vs(b(e));return o=o.concat(n[f]),o.length||o.push(P()),JSON.stringify({data:{[xt]:t,[Tt]:r,[dt]:n.data},[f]:o})},Ws=(t,r,e=[])=>Kt(ue,t,r,e),qs=(t,r,e=[])=>Kt(me,t,r,e),Je=t=>{let r=O(t)?b(t):t,{data:e}=r;return e&&Be.filter(n=>E(e,n)).length===Be.length?e:!1},Qs=(t,r=It)=>{try{let e=b(t),o;if((o=Je(e))!==!1)return Reflect.apply(r,null,["_data",o]),{data:b(o[dt]),resolverName:o[Tt],type:o[xt]};throw new u(Js,t)}catch(e){return Reflect.apply(r,null,[X,e])}};var ke=(t,r)=>{let e=[];for(let o in r)e.push([o,r[o]].join("="));return[t,e.join("&")].join("?")},zs=t=>ke(t,Ve()),Ve=()=>({_cb:P()});})();
//# sourceMappingURL=browser.js.map
