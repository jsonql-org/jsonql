"use strict";var mo=Object.create;var fr=Object.defineProperty;var po=Object.getOwnPropertyDescriptor;var ho=Object.getOwnPropertyNames;var go=Object.getPrototypeOf,Eo=Object.prototype.hasOwnProperty;var F=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var m=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var So=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ho(t))!Eo.call(e,i)&&i!==r&&fr(e,i,{get:()=>t[i],enumerable:!(n=po(t,i))||n.enumerable});return e};var _t=(e,t,r)=>(r=e!=null?mo(go(e)):{},So(t||!e||!e.__esModule?fr(r,"default",{value:e,enumerable:!0}):r,e));var ze=(e,t,r)=>new Promise((n,i)=>{var o=f=>{try{a(r.next(f))}catch(p){i(p)}},u=f=>{try{a(r.throw(f))}catch(p){i(p)}},a=f=>f.done?n(f.value):Promise.resolve(f.value).then(o,u);a((r=r.apply(e,t)).next())});var Y=m(jt=>{"use strict";jt.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{e.call(this,...t,(i,o)=>i!=null?n(i):r(o))})},"name",{value:e.name})};jt.fromPromise=function(e){return Object.defineProperty(function(...t){let r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(n=>r(null,n),r)},"name",{value:e.name})}});var yr=m((sa,lr)=>{var ie=F("constants"),Oo=process.cwd,Qe=null,wo=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Qe||(Qe=Oo.call(process)),Qe};try{process.cwd()}catch{}typeof process.chdir=="function"&&(xt=process.chdir,process.chdir=function(e){Qe=null,xt.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,xt));var xt;lr.exports=Co;function Co(e){ie.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=u(e.chownSync),e.fchownSync=u(e.fchownSync),e.lchownSync=u(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=f(e.statSync),e.fstatSync=f(e.fstatSync),e.lstatSync=f(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(s,l,y){y&&process.nextTick(y)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(s,l,y,d){d&&process.nextTick(d)},e.lchownSync=function(){}),wo==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(s){function l(y,d,h){var S=Date.now(),E=0;s(y,d,function O(T){if(T&&(T.code==="EACCES"||T.code==="EPERM")&&Date.now()-S<6e4){setTimeout(function(){e.stat(d,function(R,re){R&&R.code==="ENOENT"?s(y,d,O):h(T)})},E),E<100&&(E+=10);return}h&&h(T)})}return Object.setPrototypeOf&&Object.setPrototypeOf(l,s),l}(e.rename)),e.read=typeof e.read!="function"?e.read:function(s){function l(y,d,h,S,E,O){var T;if(O&&typeof O=="function"){var R=0;T=function(re,bt,we){if(re&&re.code==="EAGAIN"&&R<10)return R++,s.call(e,y,d,h,S,E,T);O.apply(this,arguments)}}return s.call(e,y,d,h,S,E,T)}return Object.setPrototypeOf&&Object.setPrototypeOf(l,s),l}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(s){return function(l,y,d,h,S){for(var E=0;;)try{return s.call(e,l,y,d,h,S)}catch(O){if(O.code==="EAGAIN"&&E<10){E++;continue}throw O}}}(e.readSync);function t(s){s.lchmod=function(l,y,d){s.open(l,ie.O_WRONLY|ie.O_SYMLINK,y,function(h,S){if(h){d&&d(h);return}s.fchmod(S,y,function(E){s.close(S,function(O){d&&d(E||O)})})})},s.lchmodSync=function(l,y){var d=s.openSync(l,ie.O_WRONLY|ie.O_SYMLINK,y),h=!0,S;try{S=s.fchmodSync(d,y),h=!1}finally{if(h)try{s.closeSync(d)}catch{}else s.closeSync(d)}return S}}function r(s){ie.hasOwnProperty("O_SYMLINK")&&s.futimes?(s.lutimes=function(l,y,d,h){s.open(l,ie.O_SYMLINK,function(S,E){if(S){h&&h(S);return}s.futimes(E,y,d,function(O){s.close(E,function(T){h&&h(O||T)})})})},s.lutimesSync=function(l,y,d){var h=s.openSync(l,ie.O_SYMLINK),S,E=!0;try{S=s.futimesSync(h,y,d),E=!1}finally{if(E)try{s.closeSync(h)}catch{}else s.closeSync(h)}return S}):s.futimes&&(s.lutimes=function(l,y,d,h){h&&process.nextTick(h)},s.lutimesSync=function(){})}function n(s){return s&&function(l,y,d){return s.call(e,l,y,function(h){p(h)&&(h=null),d&&d.apply(this,arguments)})}}function i(s){return s&&function(l,y){try{return s.call(e,l,y)}catch(d){if(!p(d))throw d}}}function o(s){return s&&function(l,y,d,h){return s.call(e,l,y,d,function(S){p(S)&&(S=null),h&&h.apply(this,arguments)})}}function u(s){return s&&function(l,y,d){try{return s.call(e,l,y,d)}catch(h){if(!p(h))throw h}}}function a(s){return s&&function(l,y,d){typeof y=="function"&&(d=y,y=null);function h(S,E){E&&(E.uid<0&&(E.uid+=4294967296),E.gid<0&&(E.gid+=4294967296)),d&&d.apply(this,arguments)}return y?s.call(e,l,y,h):s.call(e,l,h)}}function f(s){return s&&function(l,y){var d=y?s.call(e,l,y):s.call(e,l);return d&&(d.uid<0&&(d.uid+=4294967296),d.gid<0&&(d.gid+=4294967296)),d}}function p(s){if(!s||s.code==="ENOSYS")return!0;var l=!process.getuid||process.getuid()!==0;return!!(l&&(s.code==="EINVAL"||s.code==="EPERM"))}}});var pr=m((ca,dr)=>{var mr=F("stream").Stream;dr.exports=vo;function vo(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);mr.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var u=Object.keys(i),a=0,f=u.length;a<f;a++){var p=u[a];this[p]=i[p]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(s,l){if(s){o.emit("error",s),o.readable=!1;return}o.fd=l,o.emit("open",l),o._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);mr.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),u=0,a=o.length;u<a;u++){var f=o[u];this[f]=i[f]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var gr=m((aa,hr)=>{"use strict";hr.exports=Fo;var Po=Object.getPrototypeOf||function(e){return e.__proto__};function Fo(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:Po(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var U=m((fa,Nt)=>{var _=F("fs"),bo=yr(),qo=pr(),_o=gr(),Xe=F("util"),I,et;typeof Symbol=="function"&&typeof Symbol.for=="function"?(I=Symbol.for("graceful-fs.queue"),et=Symbol.for("graceful-fs.previous")):(I="___graceful-fs.queue",et="___graceful-fs.previous");function jo(){}function Or(e,t){Object.defineProperty(e,I,{get:function(){return t}})}var pe=jo;Xe.debuglog?pe=Xe.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(pe=function(){var e=Xe.format.apply(Xe,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});_[I]||(Er=global[I]||[],Or(_,Er),_.close=function(e){function t(r,n){return e.call(_,r,function(i){i||Sr(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,et,{value:e}),t}(_.close),_.closeSync=function(e){function t(r){e.apply(_,arguments),Sr()}return Object.defineProperty(t,et,{value:e}),t}(_.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){pe(_[I]),F("assert").equal(_[I].length,0)}));var Er;global[I]||Or(global,_[I]);Nt.exports=Tt(_o(_));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!_.__patched&&(Nt.exports=Tt(_),_.__patched=!0);function Tt(e){bo(e),e.gracefulify=Tt,e.createReadStream=bt,e.createWriteStream=we;var t=e.readFile;e.readFile=r;function r(g,C,w){return typeof C=="function"&&(w=C,C=null),A(g,C,w);function A(M,k,q,j){return t(M,k,function(P){P&&(P.code==="EMFILE"||P.code==="ENFILE")?ve([A,[M,k,q],P,j||Date.now(),Date.now()]):typeof q=="function"&&q.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(g,C,w,A){return typeof w=="function"&&(A=w,w=null),M(g,C,w,A);function M(k,q,j,P,L){return n(k,q,j,function(b){b&&(b.code==="EMFILE"||b.code==="ENFILE")?ve([M,[k,q,j,P],b,L||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=u);function u(g,C,w,A){return typeof w=="function"&&(A=w,w=null),M(g,C,w,A);function M(k,q,j,P,L){return o(k,q,j,function(b){b&&(b.code==="EMFILE"||b.code==="ENFILE")?ve([M,[k,q,j,P],b,L||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=f);function f(g,C,w,A){return typeof w=="function"&&(A=w,w=0),M(g,C,w,A);function M(k,q,j,P,L){return a(k,q,j,function(b){b&&(b.code==="EMFILE"||b.code==="ENFILE")?ve([M,[k,q,j,P],b,L||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}var p=e.readdir;e.readdir=l;var s=/^v[0-5]\./;function l(g,C,w){typeof C=="function"&&(w=C,C=null);var A=s.test(process.version)?function(q,j,P,L){return p(q,M(q,j,P,L))}:function(q,j,P,L){return p(q,j,M(q,j,P,L))};return A(g,C,w);function M(k,q,j,P){return function(L,b){L&&(L.code==="EMFILE"||L.code==="ENFILE")?ve([A,[k,q,j],L,P||Date.now(),Date.now()]):(b&&b.sort&&b.sort(),typeof j=="function"&&j.call(this,L,b))}}}if(process.version.substr(0,4)==="v0.8"){var y=qo(e);O=y.ReadStream,R=y.WriteStream}var d=e.ReadStream;d&&(O.prototype=Object.create(d.prototype),O.prototype.open=T);var h=e.WriteStream;h&&(R.prototype=Object.create(h.prototype),R.prototype.open=re),Object.defineProperty(e,"ReadStream",{get:function(){return O},set:function(g){O=g},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return R},set:function(g){R=g},enumerable:!0,configurable:!0});var S=O;Object.defineProperty(e,"FileReadStream",{get:function(){return S},set:function(g){S=g},enumerable:!0,configurable:!0});var E=R;Object.defineProperty(e,"FileWriteStream",{get:function(){return E},set:function(g){E=g},enumerable:!0,configurable:!0});function O(g,C){return this instanceof O?(d.apply(this,arguments),this):O.apply(Object.create(O.prototype),arguments)}function T(){var g=this;Ce(g.path,g.flags,g.mode,function(C,w){C?(g.autoClose&&g.destroy(),g.emit("error",C)):(g.fd=w,g.emit("open",w),g.read())})}function R(g,C){return this instanceof R?(h.apply(this,arguments),this):R.apply(Object.create(R.prototype),arguments)}function re(){var g=this;Ce(g.path,g.flags,g.mode,function(C,w){C?(g.destroy(),g.emit("error",C)):(g.fd=w,g.emit("open",w))})}function bt(g,C){return new e.ReadStream(g,C)}function we(g,C){return new e.WriteStream(g,C)}var qt=e.open;e.open=Ce;function Ce(g,C,w,A){return typeof w=="function"&&(A=w,w=null),M(g,C,w,A);function M(k,q,j,P,L){return qt(k,q,j,function(b,ia){b&&(b.code==="EMFILE"||b.code==="ENFILE")?ve([M,[k,q,j,P],b,L||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}return e}function ve(e){pe("ENQUEUE",e[0].name,e[1]),_[I].push(e),kt()}var Ze;function Sr(){for(var e=Date.now(),t=0;t<_[I].length;++t)_[I][t].length>2&&(_[I][t][3]=e,_[I][t][4]=e);kt()}function kt(){if(clearTimeout(Ze),Ze=void 0,_[I].length!==0){var e=_[I].shift(),t=e[0],r=e[1],n=e[2],i=e[3],o=e[4];if(i===void 0)pe("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){pe("TIMEOUT",t.name,r);var u=r.pop();typeof u=="function"&&u.call(null,n)}else{var a=Date.now()-o,f=Math.max(o-i,1),p=Math.min(f*1.2,100);a>=p?(pe("RETRY",t.name,r),t.apply(null,r.concat([i]))):_[I].push(e)}Ze===void 0&&(Ze=setTimeout(kt,0))}}});var he=m(oe=>{"use strict";var wr=Y().fromCallback,V=U(),xo=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof V[e]=="function");Object.assign(oe,V);xo.forEach(e=>{oe[e]=wr(V[e])});oe.exists=function(e,t){return typeof t=="function"?V.exists(e,t):new Promise(r=>V.exists(e,r))};oe.read=function(e,t,r,n,i,o){return typeof o=="function"?V.read(e,t,r,n,i,o):new Promise((u,a)=>{V.read(e,t,r,n,i,(f,p,s)=>{if(f)return a(f);u({bytesRead:p,buffer:s})})})};oe.write=function(e,t,...r){return typeof r[r.length-1]=="function"?V.write(e,t,...r):new Promise((n,i)=>{V.write(e,t,...r,(o,u,a)=>{if(o)return i(o);n({bytesWritten:u,buffer:a})})})};typeof V.writev=="function"&&(oe.writev=function(e,t,...r){return typeof r[r.length-1]=="function"?V.writev(e,t,...r):new Promise((n,i)=>{V.writev(e,t,...r,(o,u,a)=>{if(o)return i(o);n({bytesWritten:u,buffers:a})})})});typeof V.realpath.native=="function"?oe.realpath.native=wr(V.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var vr=m((ya,Cr)=>{"use strict";var To=F("path");Cr.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(To.parse(t).root,""))){let n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}}});var qr=m((ma,Dt)=>{"use strict";var Pr=he(),{checkPath:Fr}=vr(),br=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};Dt.exports.makeDir=async(e,t)=>(Fr(e),Pr.mkdir(e,{mode:br(t),recursive:!0}));Dt.exports.makeDirSync=(e,t)=>(Fr(e),Pr.mkdirSync(e,{mode:br(t),recursive:!0}))});var Z=m((da,_r)=>{"use strict";var ko=Y().fromPromise,{makeDir:No,makeDirSync:Rt}=qr(),At=ko(No);_r.exports={mkdirs:At,mkdirsSync:Rt,mkdirp:At,mkdirpSync:Rt,ensureDir:At,ensureDirSync:Rt}});var ue=m((pa,xr)=>{"use strict";var Do=Y().fromPromise,jr=he();function Ro(e){return jr.access(e).then(()=>!0).catch(()=>!1)}xr.exports={pathExists:Do(Ro),pathExistsSync:jr.existsSync}});var Mt=m((ha,Tr)=>{"use strict";var Pe=U();function Ao(e,t,r,n){Pe.open(e,"r+",(i,o)=>{if(i)return n(i);Pe.futimes(o,t,r,u=>{Pe.close(o,a=>{n&&n(u||a)})})})}function Mo(e,t,r){let n=Pe.openSync(e,"r+");return Pe.futimesSync(n,t,r),Pe.closeSync(n)}Tr.exports={utimesMillis:Ao,utimesMillisSync:Mo}});var ge=m((ga,Dr)=>{"use strict";var Fe=he(),N=F("path"),Lo=F("util");function Io(e,t,r){let n=r.dereference?i=>Fe.stat(i,{bigint:!0}):i=>Fe.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,o])=>({srcStat:i,destStat:o}))}function Jo(e,t,r){let n,i=r.dereference?u=>Fe.statSync(u,{bigint:!0}):u=>Fe.lstatSync(u,{bigint:!0}),o=i(e);try{n=i(t)}catch(u){if(u.code==="ENOENT")return{srcStat:o,destStat:null};throw u}return{srcStat:o,destStat:n}}function Bo(e,t,r,n,i){Lo.callbackify(Io)(e,t,n,(o,u)=>{if(o)return i(o);let{srcStat:a,destStat:f}=u;if(f){if(Ie(a,f)){let p=N.basename(e),s=N.basename(t);return r==="move"&&p!==s&&p.toLowerCase()===s.toLowerCase()?i(null,{srcStat:a,destStat:f,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!f.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!a.isDirectory()&&f.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return a.isDirectory()&&Lt(e,t)?i(new Error(tt(e,t,r))):i(null,{srcStat:a,destStat:f})})}function $o(e,t,r,n){let{srcStat:i,destStat:o}=Jo(e,t,n);if(o){if(Ie(i,o)){let u=N.basename(e),a=N.basename(t);if(r==="move"&&u!==a&&u.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Lt(e,t))throw new Error(tt(e,t,r));return{srcStat:i,destStat:o}}function kr(e,t,r,n,i){let o=N.resolve(N.dirname(e)),u=N.resolve(N.dirname(r));if(u===o||u===N.parse(u).root)return i();Fe.stat(u,{bigint:!0},(a,f)=>a?a.code==="ENOENT"?i():i(a):Ie(t,f)?i(new Error(tt(e,r,n))):kr(e,t,u,n,i))}function Nr(e,t,r,n){let i=N.resolve(N.dirname(e)),o=N.resolve(N.dirname(r));if(o===i||o===N.parse(o).root)return;let u;try{u=Fe.statSync(o,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(Ie(t,u))throw new Error(tt(e,r,n));return Nr(e,t,o,n)}function Ie(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Lt(e,t){let r=N.resolve(e).split(N.sep).filter(i=>i),n=N.resolve(t).split(N.sep).filter(i=>i);return r.reduce((i,o,u)=>i&&n[u]===o,!0)}function tt(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}Dr.exports={checkPaths:Bo,checkPathsSync:$o,checkParentPaths:kr,checkParentPathsSync:Nr,isSrcSubdir:Lt,areIdentical:Ie}});var $r=m((Ea,Br)=>{"use strict";var K=U(),Je=F("path"),Uo=Z().mkdirs,Wo=ue().pathExists,Yo=Mt().utimesMillis,Be=ge();function Vo(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),Be.checkPaths(e,t,"copy",r,(i,o)=>{if(i)return n(i);let{srcStat:u,destStat:a}=o;Be.checkParentPaths(e,u,t,"copy",f=>f?n(f):r.filter?Mr(Rr,a,e,t,r,n):Rr(a,e,t,r,n))})}function Rr(e,t,r,n,i){let o=Je.dirname(r);Wo(o,(u,a)=>{if(u)return i(u);if(a)return rt(e,t,r,n,i);Uo(o,f=>f?i(f):rt(e,t,r,n,i))})}function Mr(e,t,r,n,i,o){Promise.resolve(i.filter(r,n)).then(u=>u?e(t,r,n,i,o):o(),u=>o(u))}function Ko(e,t,r,n,i){return n.filter?Mr(rt,e,t,r,n,i):rt(e,t,r,n,i)}function rt(e,t,r,n,i){(n.dereference?K.stat:K.lstat)(t,(u,a)=>u?i(u):a.isDirectory()?eu(a,e,t,r,n,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?Go(a,e,t,r,n,i):a.isSymbolicLink()?nu(e,t,r,n,i):a.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):a.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function Go(e,t,r,n,i,o){return t?Ho(e,r,n,i,o):Lr(e,r,n,i,o)}function Ho(e,t,r,n,i){if(n.overwrite)K.unlink(r,o=>o?i(o):Lr(e,t,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function Lr(e,t,r,n,i){K.copyFile(t,r,o=>o?i(o):n.preserveTimestamps?zo(e.mode,t,r,i):nt(r,e.mode,i))}function zo(e,t,r,n){return Qo(e)?Xo(r,e,i=>i?n(i):Ar(e,t,r,n)):Ar(e,t,r,n)}function Qo(e){return(e&128)===0}function Xo(e,t,r){return nt(e,t|128,r)}function Ar(e,t,r,n){Zo(t,r,i=>i?n(i):nt(r,e,n))}function nt(e,t,r){return K.chmod(e,t,r)}function Zo(e,t,r){K.stat(e,(n,i)=>n?r(n):Yo(t,i.atime,i.mtime,r))}function eu(e,t,r,n,i,o){return t?Ir(r,n,i,o):tu(e.mode,r,n,i,o)}function tu(e,t,r,n,i){K.mkdir(r,o=>{if(o)return i(o);Ir(t,r,n,u=>u?i(u):nt(r,e,i))})}function Ir(e,t,r,n){K.readdir(e,(i,o)=>i?n(i):Jr(o,e,t,r,n))}function Jr(e,t,r,n,i){let o=e.pop();return o?ru(e,o,t,r,n,i):i()}function ru(e,t,r,n,i,o){let u=Je.join(r,t),a=Je.join(n,t);Be.checkPaths(u,a,"copy",i,(f,p)=>{if(f)return o(f);let{destStat:s}=p;Ko(s,u,a,i,l=>l?o(l):Jr(e,r,n,i,o))})}function nu(e,t,r,n,i){K.readlink(t,(o,u)=>{if(o)return i(o);if(n.dereference&&(u=Je.resolve(process.cwd(),u)),e)K.readlink(r,(a,f)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?K.symlink(u,r,i):i(a):(n.dereference&&(f=Je.resolve(process.cwd(),f)),Be.isSrcSubdir(u,f)?i(new Error(`Cannot copy '${u}' to a subdirectory of itself, '${f}'.`)):e.isDirectory()&&Be.isSrcSubdir(f,u)?i(new Error(`Cannot overwrite '${f}' with '${u}'.`)):iu(u,r,i)));else return K.symlink(u,r,i)})}function iu(e,t,r){K.unlink(t,n=>n?r(n):K.symlink(e,t,r))}Br.exports=Vo});var Kr=m((Sa,Vr)=>{"use strict";var B=U(),$e=F("path"),ou=Z().mkdirsSync,uu=Mt().utimesMillisSync,Ue=ge();function su(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:n,destStat:i}=Ue.checkPathsSync(e,t,"copy",r);return Ue.checkParentPathsSync(e,n,t,"copy"),cu(i,e,t,r)}function cu(e,t,r,n){if(n.filter&&!n.filter(t,r))return;let i=$e.dirname(r);return B.existsSync(i)||ou(i),Ur(e,t,r,n)}function au(e,t,r,n){if(!(n.filter&&!n.filter(t,r)))return Ur(e,t,r,n)}function Ur(e,t,r,n){let o=(n.dereference?B.statSync:B.lstatSync)(t);if(o.isDirectory())return hu(o,e,t,r,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return fu(o,e,t,r,n);if(o.isSymbolicLink())return Su(e,t,r,n);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function fu(e,t,r,n,i){return t?lu(e,r,n,i):Wr(e,r,n,i)}function lu(e,t,r,n){if(n.overwrite)return B.unlinkSync(r),Wr(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Wr(e,t,r,n){return B.copyFileSync(t,r),n.preserveTimestamps&&yu(e.mode,t,r),It(r,e.mode)}function yu(e,t,r){return mu(e)&&du(r,e),pu(t,r)}function mu(e){return(e&128)===0}function du(e,t){return It(e,t|128)}function It(e,t){return B.chmodSync(e,t)}function pu(e,t){let r=B.statSync(e);return uu(t,r.atime,r.mtime)}function hu(e,t,r,n,i){return t?Yr(r,n,i):gu(e.mode,r,n,i)}function gu(e,t,r,n){return B.mkdirSync(r),Yr(t,r,n),It(r,e)}function Yr(e,t,r){B.readdirSync(e).forEach(n=>Eu(n,e,t,r))}function Eu(e,t,r,n){let i=$e.join(t,e),o=$e.join(r,e),{destStat:u}=Ue.checkPathsSync(i,o,"copy",n);return au(u,i,o,n)}function Su(e,t,r,n){let i=B.readlinkSync(t);if(n.dereference&&(i=$e.resolve(process.cwd(),i)),e){let o;try{o=B.readlinkSync(r)}catch(u){if(u.code==="EINVAL"||u.code==="UNKNOWN")return B.symlinkSync(i,r);throw u}if(n.dereference&&(o=$e.resolve(process.cwd(),o)),Ue.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(B.statSync(r).isDirectory()&&Ue.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return Ou(i,r)}else return B.symlinkSync(i,r)}function Ou(e,t){return B.unlinkSync(t),B.symlinkSync(e,t)}Vr.exports=su});var it=m((Oa,Gr)=>{"use strict";var wu=Y().fromCallback;Gr.exports={copy:wu($r()),copySync:Kr()}});var nn=m((wa,rn)=>{"use strict";var Hr=U(),Zr=F("path"),v=F("assert"),We=process.platform==="win32";function en(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||Hr[r],r=r+"Sync",e[r]=e[r]||Hr[r]}),e.maxBusyTries=e.maxBusyTries||3}function Jt(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),v(e,"rimraf: missing path"),v.strictEqual(typeof e,"string","rimraf: path should be a string"),v.strictEqual(typeof r,"function","rimraf: callback function required"),v(t,"rimraf: invalid options argument provided"),v.strictEqual(typeof t,"object","rimraf: options should be object"),en(t),zr(e,t,function i(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&n<t.maxBusyTries){n++;let u=n*100;return setTimeout(()=>zr(e,t,i),u)}o.code==="ENOENT"&&(o=null)}r(o)})}function zr(e,t,r){v(e),v(t),v(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&We)return Qr(e,t,n,r);if(i&&i.isDirectory())return ot(e,t,n,r);t.unlink(e,o=>{if(o){if(o.code==="ENOENT")return r(null);if(o.code==="EPERM")return We?Qr(e,t,o,r):ot(e,t,o,r);if(o.code==="EISDIR")return ot(e,t,o,r)}return r(o)})})}function Qr(e,t,r,n){v(e),v(t),v(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(o,u)=>{o?n(o.code==="ENOENT"?null:r):u.isDirectory()?ot(e,t,r,n):t.unlink(e,n)})})}function Xr(e,t,r){let n;v(e),v(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?ut(e,t,r):t.unlinkSync(e)}function ot(e,t,r,n){v(e),v(t),v(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Cu(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function Cu(e,t,r){v(e),v(t),v(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let o=i.length,u;if(o===0)return t.rmdir(e,r);i.forEach(a=>{Jt(Zr.join(e,a),t,f=>{if(!u){if(f)return r(u=f);--o===0&&t.rmdir(e,r)}})})})}function tn(e,t){let r;t=t||{},en(t),v(e,"rimraf: missing path"),v.strictEqual(typeof e,"string","rimraf: path should be a string"),v(t,"rimraf: missing options"),v.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&We&&Xr(e,t,n)}try{r&&r.isDirectory()?ut(e,t,null):t.unlinkSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return We?Xr(e,t,n):ut(e,t,n);if(n.code!=="EISDIR")throw n;ut(e,t,n)}}function ut(e,t,r){v(e),v(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")vu(e,t);else if(n.code!=="ENOENT")throw n}}function vu(e,t){if(v(e),v(t),t.readdirSync(e).forEach(r=>tn(Zr.join(e,r),t)),We){let r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}rn.exports=Jt;Jt.sync=tn});var Ye=m((Ca,un)=>{"use strict";var st=U(),Pu=Y().fromCallback,on=nn();function Fu(e,t){if(st.rm)return st.rm(e,{recursive:!0,force:!0},t);on(e,t)}function bu(e){if(st.rmSync)return st.rmSync(e,{recursive:!0,force:!0});on.sync(e)}un.exports={remove:Pu(Fu),removeSync:bu}});var dn=m((va,mn)=>{"use strict";var qu=Y().fromPromise,an=he(),fn=F("path"),ln=Z(),yn=Ye(),sn=qu(async function(t){let r;try{r=await an.readdir(t)}catch{return ln.mkdirs(t)}return Promise.all(r.map(n=>yn.remove(fn.join(t,n))))});function cn(e){let t;try{t=an.readdirSync(e)}catch{return ln.mkdirsSync(e)}t.forEach(r=>{r=fn.join(e,r),yn.removeSync(r)})}mn.exports={emptyDirSync:cn,emptydirSync:cn,emptyDir:sn,emptydir:sn}});var En=m((Pa,gn)=>{"use strict";var _u=Y().fromCallback,pn=F("path"),se=U(),hn=Z();function ju(e,t){function r(){se.writeFile(e,"",n=>{if(n)return t(n);t()})}se.stat(e,(n,i)=>{if(!n&&i.isFile())return t();let o=pn.dirname(e);se.stat(o,(u,a)=>{if(u)return u.code==="ENOENT"?hn.mkdirs(o,f=>{if(f)return t(f);r()}):t(u);a.isDirectory()?r():se.readdir(o,f=>{if(f)return t(f)})})})}function xu(e){let t;try{t=se.statSync(e)}catch{}if(t&&t.isFile())return;let r=pn.dirname(e);try{se.statSync(r).isDirectory()||se.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")hn.mkdirsSync(r);else throw n}se.writeFileSync(e,"")}gn.exports={createFile:_u(ju),createFileSync:xu}});var vn=m((Fa,Cn)=>{"use strict";var Tu=Y().fromCallback,Sn=F("path"),ce=U(),On=Z(),ku=ue().pathExists,{areIdentical:wn}=ge();function Nu(e,t,r){function n(i,o){ce.link(i,o,u=>{if(u)return r(u);r(null)})}ce.lstat(t,(i,o)=>{ce.lstat(e,(u,a)=>{if(u)return u.message=u.message.replace("lstat","ensureLink"),r(u);if(o&&wn(a,o))return r(null);let f=Sn.dirname(t);ku(f,(p,s)=>{if(p)return r(p);if(s)return n(e,t);On.mkdirs(f,l=>{if(l)return r(l);n(e,t)})})})})}function Du(e,t){let r;try{r=ce.lstatSync(t)}catch{}try{let o=ce.lstatSync(e);if(r&&wn(o,r))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let n=Sn.dirname(t);return ce.existsSync(n)||On.mkdirsSync(n),ce.linkSync(e,t)}Cn.exports={createLink:Tu(Nu),createLinkSync:Du}});var Fn=m((ba,Pn)=>{"use strict";var ae=F("path"),Ve=U(),Ru=ue().pathExists;function Au(e,t,r){if(ae.isAbsolute(e))return Ve.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{let n=ae.dirname(t),i=ae.join(n,e);return Ru(i,(o,u)=>o?r(o):u?r(null,{toCwd:i,toDst:e}):Ve.lstat(e,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:e,toDst:ae.relative(n,e)})))}}function Mu(e,t){let r;if(ae.isAbsolute(e)){if(r=Ve.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{let n=ae.dirname(t),i=ae.join(n,e);if(r=Ve.existsSync(i),r)return{toCwd:i,toDst:e};if(r=Ve.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:ae.relative(n,e)}}}Pn.exports={symlinkPaths:Au,symlinkPathsSync:Mu}});var _n=m((qa,qn)=>{"use strict";var bn=U();function Lu(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);bn.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function Iu(e,t){let r;if(t)return t;try{r=bn.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}qn.exports={symlinkType:Lu,symlinkTypeSync:Iu}});var An=m((_a,Rn)=>{"use strict";var Ju=Y().fromCallback,xn=F("path"),ee=he(),Tn=Z(),Bu=Tn.mkdirs,$u=Tn.mkdirsSync,kn=Fn(),Uu=kn.symlinkPaths,Wu=kn.symlinkPathsSync,Nn=_n(),Yu=Nn.symlinkType,Vu=Nn.symlinkTypeSync,Ku=ue().pathExists,{areIdentical:Dn}=ge();function Gu(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,ee.lstat(t,(i,o)=>{!i&&o.isSymbolicLink()?Promise.all([ee.stat(e),ee.stat(t)]).then(([u,a])=>{if(Dn(u,a))return n(null);jn(e,t,r,n)}):jn(e,t,r,n)})}function jn(e,t,r,n){Uu(e,t,(i,o)=>{if(i)return n(i);e=o.toDst,Yu(o.toCwd,r,(u,a)=>{if(u)return n(u);let f=xn.dirname(t);Ku(f,(p,s)=>{if(p)return n(p);if(s)return ee.symlink(e,t,a,n);Bu(f,l=>{if(l)return n(l);ee.symlink(e,t,a,n)})})})})}function Hu(e,t,r){let n;try{n=ee.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){let a=ee.statSync(e),f=ee.statSync(t);if(Dn(a,f))return}let i=Wu(e,t);e=i.toDst,r=Vu(i.toCwd,r);let o=xn.dirname(t);return ee.existsSync(o)||$u(o),ee.symlinkSync(e,t,r)}Rn.exports={createSymlink:Ju(Gu),createSymlinkSync:Hu}});var Wn=m((ja,Un)=>{"use strict";var{createFile:Mn,createFileSync:Ln}=En(),{createLink:In,createLinkSync:Jn}=vn(),{createSymlink:Bn,createSymlinkSync:$n}=An();Un.exports={createFile:Mn,createFileSync:Ln,ensureFile:Mn,ensureFileSync:Ln,createLink:In,createLinkSync:Jn,ensureLink:In,ensureLinkSync:Jn,createSymlink:Bn,createSymlinkSync:$n,ensureSymlink:Bn,ensureSymlinkSync:$n}});var ct=m((xa,Yn)=>{function zu(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){let o=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+o}function Qu(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}Yn.exports={stringify:zu,stripBom:Qu}});var Hn=m((Ta,Gn)=>{var be;try{be=U()}catch{be=F("fs")}var at=Y(),{stringify:Vn,stripBom:Kn}=ct();async function Xu(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||be,n="throws"in t?t.throws:!0,i=await at.fromCallback(r.readFile)(e,t);i=Kn(i);let o;try{o=JSON.parse(i,t?t.reviver:null)}catch(u){if(n)throw u.message=`${e}: ${u.message}`,u;return null}return o}var Zu=at.fromPromise(Xu);function es(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||be,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=Kn(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function ts(e,t,r={}){let n=r.fs||be,i=Vn(t,r);await at.fromCallback(n.writeFile)(e,i,r)}var rs=at.fromPromise(ts);function ns(e,t,r={}){let n=r.fs||be,i=Vn(t,r);return n.writeFileSync(e,i,r)}var is={readFile:Zu,readFileSync:es,writeFile:rs,writeFileSync:ns};Gn.exports=is});var Qn=m((ka,zn)=>{"use strict";var ft=Hn();zn.exports={readJson:ft.readFile,readJsonSync:ft.readFileSync,writeJson:ft.writeFile,writeJsonSync:ft.writeFileSync}});var lt=m((Na,ei)=>{"use strict";var os=Y().fromCallback,Ke=U(),Xn=F("path"),Zn=Z(),us=ue().pathExists;function ss(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");let i=Xn.dirname(e);us(i,(o,u)=>{if(o)return n(o);if(u)return Ke.writeFile(e,t,r,n);Zn.mkdirs(i,a=>{if(a)return n(a);Ke.writeFile(e,t,r,n)})})}function cs(e,...t){let r=Xn.dirname(e);if(Ke.existsSync(r))return Ke.writeFileSync(e,...t);Zn.mkdirsSync(r),Ke.writeFileSync(e,...t)}ei.exports={outputFile:os(ss),outputFileSync:cs}});var ri=m((Da,ti)=>{"use strict";var{stringify:as}=ct(),{outputFile:fs}=lt();async function ls(e,t,r={}){let n=as(t,r);await fs(e,n,r)}ti.exports=ls});var ii=m((Ra,ni)=>{"use strict";var{stringify:ys}=ct(),{outputFileSync:ms}=lt();function ds(e,t,r){let n=ys(t,r);ms(e,n,r)}ni.exports=ds});var ui=m((Aa,oi)=>{"use strict";var ps=Y().fromPromise,W=Qn();W.outputJson=ps(ri());W.outputJsonSync=ii();W.outputJSON=W.outputJson;W.outputJSONSync=W.outputJsonSync;W.writeJSON=W.writeJson;W.writeJSONSync=W.writeJsonSync;W.readJSON=W.readJson;W.readJSONSync=W.readJsonSync;oi.exports=W});var li=m((Ma,fi)=>{"use strict";var hs=U(),$t=F("path"),gs=it().copy,ai=Ye().remove,Es=Z().mkdirp,Ss=ue().pathExists,si=ge();function Os(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};let i=r.overwrite||r.clobber||!1;si.checkPaths(e,t,"move",r,(o,u)=>{if(o)return n(o);let{srcStat:a,isChangingCase:f=!1}=u;si.checkParentPaths(e,a,t,"move",p=>{if(p)return n(p);if(ws(t))return ci(e,t,i,f,n);Es($t.dirname(t),s=>s?n(s):ci(e,t,i,f,n))})})}function ws(e){let t=$t.dirname(e);return $t.parse(t).root===t}function ci(e,t,r,n,i){if(n)return Bt(e,t,r,i);if(r)return ai(t,o=>o?i(o):Bt(e,t,r,i));Ss(t,(o,u)=>o?i(o):u?i(new Error("dest already exists.")):Bt(e,t,r,i))}function Bt(e,t,r,n){hs.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):Cs(e,t,r,n):n())}function Cs(e,t,r,n){gs(e,t,{overwrite:r,errorOnExist:!0},o=>o?n(o):ai(e,n))}fi.exports=Os});var hi=m((La,pi)=>{"use strict";var mi=U(),Wt=F("path"),vs=it().copySync,di=Ye().removeSync,Ps=Z().mkdirpSync,yi=ge();function Fs(e,t,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:o=!1}=yi.checkPathsSync(e,t,"move",r);return yi.checkParentPathsSync(e,i,t,"move"),bs(t)||Ps(Wt.dirname(t)),qs(e,t,n,o)}function bs(e){let t=Wt.dirname(e);return Wt.parse(t).root===t}function qs(e,t,r,n){if(n)return Ut(e,t,r);if(r)return di(t),Ut(e,t,r);if(mi.existsSync(t))throw new Error("dest already exists.");return Ut(e,t,r)}function Ut(e,t,r){try{mi.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return _s(e,t,r)}}function _s(e,t,r){return vs(e,t,{overwrite:r,errorOnExist:!0}),di(e)}pi.exports=Fs});var Ei=m((Ia,gi)=>{"use strict";var js=Y().fromCallback;gi.exports={move:js(li()),moveSync:hi()}});var Oi=m((Ja,Si)=>{"use strict";Si.exports={...he(),...it(),...dn(),...Wn(),...ui(),...Z(),...Ei(),...lt(),...ue(),...Ye()}});var Yt=m(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.strToBool=qe.strToNum=void 0;function xs(e,t=!1){let r=parseFloat(e);if(!isNaN(r))return r;if(t)throw new Error(`${e} is not number like`);return e}qe.strToNum=xs;function Ts(e,t=!1){let r=e.toLowerCase();if(r==="false")return!1;if(r==="true")return!0;if(t)throw new Error(`${e} is not boolean like`);return e}qe.strToBool=Ts});var wi=m(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.accessByPath=void 0;var ks=Yt();function Ns(e,t){if(t.indexOf(".")>-1){let r=t.split(".").map(o=>(0,ks.strToNum)(o)),n=r.length,i=null;for(let o=0;o<n;++o){let u=r[o];i!==null?i=i[u]:i=e[u]}return i}return e[t]}yt.accessByPath=Ns});var Ee=m(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.trueTypeOf=void 0;function Ds(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}mt.trueTypeOf=Ds});var dt=m($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.formatStr=$.showDeep=$.nil=$.createEvtName=$.parseJson=$.toArray=$.inArray=void 0;var Rs=Ee(),As=(e,t)=>e.includes(t);$.inArray=As;var Ms=e=>Array.isArray(e)?e:[e];$.toArray=Ms;var Ls=(e,t=!0)=>{try{return(0,Rs.trueTypeOf)(e)==="string"?JSON.parse(e):JSON.parse(JSON.stringify(e))}catch(r){if(t)return e;throw r}};$.parseJson=Ls;var Is=(...e)=>e.join("_");$.createEvtName=Is;var Js=()=>!1;$.nil=Js;var Bs=e=>{console.dir(e,{depth:null})};$.showDeep=Bs;function $s(e,...t){return e.replace(/{([0-9]+)}/g,(r,n)=>typeof t[n]=="undefined"?r:t[n])}$.formatStr=$s});var Ci=m(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.chainFns=void 0;var Us=dt(),Ws=(e,...t)=>(...r)=>t.reduce((n,i)=>Reflect.apply(i,null,(0,Us.toArray)(n)),Reflect.apply(e,null,r));pt.chainFns=Ws});var Ge=m(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.readOnly=x.objectHasKey=x.arrToObj=x.assign=x.getConfigValue=x.isClass=x.isPlainObject=x.isObject=void 0;var Ys=dt(),Vs=Ee();function Vt(e){return(0,Vs.trueTypeOf)(e)==="object"}x.isObject=Vt;function Kt(e){if(Vt(e)){let r=e.constructor.prototype,n="[Object: null prototype]";return r.toString().substring(0,n.length)===n?!0:Vt(r)===!1?!1:Reflect.apply(r.hasOwnProperty,r,["isPrototypeOf"])}return!1}x.isPlainObject=Kt;var Ks=e=>!Kt(e);x.isClass=Ks;var Gs=(e,t)=>t&&Kt(t)&&e in t?t[e]:void 0;x.getConfigValue=Gs;var Hs=(...e)=>Reflect.apply(Object.assign,Object,e);x.assign=Hs;var zs=(e,t,r={})=>e.map(t).reduce((n,i)=>(0,x.assign)(n,i),r);x.arrToObj=zs;var Qs=(e,t)=>{try{let r=Object.keys(e);return(0,Ys.inArray)(r,t)}catch(r){return!1}};x.objectHasKey=Qs;var Xs=e=>Object.freeze(e);x.readOnly=Xs});var ht=m(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.isString=G.flatMap=G.merge=G.curry=void 0;var Zs=Ee(),Gt=Ge(),ec=(e,...t)=>e.length<=t.length?e(...t):(...r)=>(0,G.curry)(e,...t,...r);G.curry=ec;var tc=(e,...t)=>{if(!t.length)return e;let r=t.shift();if((0,Gt.isObject)(e)&&(0,Gt.isObject)(r))for(let n in r)(0,Gt.isObject)(r[n])?(e[n]||Object.assign(e,{[n]:{}}),(0,G.merge)(e[n],r[n])):Object.assign(e,{[n]:r[n]});return(0,G.merge)(e,...t)};G.merge=tc;function rc(e,t){return t||(t=r=>r),e.flatMap(t)}G.flatMap=rc;function nc(e){return(0,Zs.trueTypeOf)(e)==="string"}G.isString=nc});var Fi=m(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.queuePromisesProcess=fe.chainProcessPromises=fe.chainPromises=void 0;var vi=ht(),ic=Ge();function oc(e,t=!1){return e.reduce((r,n)=>r.then(i=>n.then(o=>t===!1?[...i,o]:(0,vi.merge)(i,o))),Promise.resolve(t===!1?[]:(0,ic.isPlainObject)(t)?t:{}))}fe.chainPromises=oc;function Pi(e,...t){return(...r)=>t.reduce((n,i)=>n.then(o=>i(o)),Reflect.apply(e,null,r))}fe.chainProcessPromises=Pi;function uc(e,...t){let r=(0,vi.flatMap)(e),n=Reflect.apply(Pi,null,r);return Reflect.apply(n,null,t)}fe.queuePromisesProcess=uc});var bi=m(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.dasherize=void 0;var sc=e=>cc(e.trim().replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase());gt.dasherize=sc;var cc=e=>{let t=e.substring(0,1);return t!=="_"&&t!=="-"?e:e.substring(1)}});var ji=m(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.isEmpty=Q.notEmpty=Q.isNotEmpty=Q.isEmptyObj=void 0;var qi=Ge(),ac=e=>e&&(0,qi.isPlainObject)(e)&&Object.keys(e).length===0;Q.isEmptyObj=ac;var fc=e=>e!=null&&(e+"").trim()!=="";Q.isNotEmpty=fc;function _i(e,t=!1){return Array.isArray(e)?t?!!e.length:!1:(0,qi.isPlainObject)(e)?t?!(0,Q.isEmptyObj)(e):!1:(0,Q.isNotEmpty)(e)}Q.notEmpty=_i;var lc=(e,t)=>!_i(e,t);Q.isEmpty=lc});var ki=m(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.isAsyncFunction=_e.isFunction=void 0;var xi=Ee(),Ti=["asyncfunction","function"],yc=function(e,t=!1){let r=(0,xi.trueTypeOf)(e);return Ti.includes(r)?!0:(t&&console.error(`Expect to be Function type! Got ${typeof e}`),!1)};_e.isFunction=yc;function mc(e){return(0,xi.trueTypeOf)(e)===Ti[0]}_e.isAsyncFunction=mc});var Ni=m(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.cloneDeep=je.cloneDeepCheap=void 0;var dc=Ee(),pc=e=>JSON.parse(JSON.stringify(e));je.cloneDeepCheap=pc;function He(e){function t(f){for(let p in e)Object.prototype.hasOwnProperty.call(e,p)&&(f[p]=He(e[p]))}function r(){let f={};return t(f),f}function n(){return e.map(function(f){return He(f)})}function i(){let f=new Map;for(let[p,s]of e)f.set(p,He(s));return f}function o(){let f=new Set;for(let p of e)f.add(He(p));return f}function u(){let f=this,p=e.bind(f);return t(p),p}switch((0,dc.trueTypeOf)(e)){case"object":return r();case"array":return n();case"map":return i();case"set":return o();case"function":return u();default:return e}}je.cloneDeep=He});var Di=m(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.getLogger=xe.logger=void 0;function hc(...e){try{window&&window.DEBUG&&Reflect.apply(console.log,console,e)}catch(t){return}}xe.logger=hc;var gc=e=>{let t=[e];return(...r)=>{try{window&&window.JSONQL_DEBUG&&Reflect.apply(console.info,console,t.concat(r))}catch(n){return}}};xe.getLogger=gc});var Ai=m(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.injectToFn=le.objHasProp=le.objDefineProps=void 0;function Ec(e,t,r,n=null){return Object.getOwnPropertyDescriptor(e,t)===void 0&&Object.defineProperty(e,t,{set:r,get:n===null?function(){return null}:n}),e}le.objDefineProps=Ec;function Ri(e,t){let r=Object.getOwnPropertyDescriptor(e,t);return r!==void 0&&r.value?r.value:r}le.objHasProp=Ri;function Sc(e,t,r,n=!1){let i=Ri(e,t);return n===!1&&i!==void 0||Object.defineProperty(e,t,{value:r,writable:n}),e}le.injectToFn=Sc});var Li=m(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.getRegex=Te.isRegExp=void 0;var Oc=ht();function Mi(e){return e instanceof RegExp}Te.isRegExp=Mi;function wc(e){switch(!0){case Mi(e):return e;case(0,Oc.isString)(e):return new RegExp(e);default:return!1}}Te.getRegex=wc});var Ht=m(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.timestamp=void 0;var Cc=(e=!1)=>{let t=Date.now();return e?Math.floor(t/1e3):t};Et.timestamp=Cc});var Ii=m(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.cacheBurst=ne.cacheBurstUrl=ne.urlParams=void 0;var vc=Ht(),Pc=(e,t)=>{let r=[];for(let n in t)r.push([n,t[n]].join("="));return[e,r.join("&")].join("?")};ne.urlParams=Pc;var Fc=e=>(0,ne.urlParams)(e,(0,ne.cacheBurst)());ne.cacheBurstUrl=Fc;var bc=(e="_cb")=>({[e]:(0,vc.timestamp)()});ne.cacheBurst=bc});var Ji=m(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.isEqual=ke.isEqualCheap=void 0;function qc(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(r){return!1}}ke.isEqualCheap=qc;function zt(e,t){function r(f){return Object.prototype.toString.call(f).slice(8,-1).toLowerCase()}function n(){if(e.length!==t.length)return!1;for(let f=0;f<e.length;f++)if(!zt(e[f],t[f]))return!1;return!0}function i(){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let f in e)if(Object.prototype.hasOwnProperty.call(e,f)&&!zt(e[f],t[f]))return!1;return!0}function o(){return e.toString()===t.toString()}function u(){return e===t}let a=r(e);switch(a){case"array":return n();case"object":return i();case"function":return o();default:return a!==r(t)?!1:u()}}ke.isEqual=zt});var Bi=m(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.parseJWT=void 0;function _c(e){let r=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(r).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}St.parseJWT=_c});var Gi=m(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.parseJWT=c.trueTypeOf=c.isString=c.flatMap=c.curry=c.merge=c.isEqualCheap=c.isEqual=c.cacheBurst=c.cacheBurstUrl=c.urlParams=c.timestamp=c.getRegex=c.isRegExp=c.injectToFn=c.objHasProp=c.objDefineProps=c.getLogger=c.logger=c.cloneDeepCheap=c.cloneDeep=c.isAsyncFunction=c.isFunction=c.arrToObj=c.readOnly=c.assign=c.getConfigValue=c.objectHasKey=c.isClass=c.isPlainObject=c.isObject=c.isEmpty=c.notEmpty=c.isNotEmpty=c.isEmptyObj=c.formatStr=c.showDeep=c.createEvtName=c.nil=c.parseJson=c.toArray=c.inArray=c.dasherize=c.strToBool=c.strToNum=c.queuePromisesProcess=c.chainProcessPromises=c.chainPromises=c.chainFns=c.accessByPath=void 0;var jc=wi();Object.defineProperty(c,"accessByPath",{enumerable:!0,get:function(){return jc.accessByPath}});var xc=Ci();Object.defineProperty(c,"chainFns",{enumerable:!0,get:function(){return xc.chainFns}});var Qt=Fi();Object.defineProperty(c,"chainPromises",{enumerable:!0,get:function(){return Qt.chainPromises}});Object.defineProperty(c,"chainProcessPromises",{enumerable:!0,get:function(){return Qt.chainProcessPromises}});Object.defineProperty(c,"queuePromisesProcess",{enumerable:!0,get:function(){return Qt.queuePromisesProcess}});var $i=Yt();Object.defineProperty(c,"strToNum",{enumerable:!0,get:function(){return $i.strToNum}});Object.defineProperty(c,"strToBool",{enumerable:!0,get:function(){return $i.strToBool}});var Tc=bi();Object.defineProperty(c,"dasherize",{enumerable:!0,get:function(){return Tc.dasherize}});var Se=dt();Object.defineProperty(c,"inArray",{enumerable:!0,get:function(){return Se.inArray}});Object.defineProperty(c,"toArray",{enumerable:!0,get:function(){return Se.toArray}});Object.defineProperty(c,"parseJson",{enumerable:!0,get:function(){return Se.parseJson}});Object.defineProperty(c,"nil",{enumerable:!0,get:function(){return Se.nil}});Object.defineProperty(c,"createEvtName",{enumerable:!0,get:function(){return Se.createEvtName}});Object.defineProperty(c,"showDeep",{enumerable:!0,get:function(){return Se.showDeep}});Object.defineProperty(c,"formatStr",{enumerable:!0,get:function(){return Se.formatStr}});var Ot=ji();Object.defineProperty(c,"isEmptyObj",{enumerable:!0,get:function(){return Ot.isEmptyObj}});Object.defineProperty(c,"isNotEmpty",{enumerable:!0,get:function(){return Ot.isNotEmpty}});Object.defineProperty(c,"notEmpty",{enumerable:!0,get:function(){return Ot.notEmpty}});Object.defineProperty(c,"isEmpty",{enumerable:!0,get:function(){return Ot.isEmpty}});var ye=Ge();Object.defineProperty(c,"isObject",{enumerable:!0,get:function(){return ye.isObject}});Object.defineProperty(c,"isPlainObject",{enumerable:!0,get:function(){return ye.isPlainObject}});Object.defineProperty(c,"isClass",{enumerable:!0,get:function(){return ye.isClass}});Object.defineProperty(c,"objectHasKey",{enumerable:!0,get:function(){return ye.objectHasKey}});Object.defineProperty(c,"getConfigValue",{enumerable:!0,get:function(){return ye.getConfigValue}});Object.defineProperty(c,"assign",{enumerable:!0,get:function(){return ye.assign}});Object.defineProperty(c,"readOnly",{enumerable:!0,get:function(){return ye.readOnly}});Object.defineProperty(c,"arrToObj",{enumerable:!0,get:function(){return ye.arrToObj}});var Ui=ki();Object.defineProperty(c,"isFunction",{enumerable:!0,get:function(){return Ui.isFunction}});Object.defineProperty(c,"isAsyncFunction",{enumerable:!0,get:function(){return Ui.isAsyncFunction}});var Wi=Ni();Object.defineProperty(c,"cloneDeep",{enumerable:!0,get:function(){return Wi.cloneDeep}});Object.defineProperty(c,"cloneDeepCheap",{enumerable:!0,get:function(){return Wi.cloneDeepCheap}});var Yi=Di();Object.defineProperty(c,"logger",{enumerable:!0,get:function(){return Yi.logger}});Object.defineProperty(c,"getLogger",{enumerable:!0,get:function(){return Yi.getLogger}});var Xt=Ai();Object.defineProperty(c,"objDefineProps",{enumerable:!0,get:function(){return Xt.objDefineProps}});Object.defineProperty(c,"objHasProp",{enumerable:!0,get:function(){return Xt.objHasProp}});Object.defineProperty(c,"injectToFn",{enumerable:!0,get:function(){return Xt.injectToFn}});var Vi=Li();Object.defineProperty(c,"isRegExp",{enumerable:!0,get:function(){return Vi.isRegExp}});Object.defineProperty(c,"getRegex",{enumerable:!0,get:function(){return Vi.getRegex}});var kc=Ht();Object.defineProperty(c,"timestamp",{enumerable:!0,get:function(){return kc.timestamp}});var Zt=Ii();Object.defineProperty(c,"urlParams",{enumerable:!0,get:function(){return Zt.urlParams}});Object.defineProperty(c,"cacheBurstUrl",{enumerable:!0,get:function(){return Zt.cacheBurstUrl}});Object.defineProperty(c,"cacheBurst",{enumerable:!0,get:function(){return Zt.cacheBurst}});var Ki=Ji();Object.defineProperty(c,"isEqual",{enumerable:!0,get:function(){return Ki.isEqual}});Object.defineProperty(c,"isEqualCheap",{enumerable:!0,get:function(){return Ki.isEqualCheap}});var wt=ht();Object.defineProperty(c,"merge",{enumerable:!0,get:function(){return wt.merge}});Object.defineProperty(c,"curry",{enumerable:!0,get:function(){return wt.curry}});Object.defineProperty(c,"flatMap",{enumerable:!0,get:function(){return wt.flatMap}});Object.defineProperty(c,"isString",{enumerable:!0,get:function(){return wt.isString}});var Nc=Ee();Object.defineProperty(c,"trueTypeOf",{enumerable:!0,get:function(){return Nc.trueTypeOf}});var Dc=Bi();Object.defineProperty(c,"parseJWT",{enumerable:!0,get:function(){return Dc.parseJWT}})});var Zi=m((ff,Xi)=>{var Re=1e3,Ae=Re*60,Me=Ae*60,Oe=Me*24,Ac=Oe*7,Mc=Oe*365.25;Xi.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Lc(e);if(r==="number"&&isFinite(e))return t.long?Jc(e):Ic(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Lc(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Mc;case"weeks":case"week":case"w":return r*Ac;case"days":case"day":case"d":return r*Oe;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Me;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ae;case"seconds":case"second":case"secs":case"sec":case"s":return r*Re;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Ic(e){var t=Math.abs(e);return t>=Oe?Math.round(e/Oe)+"d":t>=Me?Math.round(e/Me)+"h":t>=Ae?Math.round(e/Ae)+"m":t>=Re?Math.round(e/Re)+"s":e+"ms"}function Jc(e){var t=Math.abs(e);return t>=Oe?Ct(e,t,Oe,"day"):t>=Me?Ct(e,t,Me,"hour"):t>=Ae?Ct(e,t,Ae,"minute"):t>=Re?Ct(e,t,Re,"second"):e+" ms"}function Ct(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var or=m((lf,eo)=>{function Bc(e){r.debug=r,r.default=r,r.coerce=f,r.disable=o,r.enable=i,r.enabled=u,r.humanize=Zi(),r.destroy=p,Object.keys(e).forEach(s=>{r[s]=e[s]}),r.names=[],r.skips=[],r.formatters={};function t(s){let l=0;for(let y=0;y<s.length;y++)l=(l<<5)-l+s.charCodeAt(y),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=t;function r(s){let l,y=null,d,h;function S(...E){if(!S.enabled)return;let O=S,T=Number(new Date),R=T-(l||T);O.diff=R,O.prev=l,O.curr=T,l=T,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let re=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(we,qt)=>{if(we==="%%")return"%";re++;let Ce=r.formatters[qt];if(typeof Ce=="function"){let g=E[re];we=Ce.call(O,g),E.splice(re,1),re--}return we}),r.formatArgs.call(O,E),(O.log||r.log).apply(O,E)}return S.namespace=s,S.useColors=r.useColors(),S.color=r.selectColor(s),S.extend=n,S.destroy=r.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(d!==r.namespaces&&(d=r.namespaces,h=r.enabled(s)),h),set:E=>{y=E}}),typeof r.init=="function"&&r.init(S),S}function n(s,l){let y=r(this.namespace+(typeof l>"u"?":":l)+s);return y.log=this.log,y}function i(s){r.save(s),r.namespaces=s,r.names=[],r.skips=[];let l,y=(typeof s=="string"?s:"").split(/[\s,]+/),d=y.length;for(l=0;l<d;l++)!y[l]||(s=y[l].replace(/\*/g,".*?"),s[0]==="-"?r.skips.push(new RegExp("^"+s.slice(1)+"$")):r.names.push(new RegExp("^"+s+"$")))}function o(){let s=[...r.names.map(a),...r.skips.map(a).map(l=>"-"+l)].join(",");return r.enable(""),s}function u(s){if(s[s.length-1]==="*")return!0;let l,y;for(l=0,y=r.skips.length;l<y;l++)if(r.skips[l].test(s))return!1;for(l=0,y=r.names.length;l<y;l++)if(r.names[l].test(s))return!0;return!1}function a(s){return s.toString().substring(2,s.toString().length-2).replace(/\.\*\?$/,"*")}function f(s){return s instanceof Error?s.stack||s.message:s}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}eo.exports=Bc});var to=m((z,vt)=>{z.formatArgs=Uc;z.save=Wc;z.load=Yc;z.useColors=$c;z.storage=Vc();z.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();z.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function $c(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Uc(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+vt.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}z.log=console.debug||console.log||(()=>{});function Wc(e){try{e?z.storage.setItem("debug",e):z.storage.removeItem("debug")}catch{}}function Yc(){let e;try{e=z.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function Vc(){try{return localStorage}catch{}}vt.exports=or()(z);var{formatters:Kc}=vt.exports;Kc.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var no=m((yf,ro)=>{"use strict";ro.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var uo=m((mf,oo)=>{"use strict";var Gc=F("os"),io=F("tty"),X=no(),{env:D}=process,de;X("no-color")||X("no-colors")||X("color=false")||X("color=never")?de=0:(X("color")||X("colors")||X("color=true")||X("color=always"))&&(de=1);"FORCE_COLOR"in D&&(D.FORCE_COLOR==="true"?de=1:D.FORCE_COLOR==="false"?de=0:de=D.FORCE_COLOR.length===0?1:Math.min(parseInt(D.FORCE_COLOR,10),3));function ur(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function sr(e,t){if(de===0)return 0;if(X("color=16m")||X("color=full")||X("color=truecolor"))return 3;if(X("color=256"))return 2;if(e&&!t&&de===void 0)return 0;let r=de||0;if(D.TERM==="dumb")return r;if(process.platform==="win32"){let n=Gc.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in D)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in D)||D.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in D)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(D.TEAMCITY_VERSION)?1:0;if(D.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in D){let n=parseInt((D.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(D.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(D.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(D.TERM)||"COLORTERM"in D?1:r}function Hc(e){let t=sr(e,e&&e.isTTY);return ur(t)}oo.exports={supportsColor:Hc,stdout:ur(sr(!0,io.isatty(1))),stderr:ur(sr(!0,io.isatty(2)))}});var co=m((J,Ft)=>{var zc=F("tty"),Pt=F("util");J.init=na;J.log=ea;J.formatArgs=Xc;J.save=ta;J.load=ra;J.useColors=Qc;J.destroy=Pt.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");J.colors=[6,2,3,4,5,1];try{let e=uo();e&&(e.stderr||e).level>=2&&(J.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}J.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function Qc(){return"colors"in J.inspectOpts?Boolean(J.inspectOpts.colors):zc.isatty(process.stderr.fd)}function Xc(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${t} \x1B[0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(i+"m+"+Ft.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=Zc()+t+" "+e[0]}function Zc(){return J.inspectOpts.hideDate?"":new Date().toISOString()+" "}function ea(...e){return process.stderr.write(Pt.format(...e)+`
`)}function ta(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function ra(){return process.env.DEBUG}function na(e){e.inspectOpts={};let t=Object.keys(J.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=J.inspectOpts[t[r]]}Ft.exports=or()(J);var{formatters:so}=Ft.exports;so.o=function(e){return this.inspectOpts.colors=this.useColors,Pt.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};so.O=function(e){return this.inspectOpts.colors=this.useColors,Pt.inspect(e,this.inspectOpts)}});var ao=m((df,cr)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?cr.exports=to():cr.exports=co()});var Le=_t(Oi()),te=_t(Gi());import{join as fo}from"node:path";var H="data",er="error",Ne="meta";var tr="rest";var zi="contract.json",rr="public-contract.json";var Hi="application/vnd.api+json",Rc="charset=utf-8",cf={Accept:Hi,"Content-Type":[Hi,Rc].join("")};var De="rules",nr="name",me="params",Qi="server";var ir="validate";var yo=_t(ao()),ar=(0,yo.default)("jsonql:contract:class"),lo=class{constructor(t,r=tr){this._contract={[H]:[],[Ne]:{type:""},[er]:null};this.$excludeValidation=new Set;let n=(0,te.cloneDeepCheap)(t);switch(this.meta({type:r}),r){case tr:this._contract[H]=n;break;default:}}static prepare(t){let r=[];for(let n in t){let i={name:n,params:[]},o=t[n];Array.isArray(o)?i.params=o:typeof o=="object"&&(i=(0,te.assign)({},i,o)),r.push(i)}return ar("prepared data",r),r}data(t,r){let n=this._contract[H];n.filter(o=>o.name===t).length?this._contract[H]=n.map(o=>o.name===t?(0,te.assign)(o,r):o):this._contract[H].push(r)}error(t){this._contract[er]=t}meta(t){this._contract[Ne]=(0,te.assign)({},(0,te.cloneDeepCheap)(this._contract[Ne]),t)}output(t=!0){let r=this._contract;return t?{[H]:r[H].map(n=>{var i;return!n[me]||n[me].length===0?(n[ir]=!1,n):(n[me]=(i=n[me])==null?void 0:i.map(o=>(o[De]&&(o[De]=o[De].filter(u=>!(0,te.isFunction)(u)&&u[Qi]!==!0)),o)),n)}),[Ne]:r[Ne]}:r}serve(t){return ze(this,null,function*(){let r=fo(t,rr);return(0,Le.existsSync)(r)||(yield this.write(t)),(0,Le.readJsonSync)(r)})}write(t){return ze(this,null,function*(){return(0,te.chainPromises)([[zi,this.output(!1)],[rr,this.output()]].map(i=>ze(this,[i],function*([r,n]){let o=fo(t,r);return(0,Le.outputJson)(o,n,{spaces:2}).then(()=>o)})))})}appendValidations(t,r){return ar("appendValidations",this._contract[H],t),this._contract[H]=this._contract[H].map(n=>{var o;let i=n[nr];if(i&&t[i]){let u=t[i][De];u&&n[me]&&(n[me]=(o=n[me])==null?void 0:o.map(a=>{let f=a[nr];if(u[f]){let p=u[f].filter(s=>{let l=r(s);return ar("checkFn",s,l),l});p.length&&(a[De]=p)}return a}))}return n}),this._contract}outputPublic(t){if(t){let{schema:n,plugins:i}=t.export();process.env.DEBUG&&(console.log("------------------------ schema -------------------------------"),console.dir(n,{depth:null}),console.log("------------------------ plugins -------------------------------"),console.dir(i,{depth:null}));let o=t.checkRuleCanExport(i);this.appendValidations(n,o)}let r=this.output(!0);return this.$excludeValidation.size&&(r[H]=r[H].map(n=>(this.$excludeValidation.has(n.name)&&(n[ir]=!1),n))),r}};export{lo as ContractWriter};
//# sourceMappingURL=esm.js.map
