"use strict";var Nr=Object.create;var Ve=Object.defineProperty;var vr=Object.getOwnPropertyDescriptor;var Kr=Object.getOwnPropertyNames;var Ir=Object.getPrototypeOf,Mr=Object.prototype.hasOwnProperty;var b=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Lr=(e,r,n,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of Kr(r))!Mr.call(e,o)&&o!==n&&Ve(e,o,{get:()=>r[o],enumerable:!(t=vr(r,o))||t.enumerable});return e};var p=(e,r,n)=>(n=e!=null?Nr(Ir(e)):{},Lr(r||!e||!e.__esModule?Ve(n,"default",{value:e,enumerable:!0}):n,e));var E=(e,r,n)=>new Promise((t,o)=>{var i=l=>{try{y(n.next(l))}catch(D){o(D)}},a=l=>{try{y(n.throw(l))}catch(D){o(D)}},y=l=>l.done?t(l.value):Promise.resolve(l.value).then(i,a);y((n=n.apply(e,r)).next())});var W=b(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.trueTypeOf=void 0;function Dr(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}z.trueTypeOf=Dr});var _=b(u=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});u.isEqual=u.isEqualCheap=u.isString=u.isPlainObject=u.flatMap=u.isObject=u.merge=u.curry=void 0;var Ue=W(),Vr=(e,...r)=>e.length<=r.length?e(...r):(...n)=>(0,u.curry)(e,...r,...n);u.curry=Vr;var Ur=(e,...r)=>{if(!r.length)return e;let n=r.shift();if((0,u.isObject)(e)&&(0,u.isObject)(n))for(let t in n)(0,u.isObject)(n[t])?(e[t]||Object.assign(e,{[t]:{}}),(0,u.merge)(e[t],n[t])):Object.assign(e,{[t]:n[t]});return(0,u.merge)(e,...r)};u.merge=Ur;var Gr=e=>(0,Ue.trueTypeOf)(e)==="object"&&!Array.isArray(e);u.isObject=Gr;function $r(e,r){return r||(r=n=>n),e.flatMap(r)}u.flatMap=$r;function Br(e){return Object.prototype.toString.call(e)==="[object Object]"}u.isPlainObject=Br;function Hr(e){return(0,Ue.trueTypeOf)(e)==="string"}u.isString=Hr;function zr(e,r){try{return JSON.stringify(e)===JSON.stringify(r)}catch{return!1}}u.isEqualCheap=zr;function ge(e,r){function n(l){return Object.prototype.toString.call(l).slice(8,-1).toLowerCase()}function t(){if(e.length!==r.length)return!1;for(let l=0;l<e.length;l++)if(!ge(e[l],r[l]))return!1;return!0}function o(){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(let l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&!ge(e[l],r[l]))return!1;return!0}function i(){return e.toString()===r.toString()}function a(){return e===r}let y=n(e);switch(y){case"array":return t();case"object":return o();case"function":return i();default:return y!==n(r)?!1:a()}}u.isEqual=ge});var er=b(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.queuePromisesProcess=x.chainProcessPromises=x.chainPromises=void 0;var qe=_();function tn(e,r=!1){return e.reduce((n,t)=>n.then(o=>t.then(i=>r===!1?[...o,i]:(0,qe.merge)(o,i))),Promise.resolve(r===!1?[]:(0,qe.isPlainObject)(r)?r:{}))}x.chainPromises=tn;function Qe(e,...r){return(...n)=>r.reduce((t,o)=>t.then(i=>o(i)),Reflect.apply(e,null,n))}x.chainProcessPromises=Qe;function on(e,...r){let n=(0,qe.flatMap)(e),t=Reflect.apply(Qe,null,n);return Reflect.apply(t,null,r)}x.queuePromisesProcess=on});var se=b(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});var S=class extends Error{constructor(...r){super(...r),this.message=r[0],this.detail=r[1],this.className=S.name,Error.captureStackTrace&&Error.captureStackTrace(this,S)}};Se.default=S});var ar=b(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});var J=class extends Error{constructor(...r){super(...r),this.message=r[0],this.detail=r[1],this.className=J.name,Error.captureStackTrace&&Error.captureStackTrace(this,J)}};Ne.default=J});var ve=b(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.formatStr=m.showDeep=m.nil=m.createEvtName=m.parseJson=m.toArray=m.inArray=void 0;var wn=_(),Rn=(e,r)=>!!e.filter(n=>n===r).length;m.inArray=Rn;var kn=e=>Array.isArray(e)?e:[e];m.toArray=kn;var Yn=(e,r=!0)=>{try{return(0,wn.isString)(e)?JSON.parse(e):JSON.parse(JSON.stringify(e))}catch(n){if(r)return e;throw n}};m.parseJson=Yn;var qn=(...e)=>e.join("_");m.createEvtName=qn;var jn=()=>!1;m.nil=jn;var Sn=e=>{console.dir(e,{depth:null})};m.showDeep=Sn;function Jn(e,...r){return e.replace(/{([0-9]+)}/g,(n,t)=>typeof r[t]>"u"?n:r[t])}m.formatStr=Jn});var lr=b(d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});d.readOnly=d.objectHasKey=d.arrToObj=d.assign=d.getConfigValue=void 0;var Nn=ve(),vn=_(),Kn=(e,r)=>r&&(0,vn.isPlainObject)(r)&&e in r?r[e]:void 0;d.getConfigValue=Kn;var In=(...e)=>Reflect.apply(Object.assign,Object,e);d.assign=In;var Mn=(e,r,n={})=>e.map(r).reduce((t,o)=>(0,d.assign)(t,o),n);d.arrToObj=Mn;var Ln=(e,r)=>{try{let n=Object.keys(e);return(0,Nn.inArray)(n,r)}catch{return!1}};d.objectHasKey=Ln;var Dn=e=>Object.freeze(e);d.readOnly=Dn});var mr=b(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.isAsyncFunction=N.isFunction=void 0;var fr=W(),pr=["asyncfunction","function"],Vn=function(e,r=!1){let n=(0,fr.trueTypeOf)(e);return pr.includes(n)?!0:(r&&console.error(`Expect to be Function type! Got ${typeof e}`),!1)};N.isFunction=Vn;function Un(e){return(0,fr.trueTypeOf)(e)===pr[0]}N.isAsyncFunction=Un});var yr=b(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.getRegex=v.isRegExp=void 0;var Gn=_();function gr(e){return e instanceof RegExp}v.isRegExp=gr;function $n(e){switch(!0){case gr(e):return e;case(0,Gn.isString)(e):return new RegExp(e);default:return!1}}v.getRegex=$n});var hr=b((bo,dr)=>{var K=1e3,I=K*60,M=I*60,R=M*24,Bn=R*7,Hn=R*365.25;dr.exports=function(e,r){r=r||{};var n=typeof e;if(n==="string"&&e.length>0)return zn(e);if(n==="number"&&isFinite(e))return r.long?Zn(e):Wn(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function zn(e){if(e=String(e),!(e.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!r){var n=parseFloat(r[1]),t=(r[2]||"ms").toLowerCase();switch(t){case"years":case"year":case"yrs":case"yr":case"y":return n*Hn;case"weeks":case"week":case"w":return n*Bn;case"days":case"day":case"d":return n*R;case"hours":case"hour":case"hrs":case"hr":case"h":return n*M;case"minutes":case"minute":case"mins":case"min":case"m":return n*I;case"seconds":case"second":case"secs":case"sec":case"s":return n*K;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Wn(e){var r=Math.abs(e);return r>=R?Math.round(e/R)+"d":r>=M?Math.round(e/M)+"h":r>=I?Math.round(e/I)+"m":r>=K?Math.round(e/K)+"s":e+"ms"}function Zn(e){var r=Math.abs(e);return r>=R?ue(e,r,R,"day"):r>=M?ue(e,r,M,"hour"):r>=I?ue(e,r,I,"minute"):r>=K?ue(e,r,K,"second"):e+" ms"}function ue(e,r,n,t){var o=r>=n*1.5;return Math.round(e/n)+" "+t+(o?"s":"")}});var br=b((Co,Ar)=>{function Xn(e){n.debug=n,n.default=n,n.coerce=l,n.disable=i,n.enable=o,n.enabled=a,n.humanize=hr(),n.destroy=D,Object.keys(e).forEach(s=>{n[s]=e[s]}),n.names=[],n.skips=[],n.formatters={};function r(s){let c=0;for(let f=0;f<s.length;f++)c=(c<<5)-c+s.charCodeAt(f),c|=0;return n.colors[Math.abs(c)%n.colors.length]}n.selectColor=r;function n(s){let c,f=null,$,Le;function C(...A){if(!C.enabled)return;let F=C,B=Number(new Date),jr=B-(c||B);F.diff=jr,F.prev=c,F.curr=B,c=B,A[0]=n.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let H=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(me,Sr)=>{if(me==="%%")return"%";H++;let De=n.formatters[Sr];if(typeof De=="function"){let Jr=A[H];me=De.call(F,Jr),A.splice(H,1),H--}return me}),n.formatArgs.call(F,A),(F.log||n.log).apply(F,A)}return C.namespace=s,C.useColors=n.useColors(),C.color=n.selectColor(s),C.extend=t,C.destroy=n.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:($!==n.namespaces&&($=n.namespaces,Le=n.enabled(s)),Le),set:A=>{f=A}}),typeof n.init=="function"&&n.init(C),C}function t(s,c){let f=n(this.namespace+(typeof c>"u"?":":c)+s);return f.log=this.log,f}function o(s){n.save(s),n.namespaces=s,n.names=[],n.skips=[];let c,f=(typeof s=="string"?s:"").split(/[\s,]+/),$=f.length;for(c=0;c<$;c++)!f[c]||(s=f[c].replace(/\*/g,".*?"),s[0]==="-"?n.skips.push(new RegExp("^"+s.slice(1)+"$")):n.names.push(new RegExp("^"+s+"$")))}function i(){let s=[...n.names.map(y),...n.skips.map(y).map(c=>"-"+c)].join(",");return n.enable(""),s}function a(s){if(s[s.length-1]==="*")return!0;let c,f;for(c=0,f=n.skips.length;c<f;c++)if(n.skips[c].test(s))return!1;for(c=0,f=n.names.length;c<f;c++)if(n.names[c].test(s))return!0;return!1}function y(s){return s.toString().substring(2,s.toString().length-2).replace(/\.\*\?$/,"*")}function l(s){return s instanceof Error?s.stack||s.message:s}function D(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}Ar.exports=Xn});var Ke=b((h,ae)=>{h.formatArgs=et;h.save=rt;h.load=nt;h.useColors=Qn;h.storage=tt();h.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();h.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Qn(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function et(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+ae.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,t=0;e[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(t=n))}),e.splice(t,0,r)}h.log=console.debug||console.log||(()=>{});function rt(e){try{e?h.storage.setItem("debug",e):h.storage.removeItem("debug")}catch{}}function nt(){let e;try{e=h.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function tt(){try{return localStorage}catch{}}ae.exports=br()(h);var{formatters:ot}=ae.exports;ot.j=function(e){try{return JSON.stringify(e)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}}});var Ge=p(_());function ye(e){return(e+"").trim()!==""?(0,Ge.isString)(e):!1}function de(e){return e!=null&&typeof e=="boolean"}var $e=p(W());function he(e){return(0,$e.trueTypeOf)(e)!=="number"?!1:!isNaN(parseFloat(e+""))}function Wr(e){console.log("@TODO checkInteger",e)}function Zr(e){console.log("@TODO checkFloat",e)}function Xr(e){console.log("@TODO check unsigned",e)}function Ae(e,r=!0){return e!==void 0&&e!==""&&(e+"").trim()!==""&&(r===!1||r===!0&&e!==null)}var Xe=p(_());var Z="|",be="boolean",Ce="string",Pe="number",Y="array",q="object",Ee="Array<",_e="array.<",X=">",Be="validate",j="validateAsync",Q="plugin",O="main",He="pattern",ze="rules",xe="name",g="params",V="$$idx",Te="$$value",U="Your plugin config argument contains reserved keywords",Fe="Your params doesn't matching your main argument list",Oe="Can not find 'main' method in your plugin config",we=[g,He,Be,j,Q,ze,"name","type","types","server","tstype","value","optional","tmp","pos","lastResult"];function P(e){switch(e){case Pe:return he;case Ce:return ye;case be:return de;default:return Ae}}var We={ts:Ee,jsdoc:_e};function w(e,r){if(Array.isArray(e)){if(!r)return!0;let n;return Array.isArray(r)?n=e.filter(t=>{let o=r.length;for(let i=0;i<o;++i){let a=r[i];if(a===Y&&Array.isArray(t)||a===q&&(0,Xe.isPlainObject)(t)||P(a)(t))return!1}return!0}):n=e.filter(t=>!P(r)(t)),!(n.length>0)}return!1}function Ze(e,r="ts"){let n=We[r];if(!n)throw new Error(`Syntax not supported! ${Object.keys(We)}`);if(e.indexOf(n)>-1&&e.indexOf(X)>-1){let t=e.replace(n,"").replace(X,"");return t.indexOf(Z)?t.split(Z):[t]}return!1}function Re(e){return Ze(e)?!1:Ze(e,"jsdoc")}function ke(e,r){let{arg:n}=e;return r.length>1?!n.filter(t=>!(r.length>r.filter(o=>!P(o)(t)).length)).length:r.length>r.filter(t=>!w(n,t)).length}var Ye=p(_());function G(e,r){if((0,Ye.isPlainObject)(e)){if(!r)return!0;if(typeof r=="string")return r in e;if(w(r))return typeof r[0]=="string"?Qr(e,r):en(e,r)}return!1}function Qr(e,r){return!r.filter(n=>!(n in e)).length}function en(e,r){return!r.filter(n=>{let t=e[n.name];return!(n.type.length>n.type.filter(o=>{let i;return t!==void 0?(i=Re(o))!==!1?!ke({arg:t},i):!P(o)(t):!0}).length)}).length}var rn=function(e){let{arg:r,param:n}=e,t=[r];return Array.isArray(n.keys)&&n.keys.length&&t.push(n.keys),Reflect.apply(G,null,t)},nn=function(e){return(0,Ye.isPlainObject)(e)?!Object.keys(e).length:!1};var rr=p(er());function je(e,r){return e||r}function nr(e,r,n){return r.map((t,o)=>{let i=[e];switch(n&&n[o]&&i.push(n[o]),t){case Y:return()=>je(Reflect.apply(w,null,i),t);case q:return()=>je(Reflect.apply(G,null,i),t);default:return()=>je(P(t)(e),t)}}).map(t=>()=>E(this,null,function*(){let o=t();return o===!0?Promise.reject(!0):Promise.resolve(o)}))}function sn(e,r,n){return E(this,null,function*(){let t=nr(e,r,n);return new Promise((o,i)=>{(0,rr.queuePromisesProcess)(t,r[0]).then(a=>{i(a)}).catch(a=>{o(a)})})})}function cn(e,r){let n=r.length;for(let t=0;t<n;++t){let o=r[t];switch(o){case Y:if(w(e))return!0;break;case q:if(G(e))return!0;break;default:if(P(o)(e))return!0}}return!1}function ee(e){return(...r)=>E(this,null,function*(){let n=yield Reflect.apply(e,null,r);return n?Promise.resolve(n):Promise.reject(n)})}function un(e){return(...r)=>E(this,null,function*(){let n=yield Reflect.apply(e,null,r);return n?Promise.reject(n):Promise.resolve(n)})}function T(e){return typeof e=="string"?e.length:e}var an="moreThan";function ln(e,r){return T(r)>e}var re={name:an,main:ln,params:["num"]};var fn="lessThan";function pn(e,r){return T(r)<e}var ne={name:fn,main:pn,params:["num"]};var mn="between";function gn(e,r,n){return ne.main(e,n)&&re.main(r,n)}var tr={main:gn,name:mn,params:["max","min"]};var yn="email";function dn(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}var or={main:dn,name:yn};var hn="int";function An(e){return Number.isInteger(e)}var ir={name:hn,main:An};var bn="lessThanEqual";function Cn(e,r){return T(r)<=e}var te={name:bn,main:Cn,params:["num"]};var Pn="moreThanEqual";function En(e,r){return T(r)>=e}var oe={name:Pn,main:En,params:["num"]};var _n="unit";function xn(e){return Number.isInteger(e)&&e>=0}var sr={name:_n,main:xn};var Tn="main";function Fn(e,r,n){return te.main(e,n)&&oe.main(r,n)}var cr={name:Tn,main:Fn,params:["max","min"]};var ie=[tr,or,ir,te,ne,oe,re,sr,cr];var ur=p(_()),ce=p(se());function Je(e,r){let{plugin:n}=e;if(n){let t=r[g];if(t){if(!On(e,t))throw new ce.default(`Expected params: ${t.join(",")} not found!`);let o=t.map(i=>e[i]);return Reflect.apply((0,ur.curry)(r.main),null,o)}else throw new ce.default(`This plugin ${r.name} can not be curry`)}throw new ce.default("Unable to find plugin in config")}function On(e,r){return r.filter(n=>e[n]).length===r.length}var Cr=p(ar()),Pr=p(se());var Er=p(ve()),_r=p(lr()),xr=p(mr()),Tr=p(yr()),Fr=p(Ke()),le=(0,Fr.default)("jsonql:validator-core:common");function fe(e){return!(e.filter(r=>we.includes(r)).length>0)}function Ie(e){return e[O]&&(0,xr.isFunction)(e[O])}function Or(e){let r=it(e.main.toString());return r.pop(),r}function wr(e){let r=Or(e);if(r.length===0)return e;if(!fe(r))throw new Pr.default(U);return e[g]=r,e}function Rr(e){let r=Or(e),n=r.length;if(n===0&&!e[g])return!0;let t=e.params!==void 0&&Array.isArray(e.params)?e.params:!1;return t===!1?!1:n>0&&n===t.length&&!r.filter((o,i)=>o!==t[i]).length}function it(e){return e.split("(")[1].split(")")[0].split(",").map(r=>r.trim()).filter(r=>r!=="")}function pe(e,r,n){return(t,o,i)=>E(this,null,function*(){return Reflect.apply(r,null,[t]).then(kr(e,t,o,i)).catch(a=>(le("failed",e,t,a,i),Promise.reject(new Cr.default(n,i))))})}function kr(e,r,n,t){return o=>{let i=t[0];le("passed",e,r,o,t),le("lastResult",n);let a={[V]:i,[Te]:r};if(n===void 0)return{[e]:a};if(e in n){let y=n[e];return Yr(y)?y.includes(a)||n[e].push(a):y[V]!==i&&(n[e]=(0,Er.toArray)(n[e]).concat([a])),n}return(0,_r.assign)(n,{[e]:a})}}function Yr(e,r=V){try{if(Array.isArray(e))return!!e.filter(n=>r in n).length}catch(n){le("isResultPackage",n)}return!1}function st(e){let r=(0,Tr.getRegex)(e);return n=>E(this,null,function*(){return r.test(n)?Promise.resolve(!0):Promise.reject(!1)})}var L=p(se());var qr=p(Ke()),k=(0,qr.default)("jsonql:validator-core:validator-plugin"),Me=class{constructor(r){this.$version=r;this._plugins=new Map;this._internalPluginNames=[];ie.forEach(n=>{let t=n[xe];this._internalPluginNames.push(t),this._registerPlugin(t,n,!0)})}lookupPlugin(r,n){let t=r[Q];if(t&&this._plugins.has(t)){let o=this._plugins.get(t);if(o[O]&&!o[g]&&(o[j]=ee(o[O])),o&&o[j]&&!o[g])return pe(n,o[j],t);if(o&&o[g])return k("pluginConfig --->",o),k("input----------->",r),pe(n,ee(Je(r,o)),t)}throw k("lookupPlugin","unable to find",t),new L.default(`Unable to find plugin: ${t}`)}registerPlugin(r,n){this._registerPlugin(r,n)}_registerExternalPlugin(r,n){this._registerPlugin(r,n,!1,!0)}export(r=!0){let n=[];return this._plugins.forEach((t,o)=>{!this.isBuiltIn(o)&&t.external===r&&n.push(t)}),n}isBuiltIn(r){return this._internalPluginNames.includes(r)}_registerPlugin(r,n,t=!1,o=!1){if(!t){if(this._plugins.has(r))throw new L.default(`plugin ${r} already existed!`);if(!Ie(n))throw k("registerPlugin",Oe),new L.default(Oe);if(n[g]===void 0)n=wr(n),k("auto generate params for plugin",n);else if(n[g]!==void 0){if(!fe(n[g]))throw k("registerPlugin",U),new L.default(U);if(!Rr(n))throw k("registerPlugin",Fe),new L.default(Fe)}}n.name=r,n.external=o,this._plugins.set(r,n)}};export{Ee as ARRAY_TS_TYPE_LFT,Y as ARRAY_TYPE,_e as ARRAY_TYPE_LFT,X as ARRAY_TYPE_RGT,be as BOOLEAN_TYPE,V as IDX_KEY,we as KEYWORDS,xe as NAME_KEY,Pe as NUMBER_TYPE,q as OBJECT_TYPE,Z as OR_SEPERATOR,g as PARAMS_KEY,He as PATTERN_KEY,O as PLUGIN_FN_KEY,Q as PLUGIN_KEY,ze as RULES_KEY,Ce as STRING_TYPE,j as VALIDATE_ASYNC_KEY,Be as VALIDATE_KEY,Te as VALUE_KEY,Me as ValidatorPlugins,ke as arrayTypeHandler,Ae as checkAny,w as checkArray,de as checkBoolean,Zr as checkFloat,Wr as checkInteger,he as checkNumber,G as checkObject,fe as checkPluginArg,ye as checkString,sn as checkUnion,cn as checkUnionSync,Xr as checkUnsigned,P as combineCheck,pe as constructRuleCb,Je as curryPlugin,nr as generateReversePromisesFn,Re as isArrayLike,nn as isEmptyObject,Yr as isResultPackage,rn as objectTypeHandler,st as patternPluginFanctory,Ie as pluginHasFunc,ie as plugins,ee as promisify,un as reversePromisifyResult,kr as successThen};
/*!
 * More accurately check the type of a JavaScript object
 * (c) 2021 Chris Ferdinandi, MIT License, https://gomakethings.com
 */
//# sourceMappingURL=validator-core.esm.js.map
