(()=>{var Ah=Object.create;var Na=Object.defineProperty;var gh=Object.getOwnPropertyDescriptor;var Oh=Object.getOwnPropertyNames;var Ph=Object.getPrototypeOf,Th=Object.prototype.hasOwnProperty;var Sa=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(o,r)=>(typeof require!="undefined"?require:o)[r]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var g=(n,o)=>()=>(o||n((o={exports:{}}).exports,o),o.exports);var Rh=(n,o,r,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let u of Oh(o))!Th.call(n,u)&&u!==r&&Na(n,u,{get:()=>o[u],enumerable:!(i=gh(o,u))||i.enumerable});return n};var U=(n,o,r)=>(r=n!=null?Ah(Ph(n)):{},Rh(o||!n||!n.__esModule?Na(r,"default",{value:n,enumerable:!0}):r,n));var W=(n,o,r)=>new Promise((i,u)=>{var c=d=>{try{f(r.next(d))}catch(A){u(A)}},l=d=>{try{f(r.throw(d))}catch(A){u(A)}},f=d=>d.done?i(d.value):Promise.resolve(d.value).then(c,l);f((r=r.apply(n,o)).next())});var Ee=g((oe,ae)=>{(()=>{var n=typeof global=="object"&&global&&global.Object===Object&&global,o=n,r=typeof self=="object"&&self&&self.Object===Object&&self,i=o||r||Function("return this")(),u=i,c=u.Symbol,l=c,f=Object.prototype,d=f.hasOwnProperty,A=f.toString,E=l?l.toStringTag:void 0;function h(e){var t=d.call(e,E),a=e[E];try{e[E]=void 0;var s=!0}catch{}var _=A.call(e);return s&&(t?e[E]=a:delete e[E]),_}var m=h,F=Object.prototype,Y=F.toString;function T(e){return Y.call(e)}var N=T,K="[object Null]",ne="[object Undefined]",Le=l?l.toStringTag:void 0;function ce(e){return e==null?e===void 0?ne:K:Le&&Le in Object(e)?m(e):N(e)}var le=ce;function de(e){return e!=null&&typeof e=="object"}var X=de,Te="[object Number]";function Et(e){return typeof e=="number"||X(e)&&le(e)==Te}var qu=Et;function Du(e){return qu(e)&&e!=+e}var Ku=Du,Uu=Array.isArray,Q=Uu,ku="[object String]";function Ju(e){return typeof e=="string"||!Q(e)&&X(e)&&le(e)==ku}var ao=Ju;function Vu(e,t){return function(a){return e(t(a))}}var io=Vu,xu=io(Object.getPrototypeOf,Object),uo=xu,Gu="[object Object]",Bu=Function.prototype,Hu=Object.prototype,so=Bu.toString,Wu=Hu.hasOwnProperty,$u=so.call(Object);function zu(e){if(!X(e)||le(e)!=Gu)return!1;var t=uo(e);if(t===null)return!0;var a=Wu.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&so.call(a)==$u}var Ut=zu;function Xu(){this.__data__=[],this.size=0}var Qu=Xu;function Zu(e,t){return e===t||e!==e&&t!==t}var ht=Zu;function es(e,t){for(var a=e.length;a--;)if(ht(e[a][0],t))return a;return-1}var kt=es,ts=Array.prototype,rs=ts.splice;function ns(e){var t=this.__data__,a=kt(t,e);if(a<0)return!1;var s=t.length-1;return a==s?t.pop():rs.call(t,a,1),--this.size,!0}var os=ns;function as(e){var t=this.__data__,a=kt(t,e);return a<0?void 0:t[a][1]}var is=as;function us(e){return kt(this.__data__,e)>-1}var ss=us;function cs(e,t){var a=this.__data__,s=kt(a,e);return s<0?(++this.size,a.push([e,t])):a[s][1]=t,this}var ls=cs;function qe(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}qe.prototype.clear=Qu,qe.prototype.delete=os,qe.prototype.get=is,qe.prototype.has=ss,qe.prototype.set=ls;var Jt=qe;function fs(){this.__data__=new Jt,this.size=0}var _s=fs;function ps(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}var ds=ps;function Es(e){return this.__data__.get(e)}var hs=Es;function vs(e){return this.__data__.has(e)}var ys=vs;function ms(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fe=ms,bs="[object AsyncFunction]",As="[object Function]",gs="[object GeneratorFunction]",Os="[object Proxy]";function Ps(e){if(!fe(e))return!1;var t=le(e);return t==As||t==gs||t==bs||t==Os}var Ir=Ps,Ts=u["__core-js_shared__"],Yr=Ts,co=function(){var e=/[^.]+$/.exec(Yr&&Yr.keys&&Yr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Rs(e){return!!co&&co in e}var Cs=Rs,Ns=Function.prototype,Ss=Ns.toString;function ws(e){if(e!=null){try{return Ss.call(e)}catch{}try{return e+""}catch{}}return""}var Re=ws,js=/[\\^$.*+?()[\]{}|]/g,Fs=/^\[object .+?Constructor\]$/,Is=Function.prototype,Ys=Object.prototype,Ms=Is.toString,Ls=Ys.hasOwnProperty,qs=RegExp("^"+Ms.call(Ls).replace(js,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ds(e){if(!fe(e)||Cs(e))return!1;var t=Ir(e)?qs:Fs;return t.test(Re(e))}var Ks=Ds;function Us(e,t){return e?.[t]}var ks=Us;function Js(e,t){var a=ks(e,t);return Ks(a)?a:void 0}var Ce=Js,Vs=Ce(u,"Map"),vt=Vs,xs=Ce(Object,"create"),yt=xs;function Gs(){this.__data__=yt?yt(null):{},this.size=0}var Bs=Gs;function Hs(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ws=Hs,$s="__lodash_hash_undefined__",zs=Object.prototype,Xs=zs.hasOwnProperty;function Qs(e){var t=this.__data__;if(yt){var a=t[e];return a===$s?void 0:a}return Xs.call(t,e)?t[e]:void 0}var Zs=Qs,ec=Object.prototype,tc=ec.hasOwnProperty;function rc(e){var t=this.__data__;return yt?t[e]!==void 0:tc.call(t,e)}var nc=rc,oc="__lodash_hash_undefined__";function ac(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=yt&&t===void 0?oc:t,this}var ic=ac;function De(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}De.prototype.clear=Bs,De.prototype.delete=Ws,De.prototype.get=Zs,De.prototype.has=nc,De.prototype.set=ic;var lo=De;function uc(){this.size=0,this.__data__={hash:new lo,map:new(vt||Jt),string:new lo}}var sc=uc;function cc(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var lc=cc;function fc(e,t){var a=e.__data__;return lc(t)?a[typeof t=="string"?"string":"hash"]:a.map}var Vt=fc;function _c(e){var t=Vt(this,e).delete(e);return this.size-=t?1:0,t}var pc=_c;function dc(e){return Vt(this,e).get(e)}var Ec=dc;function hc(e){return Vt(this,e).has(e)}var vc=hc;function yc(e,t){var a=Vt(this,e),s=a.size;return a.set(e,t),this.size+=a.size==s?0:1,this}var mc=yc;function Ke(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}Ke.prototype.clear=sc,Ke.prototype.delete=pc,Ke.prototype.get=Ec,Ke.prototype.has=vc,Ke.prototype.set=mc;var xt=Ke,bc=200;function Ac(e,t){var a=this.__data__;if(a instanceof Jt){var s=a.__data__;if(!vt||s.length<bc-1)return s.push([e,t]),this.size=++a.size,this;a=this.__data__=new xt(s)}return a.set(e,t),this.size=a.size,this}var gc=Ac;function Ue(e){var t=this.__data__=new Jt(e);this.size=t.size}Ue.prototype.clear=_s,Ue.prototype.delete=ds,Ue.prototype.get=hs,Ue.prototype.has=ys,Ue.prototype.set=gc;var mt=Ue,Oc=function(){try{var e=Ce(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Gt=Oc;function Pc(e,t,a){t=="__proto__"&&Gt?Gt(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}var Mr=Pc;function Tc(e,t,a){(a!==void 0&&!ht(e[t],a)||a===void 0&&!(t in e))&&Mr(e,t,a)}var Lr=Tc;function Rc(e){return function(t,a,s){for(var _=-1,p=Object(t),y=s(t),v=y.length;v--;){var b=y[e?v:++_];if(a(p[b],b,p)===!1)break}return t}}var Cc=Rc,Nc=Cc(),fo=Nc,_o=typeof oe=="object"&&oe&&!oe.nodeType&&oe,po=_o&&typeof ae=="object"&&ae&&!ae.nodeType&&ae,Sc=po&&po.exports===_o,Eo=Sc?u.Buffer:void 0,ho=Eo?Eo.allocUnsafe:void 0;function wc(e,t){if(t)return e.slice();var a=e.length,s=ho?ho(a):new e.constructor(a);return e.copy(s),s}var jc=wc,Fc=u.Uint8Array,Bt=Fc;function Ic(e){var t=new e.constructor(e.byteLength);return new Bt(t).set(new Bt(e)),t}var Yc=Ic;function Mc(e,t){var a=t?Yc(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}var Lc=Mc;function qc(e,t){var a=-1,s=e.length;for(t||(t=Array(s));++a<s;)t[a]=e[a];return t}var qr=qc,vo=Object.create,Dc=function(){function e(){}return function(t){if(!fe(t))return{};if(vo)return vo(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}(),Ht=Dc,Kc=Object.prototype;function Uc(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||Kc;return e===a}var Dr=Uc;function kc(e){return typeof e.constructor=="function"&&!Dr(e)?Ht(uo(e)):{}}var Jc=kc,Vc="[object Arguments]";function xc(e){return X(e)&&le(e)==Vc}var yo=xc,mo=Object.prototype,Gc=mo.hasOwnProperty,Bc=mo.propertyIsEnumerable,Hc=yo(function(){return arguments}())?yo:function(e){return X(e)&&Gc.call(e,"callee")&&!Bc.call(e,"callee")},bt=Hc,Wc=9007199254740991;function $c(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Wc}var Kr=$c;function zc(e){return e!=null&&Kr(e.length)&&!Ir(e)}var ke=zc;function Xc(e){return X(e)&&ke(e)}var Qc=Xc;function Zc(){return!1}var el=Zc,bo=typeof oe=="object"&&oe&&!oe.nodeType&&oe,Ao=bo&&typeof ae=="object"&&ae&&!ae.nodeType&&ae,tl=Ao&&Ao.exports===bo,go=tl?u.Buffer:void 0,rl=go?go.isBuffer:void 0,nl=rl||el,Wt=nl,ol="[object Arguments]",al="[object Array]",il="[object Boolean]",ul="[object Date]",sl="[object Error]",cl="[object Function]",ll="[object Map]",fl="[object Number]",_l="[object Object]",pl="[object RegExp]",dl="[object Set]",El="[object String]",hl="[object WeakMap]",vl="[object ArrayBuffer]",yl="[object DataView]",ml="[object Float32Array]",bl="[object Float64Array]",Al="[object Int8Array]",gl="[object Int16Array]",Ol="[object Int32Array]",Pl="[object Uint8Array]",Tl="[object Uint8ClampedArray]",Rl="[object Uint16Array]",Cl="[object Uint32Array]",q={};q[ml]=q[bl]=q[Al]=q[gl]=q[Ol]=q[Pl]=q[Tl]=q[Rl]=q[Cl]=!0,q[ol]=q[al]=q[vl]=q[il]=q[yl]=q[ul]=q[sl]=q[cl]=q[ll]=q[fl]=q[_l]=q[pl]=q[dl]=q[El]=q[hl]=!1;function Nl(e){return X(e)&&Kr(e.length)&&!!q[le(e)]}var Sl=Nl;function wl(e){return function(t){return e(t)}}var jl=wl,Oo=typeof oe=="object"&&oe&&!oe.nodeType&&oe,At=Oo&&typeof ae=="object"&&ae&&!ae.nodeType&&ae,Fl=At&&At.exports===Oo,Ur=Fl&&o.process,Il=function(){try{var e=At&&At.require&&At.require("util").types;return e||Ur&&Ur.binding&&Ur.binding("util")}catch{}}(),Po=Il,To=Po&&Po.isTypedArray,Yl=To?jl(To):Sl,kr=Yl;function Ml(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Jr=Ml,Ll=Object.prototype,ql=Ll.hasOwnProperty;function Dl(e,t,a){var s=e[t];(!(ql.call(e,t)&&ht(s,a))||a===void 0&&!(t in e))&&Mr(e,t,a)}var Kl=Dl;function Ul(e,t,a,s){var _=!a;a||(a={});for(var p=-1,y=t.length;++p<y;){var v=t[p],b=s?s(a[v],e[v],v,a,e):void 0;b===void 0&&(b=e[v]),_?Mr(a,v,b):Kl(a,v,b)}return a}var kl=Ul;function Jl(e,t){for(var a=-1,s=Array(e);++a<e;)s[a]=t(a);return s}var Vl=Jl,xl=9007199254740991,Gl=/^(?:0|[1-9]\d*)$/;function Bl(e,t){var a=typeof e;return t=t??xl,!!t&&(a=="number"||a!="symbol"&&Gl.test(e))&&e>-1&&e%1==0&&e<t}var $t=Bl,Hl=Object.prototype,Wl=Hl.hasOwnProperty;function $l(e,t){var a=Q(e),s=!a&&bt(e),_=!a&&!s&&Wt(e),p=!a&&!s&&!_&&kr(e),y=a||s||_||p,v=y?Vl(e.length,String):[],b=v.length;for(var O in e)(t||Wl.call(e,O))&&!(y&&(O=="length"||_&&(O=="offset"||O=="parent")||p&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||$t(O,b)))&&v.push(O);return v}var Ro=$l;function zl(e){var t=[];if(e!=null)for(var a in Object(e))t.push(a);return t}var Xl=zl,Ql=Object.prototype,Zl=Ql.hasOwnProperty;function ef(e){if(!fe(e))return Xl(e);var t=Dr(e),a=[];for(var s in e)s=="constructor"&&(t||!Zl.call(e,s))||a.push(s);return a}var tf=ef;function rf(e){return ke(e)?Ro(e,!0):tf(e)}var Co=rf;function nf(e){return kl(e,Co(e))}var of=nf;function af(e,t,a,s,_,p,y){var v=Jr(e,a),b=Jr(t,a),O=y.get(b);if(O){Lr(e,a,O);return}var P=p?p(v,b,a+"",e,t,y):void 0,S=P===void 0;if(S){var w=Q(b),j=!w&&Wt(b),D=!w&&!j&&kr(b);P=b,w||j||D?Q(v)?P=v:Qc(v)?P=qr(v):j?(S=!1,P=jc(b,!0)):D?(S=!1,P=Lc(b,!0)):P=[]:Ut(b)||bt(b)?(P=v,bt(v)?P=of(v):(!fe(v)||Ir(v))&&(P=Jc(b))):S=!1}S&&(y.set(b,P),_(P,b,s,p,y),y.delete(b)),Lr(e,a,P)}var uf=af;function No(e,t,a,s,_){e!==t&&fo(t,function(p,y){if(_||(_=new mt),fe(p))uf(e,t,y,a,No,s,_);else{var v=s?s(Jr(e,y),p,y+"",e,t,_):void 0;v===void 0&&(v=p),Lr(e,y,v)}},Co)}var sf=No;function cf(e){return e}var zt=cf;function lf(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}var Vr=lf,So=Math.max;function ff(e,t,a){return t=So(t===void 0?e.length-1:t,0),function(){for(var s=arguments,_=-1,p=So(s.length-t,0),y=Array(p);++_<p;)y[_]=s[t+_];_=-1;for(var v=Array(t+1);++_<t;)v[_]=s[_];return v[t]=a(y),Vr(e,this,v)}}var _f=ff;function pf(e){return function(){return e}}var df=pf,Ef=Gt?function(e,t){return Gt(e,"toString",{configurable:!0,enumerable:!1,value:df(t),writable:!0})}:zt,hf=Ef,vf=800,yf=16,mf=Date.now;function bf(e){var t=0,a=0;return function(){var s=mf(),_=yf-(s-a);if(a=s,_>0){if(++t>=vf)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wo=bf,Af=wo(hf),jo=Af;function gf(e,t){return jo(_f(e,t,zt),e+"")}var Of=gf;function Pf(e,t,a){if(!fe(a))return!1;var s=typeof t;return(s=="number"?ke(a)&&$t(t,a.length):s=="string"&&t in a)?ht(a[t],e):!1}var Tf=Pf;function Rf(e){return Of(function(t,a){var s=-1,_=a.length,p=_>1?a[_-1]:void 0,y=_>2?a[2]:void 0;for(p=e.length>3&&typeof p=="function"?(_--,p):void 0,y&&Tf(a[0],a[1],y)&&(p=_<3?void 0:p,_=1),t=Object(t);++s<_;){var v=a[s];v&&e(t,v,s,p)}return t})}var Cf=Rf,Nf=Cf(function(e,t,a){sf(e,t,a)}),Sf=Nf,wf=Ce(u,"WeakMap"),gt=wf,jf=gt&&new gt,Xt=jf,Ff=Xt?function(e,t){return Xt.set(e,t),e}:zt,Fo=Ff;function If(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var a=Ht(e.prototype),s=e.apply(a,t);return fe(s)?s:a}}var Ot=If,Yf=1;function Mf(e,t,a){var s=t&Yf,_=Ot(e);function p(){var y=this&&this!==u&&this instanceof p?_:e;return y.apply(s?a:this,arguments)}return p}var Lf=Mf,qf=Math.max;function Df(e,t,a,s){for(var _=-1,p=e.length,y=a.length,v=-1,b=t.length,O=qf(p-y,0),P=Array(b+O),S=!s;++v<b;)P[v]=t[v];for(;++_<y;)(S||_<p)&&(P[a[_]]=e[_]);for(;O--;)P[v++]=e[_++];return P}var Io=Df,Kf=Math.max;function Uf(e,t,a,s){for(var _=-1,p=e.length,y=-1,v=a.length,b=-1,O=t.length,P=Kf(p-v,0),S=Array(P+O),w=!s;++_<P;)S[_]=e[_];for(var j=_;++b<O;)S[j+b]=t[b];for(;++y<v;)(w||_<p)&&(S[j+a[y]]=e[_++]);return S}var Yo=Uf;function kf(e,t){for(var a=e.length,s=0;a--;)e[a]===t&&++s;return s}var Jf=kf;function Vf(){}var xr=Vf,xf=4294967295;function Qt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xf,this.__views__=[]}Qt.prototype=Ht(xr.prototype),Qt.prototype.constructor=Qt;var Gr=Qt;function Gf(){}var Bf=Gf,Hf=Xt?function(e){return Xt.get(e)}:Bf,Mo=Hf,Wf={},Lo=Wf,$f=Object.prototype,zf=$f.hasOwnProperty;function Xf(e){for(var t=e.name+"",a=Lo[t],s=zf.call(Lo,t)?a.length:0;s--;){var _=a[s],p=_.func;if(p==null||p==e)return _.name}return t}var Qf=Xf;function Zt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Zt.prototype=Ht(xr.prototype),Zt.prototype.constructor=Zt;var Br=Zt;function Zf(e){if(e instanceof Gr)return e.clone();var t=new Br(e.__wrapped__,e.__chain__);return t.__actions__=qr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var e_=Zf,t_=Object.prototype,r_=t_.hasOwnProperty;function er(e){if(X(e)&&!Q(e)&&!(e instanceof Gr)){if(e instanceof Br)return e;if(r_.call(e,"__wrapped__"))return e_(e)}return new Br(e)}er.prototype=xr.prototype,er.prototype.constructor=er;var n_=er;function o_(e){var t=Qf(e),a=n_[t];if(typeof a!="function"||!(t in Gr.prototype))return!1;if(e===a)return!0;var s=Mo(a);return!!s&&e===s[0]}var a_=o_,i_=wo(Fo),qo=i_,u_=/\{\n\/\* \[wrapped with (.+)\] \*/,s_=/,? & /;function c_(e){var t=e.match(u_);return t?t[1].split(s_):[]}var l_=c_,f_=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function __(e,t){var a=t.length;if(!a)return e;var s=a-1;return t[s]=(a>1?"& ":"")+t[s],t=t.join(a>2?", ":" "),e.replace(f_,`{
/* [wrapped with `+t+`] */
`)}var p_=__;function d_(e,t){for(var a=-1,s=e==null?0:e.length;++a<s&&t(e[a],a,e)!==!1;);return e}var E_=d_;function h_(e,t,a,s){for(var _=e.length,p=a+(s?1:-1);s?p--:++p<_;)if(t(e[p],p,e))return p;return-1}var v_=h_;function y_(e){return e!==e}var m_=y_;function b_(e,t,a){for(var s=a-1,_=e.length;++s<_;)if(e[s]===t)return s;return-1}var A_=b_;function g_(e,t,a){return t===t?A_(e,t,a):v_(e,m_,a)}var O_=g_;function P_(e,t){var a=e==null?0:e.length;return!!a&&O_(e,t,0)>-1}var T_=P_,R_=1,C_=2,N_=8,S_=16,w_=32,j_=64,F_=128,I_=256,Y_=512,M_=[["ary",F_],["bind",R_],["bindKey",C_],["curry",N_],["curryRight",S_],["flip",Y_],["partial",w_],["partialRight",j_],["rearg",I_]];function L_(e,t){return E_(M_,function(a){var s="_."+a[0];t&a[1]&&!T_(e,s)&&e.push(s)}),e.sort()}var q_=L_;function D_(e,t,a){var s=t+"";return jo(e,p_(s,q_(l_(s),a)))}var Do=D_,K_=1,U_=2,k_=4,J_=8,Ko=32,Uo=64;function V_(e,t,a,s,_,p,y,v,b,O){var P=t&J_,S=P?y:void 0,w=P?void 0:y,j=P?p:void 0,D=P?void 0:p;t|=P?Ko:Uo,t&=~(P?Uo:Ko),t&k_||(t&=~(K_|U_));var x=[e,t,_,j,S,D,w,v,b,O],B=a.apply(void 0,x);return a_(e)&&qo(B,x),B.placeholder=s,Do(B,e,t)}var ko=V_;function x_(e){var t=e;return t.placeholder}var Jo=x_,G_=Math.min;function B_(e,t){for(var a=e.length,s=G_(t.length,a),_=qr(e);s--;){var p=t[s];e[s]=$t(p,a)?_[p]:void 0}return e}var H_=B_,Vo="__lodash_placeholder__";function W_(e,t){for(var a=-1,s=e.length,_=0,p=[];++a<s;){var y=e[a];(y===t||y===Vo)&&(e[a]=Vo,p[_++]=a)}return p}var tr=W_,$_=1,z_=2,X_=8,Q_=16,Z_=128,ep=512;function xo(e,t,a,s,_,p,y,v,b,O){var P=t&Z_,S=t&$_,w=t&z_,j=t&(X_|Q_),D=t&ep,x=w?void 0:Ot(e);function B(){for(var H=arguments.length,k=Array(H),Je=H;Je--;)k[Je]=arguments[Je];if(j)var Se=Jo(B),Ve=Jf(k,Se);if(s&&(k=Io(k,s,_,j)),p&&(k=Yo(k,p,y,j)),H-=Ve,j&&H<O){var bh=tr(k,Se);return ko(e,t,xo,B.placeholder,a,k,bh,v,b,O-H)}var Ca=S?a:this,an=w?Ca[e]:e;return H=k.length,v?k=H_(k,v):D&&H>1&&k.reverse(),P&&b<H&&(k.length=b),this&&this!==u&&this instanceof B&&(an=x||Ot(an)),an.apply(Ca,k)}return B}var Go=xo;function tp(e,t,a){var s=Ot(e);function _(){for(var p=arguments.length,y=Array(p),v=p,b=Jo(_);v--;)y[v]=arguments[v];var O=p<3&&y[0]!==b&&y[p-1]!==b?[]:tr(y,b);if(p-=O.length,p<a)return ko(e,t,Go,_.placeholder,void 0,y,O,void 0,void 0,a-p);var P=this&&this!==u&&this instanceof _?s:e;return Vr(P,this,y)}return _}var rp=tp,np=1;function op(e,t,a,s){var _=t&np,p=Ot(e);function y(){for(var v=-1,b=arguments.length,O=-1,P=s.length,S=Array(P+b),w=this&&this!==u&&this instanceof y?p:e;++O<P;)S[O]=s[O];for(;b--;)S[O++]=arguments[++v];return Vr(w,_?a:this,S)}return y}var ap=op,Bo="__lodash_placeholder__",Hr=1,ip=2,up=4,Ho=8,Pt=128,Wo=256,sp=Math.min;function cp(e,t){var a=e[1],s=t[1],_=a|s,p=_<(Hr|ip|Pt),y=s==Pt&&a==Ho||s==Pt&&a==Wo&&e[7].length<=t[8]||s==(Pt|Wo)&&t[7].length<=t[8]&&a==Ho;if(!(p||y))return e;s&Hr&&(e[2]=t[2],_|=a&Hr?0:up);var v=t[3];if(v){var b=e[3];e[3]=b?Io(b,v,t[4]):v,e[4]=b?tr(e[3],Bo):t[4]}return v=t[5],v&&(b=e[5],e[5]=b?Yo(b,v,t[6]):v,e[6]=b?tr(e[5],Bo):t[6]),v=t[7],v&&(e[7]=v),s&Pt&&(e[8]=e[8]==null?t[8]:sp(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=_,e}var lp=cp,fp=/\s/;function _p(e){for(var t=e.length;t--&&fp.test(e.charAt(t)););return t}var pp=_p,dp=/^\s+/;function Ep(e){return e&&e.slice(0,pp(e)+1).replace(dp,"")}var hp=Ep,vp="[object Symbol]";function yp(e){return typeof e=="symbol"||X(e)&&le(e)==vp}var rr=yp,$o=0/0,mp=/^[-+]0x[0-9a-f]+$/i,bp=/^0b[01]+$/i,Ap=/^0o[0-7]+$/i,gp=parseInt;function Op(e){if(typeof e=="number")return e;if(rr(e))return $o;if(fe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=hp(e);var a=bp.test(e);return a||Ap.test(e)?gp(e.slice(2),a?2:8):mp.test(e)?$o:+e}var Pp=Op,zo=1/0,Tp=17976931348623157e292;function Rp(e){if(!e)return e===0?e:0;if(e=Pp(e),e===zo||e===-zo){var t=e<0?-1:1;return t*Tp}return e===e?e:0}var Cp=Rp;function Np(e){var t=Cp(e),a=t%1;return t===t?a?t-a:t:0}var Xo=Np,Sp="Expected a function",Qo=1,wp=2,Wr=8,$r=16,zr=32,Zo=64,ea=Math.max;function jp(e,t,a,s,_,p,y,v){var b=t&wp;if(!b&&typeof e!="function")throw new TypeError(Sp);var O=s?s.length:0;if(O||(t&=~(zr|Zo),s=_=void 0),y=y===void 0?y:ea(Xo(y),0),v=v===void 0?v:Xo(v),O-=_?_.length:0,t&Zo){var P=s,S=_;s=_=void 0}var w=b?void 0:Mo(e),j=[e,t,a,s,_,P,S,p,y,v];if(w&&lp(j,w),e=j[0],t=j[1],a=j[2],s=j[3],_=j[4],v=j[9]=j[9]===void 0?b?0:e.length:ea(j[9]-O,0),!v&&t&(Wr|$r)&&(t&=~(Wr|$r)),!t||t==Qo)var D=Lf(e,t,a);else t==Wr||t==$r?D=rp(e,t,v):(t==zr||t==(Qo|zr))&&!_.length?D=ap(e,t,a,s):D=Go.apply(void 0,j);var x=w?Fo:qo;return Do(x(D,j),e,t)}var Fp=jp,Ip=8;function Xr(e,t,a){t=a?void 0:t;var s=Fp(e,Ip,void 0,void 0,void 0,void 0,void 0,t);return s.placeholder=Xr.placeholder,s}Xr.placeholder={};var om=Xr;function Yp(e,t){for(var a=-1,s=t.length,_=e.length;++a<s;)e[_+a]=t[a];return e}var ta=Yp,ra=l?l.isConcatSpreadable:void 0;function Mp(e){return Q(e)||bt(e)||!!(ra&&e&&e[ra])}var Lp=Mp;function na(e,t,a,s,_){var p=-1,y=e.length;for(a||(a=Lp),_||(_=[]);++p<y;){var v=e[p];t>0&&a(v)?t>1?na(v,t-1,a,s,_):ta(_,v):s||(_[_.length]=v)}return _}var qp=na;function Dp(e,t){for(var a=-1,s=e==null?0:e.length,_=Array(s);++a<s;)_[a]=t(e[a],a,e);return _}var oa=Dp,Kp="__lodash_hash_undefined__";function Up(e){return this.__data__.set(e,Kp),this}var kp=Up;function Jp(e){return this.__data__.has(e)}var Vp=Jp;function nr(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new xt;++t<a;)this.add(e[t])}nr.prototype.add=nr.prototype.push=kp,nr.prototype.has=Vp;var xp=nr;function Gp(e,t){for(var a=-1,s=e==null?0:e.length;++a<s;)if(t(e[a],a,e))return!0;return!1}var Bp=Gp;function Hp(e,t){return e.has(t)}var Wp=Hp,$p=1,zp=2;function Xp(e,t,a,s,_,p){var y=a&$p,v=e.length,b=t.length;if(v!=b&&!(y&&b>v))return!1;var O=p.get(e),P=p.get(t);if(O&&P)return O==t&&P==e;var S=-1,w=!0,j=a&zp?new xp:void 0;for(p.set(e,t),p.set(t,e);++S<v;){var D=e[S],x=t[S];if(s)var B=y?s(x,D,S,t,e,p):s(D,x,S,e,t,p);if(B!==void 0){if(B)continue;w=!1;break}if(j){if(!Bp(t,function(H,k){if(!Wp(j,k)&&(D===H||_(D,H,a,s,p)))return j.push(k)})){w=!1;break}}else if(!(D===x||_(D,x,a,s,p))){w=!1;break}}return p.delete(e),p.delete(t),w}var aa=Xp;function Qp(e){var t=-1,a=Array(e.size);return e.forEach(function(s,_){a[++t]=[_,s]}),a}var Zp=Qp;function ed(e){var t=-1,a=Array(e.size);return e.forEach(function(s){a[++t]=s}),a}var td=ed,rd=1,nd=2,od="[object Boolean]",ad="[object Date]",id="[object Error]",ud="[object Map]",sd="[object Number]",cd="[object RegExp]",ld="[object Set]",fd="[object String]",_d="[object Symbol]",pd="[object ArrayBuffer]",dd="[object DataView]",ia=l?l.prototype:void 0,Qr=ia?ia.valueOf:void 0;function Ed(e,t,a,s,_,p,y){switch(a){case dd:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case pd:return!(e.byteLength!=t.byteLength||!p(new Bt(e),new Bt(t)));case od:case ad:case sd:return ht(+e,+t);case id:return e.name==t.name&&e.message==t.message;case cd:case fd:return e==t+"";case ud:var v=Zp;case ld:var b=s&rd;if(v||(v=td),e.size!=t.size&&!b)return!1;var O=y.get(e);if(O)return O==t;s|=nd,y.set(e,t);var P=aa(v(e),v(t),s,_,p,y);return y.delete(e),P;case _d:if(Qr)return Qr.call(e)==Qr.call(t)}return!1}var hd=Ed;function vd(e,t,a){var s=t(e);return Q(e)?s:ta(s,a(e))}var yd=vd;function md(e,t){for(var a=-1,s=e==null?0:e.length,_=0,p=[];++a<s;){var y=e[a];t(y,a,e)&&(p[_++]=y)}return p}var bd=md;function Ad(){return[]}var gd=Ad,Od=Object.prototype,Pd=Od.propertyIsEnumerable,ua=Object.getOwnPropertySymbols,Td=ua?function(e){return e==null?[]:(e=Object(e),bd(ua(e),function(t){return Pd.call(e,t)}))}:gd,Rd=Td,Cd=io(Object.keys,Object),Nd=Cd,Sd=Object.prototype,wd=Sd.hasOwnProperty;function jd(e){if(!Dr(e))return Nd(e);var t=[];for(var a in Object(e))wd.call(e,a)&&a!="constructor"&&t.push(a);return t}var Fd=jd;function Id(e){return ke(e)?Ro(e):Fd(e)}var Zr=Id;function Yd(e){return yd(e,Zr,Rd)}var sa=Yd,Md=1,Ld=Object.prototype,qd=Ld.hasOwnProperty;function Dd(e,t,a,s,_,p){var y=a&Md,v=sa(e),b=v.length,O=sa(t),P=O.length;if(b!=P&&!y)return!1;for(var S=b;S--;){var w=v[S];if(!(y?w in t:qd.call(t,w)))return!1}var j=p.get(e),D=p.get(t);if(j&&D)return j==t&&D==e;var x=!0;p.set(e,t),p.set(t,e);for(var B=y;++S<b;){w=v[S];var H=e[w],k=t[w];if(s)var Je=y?s(k,H,w,t,e,p):s(H,k,w,e,t,p);if(!(Je===void 0?H===k||_(H,k,a,s,p):Je)){x=!1;break}B||(B=w=="constructor")}if(x&&!B){var Se=e.constructor,Ve=t.constructor;Se!=Ve&&"constructor"in e&&"constructor"in t&&!(typeof Se=="function"&&Se instanceof Se&&typeof Ve=="function"&&Ve instanceof Ve)&&(x=!1)}return p.delete(e),p.delete(t),x}var Kd=Dd,Ud=Ce(u,"DataView"),en=Ud,kd=Ce(u,"Promise"),tn=kd,Jd=Ce(u,"Set"),rn=Jd,ca="[object Map]",Vd="[object Object]",la="[object Promise]",fa="[object Set]",_a="[object WeakMap]",pa="[object DataView]",xd=Re(en),Gd=Re(vt),Bd=Re(tn),Hd=Re(rn),Wd=Re(gt),Ne=le;(en&&Ne(new en(new ArrayBuffer(1)))!=pa||vt&&Ne(new vt)!=ca||tn&&Ne(tn.resolve())!=la||rn&&Ne(new rn)!=fa||gt&&Ne(new gt)!=_a)&&(Ne=function(e){var t=le(e),a=t==Vd?e.constructor:void 0,s=a?Re(a):"";if(s)switch(s){case xd:return pa;case Gd:return ca;case Bd:return la;case Hd:return fa;case Wd:return _a}return t});var da=Ne,$d=1,Ea="[object Arguments]",ha="[object Array]",or="[object Object]",zd=Object.prototype,va=zd.hasOwnProperty;function Xd(e,t,a,s,_,p){var y=Q(e),v=Q(t),b=y?ha:da(e),O=v?ha:da(t);b=b==Ea?or:b,O=O==Ea?or:O;var P=b==or,S=O==or,w=b==O;if(w&&Wt(e)){if(!Wt(t))return!1;y=!0,P=!1}if(w&&!P)return p||(p=new mt),y||kr(e)?aa(e,t,a,s,_,p):hd(e,t,b,a,s,_,p);if(!(a&$d)){var j=P&&va.call(e,"__wrapped__"),D=S&&va.call(t,"__wrapped__");if(j||D){var x=j?e.value():e,B=D?t.value():t;return p||(p=new mt),_(x,B,a,s,p)}}return w?(p||(p=new mt),Kd(e,t,a,s,_,p)):!1}var Qd=Xd;function ya(e,t,a,s,_){return e===t?!0:e==null||t==null||!X(e)&&!X(t)?e!==e&&t!==t:Qd(e,t,a,s,ya,_)}var ma=ya,Zd=1,eE=2;function tE(e,t,a,s){var _=a.length,p=_,y=!s;if(e==null)return!p;for(e=Object(e);_--;){var v=a[_];if(y&&v[2]?v[1]!==e[v[0]]:!(v[0]in e))return!1}for(;++_<p;){v=a[_];var b=v[0],O=e[b],P=v[1];if(y&&v[2]){if(O===void 0&&!(b in e))return!1}else{var S=new mt;if(s)var w=s(O,P,b,e,t,S);if(!(w===void 0?ma(P,O,Zd|eE,s,S):w))return!1}}return!0}var rE=tE;function nE(e){return e===e&&!fe(e)}var ba=nE;function oE(e){for(var t=Zr(e),a=t.length;a--;){var s=t[a],_=e[s];t[a]=[s,_,ba(_)]}return t}var aE=oE;function iE(e,t){return function(a){return a==null?!1:a[e]===t&&(t!==void 0||e in Object(a))}}var Aa=iE;function uE(e){var t=aE(e);return t.length==1&&t[0][2]?Aa(t[0][0],t[0][1]):function(a){return a===e||rE(a,e,t)}}var sE=uE,cE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lE=/^\w*$/;function fE(e,t){if(Q(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||rr(e)?!0:lE.test(e)||!cE.test(e)||t!=null&&e in Object(t)}var nn=fE,_E="Expected a function";function on(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_E);var a=function(){var s=arguments,_=t?t.apply(this,s):s[0],p=a.cache;if(p.has(_))return p.get(_);var y=e.apply(this,s);return a.cache=p.set(_,y)||p,y};return a.cache=new(on.Cache||xt),a}on.Cache=xt;var pE=on,dE=500;function EE(e){var t=pE(e,function(s){return a.size===dE&&a.clear(),s}),a=t.cache;return t}var hE=EE,vE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yE=/\\(\\)?/g,mE=hE(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(vE,function(a,s,_,p){t.push(_?p.replace(yE,"$1"):s||a)}),t}),bE=mE,AE=1/0,ga=l?l.prototype:void 0,Oa=ga?ga.toString:void 0;function Pa(e){if(typeof e=="string")return e;if(Q(e))return oa(e,Pa)+"";if(rr(e))return Oa?Oa.call(e):"";var t=e+"";return t=="0"&&1/e==-AE?"-0":t}var gE=Pa;function OE(e){return e==null?"":gE(e)}var PE=OE;function TE(e,t){return Q(e)?e:nn(e,t)?[e]:bE(PE(e))}var Ta=TE,RE=1/0;function CE(e){if(typeof e=="string"||rr(e))return e;var t=e+"";return t=="0"&&1/e==-RE?"-0":t}var ar=CE;function NE(e,t){t=Ta(t,e);for(var a=0,s=t.length;e!=null&&a<s;)e=e[ar(t[a++])];return a&&a==s?e:void 0}var Ra=NE;function SE(e,t,a){var s=e==null?void 0:Ra(e,t);return s===void 0?a:s}var wE=SE;function jE(e,t){return e!=null&&t in Object(e)}var FE=jE;function IE(e,t,a){t=Ta(t,e);for(var s=-1,_=t.length,p=!1;++s<_;){var y=ar(t[s]);if(!(p=e!=null&&a(e,y)))break;e=e[y]}return p||++s!=_?p:(_=e==null?0:e.length,!!_&&Kr(_)&&$t(y,_)&&(Q(e)||bt(e)))}var YE=IE;function ME(e,t){return e!=null&&YE(e,t,FE)}var LE=ME,qE=1,DE=2;function KE(e,t){return nn(e)&&ba(t)?Aa(ar(e),t):function(a){var s=wE(a,e);return s===void 0&&s===t?LE(a,e):ma(t,s,qE|DE)}}var UE=KE;function kE(e){return function(t){return t?.[e]}}var JE=kE;function VE(e){return function(t){return Ra(t,e)}}var xE=VE;function GE(e){return nn(e)?JE(ar(e)):xE(e)}var BE=GE;function HE(e){return typeof e=="function"?e:e==null?zt:typeof e=="object"?Q(e)?UE(e[0],e[1]):sE(e):BE(e)}var WE=HE;function $E(e,t){return e&&fo(e,t,Zr)}var zE=$E;function XE(e,t){return function(a,s){if(a==null)return a;if(!ke(a))return e(a,s);for(var _=a.length,p=t?_:-1,y=Object(a);(t?p--:++p<_)&&s(y[p],p,y)!==!1;);return a}}var QE=XE,ZE=QE(zE),eh=ZE;function th(e,t){var a=-1,s=ke(e)?Array(e.length):[];return eh(e,function(_,p,y){s[++a]=t(_,p,y)}),s}var rh=th;function nh(e,t){var a=Q(e)?oa:rh;return a(e,WE(t,3))}var oh=nh;function ah(e,t){return qp(oh(e,t),1)}var ih=ah;function uh(e,t=!1){let a=parseFloat(e);if(!Ku(a))return a;if(t)throw new Error(`${e} is not number like`);return e}function am(e,t=!1){let a=e.toLowerCase();if(a==="false")return!1;if(a==="true")return!0;if(t)throw new Error(`${e} is not boolean like`);return e}function im(e,t){if(t.indexOf(".")>-1){let a=t.split(".").map(p=>uh(p)),s=a.length,_=null;for(let p=0;p<s;++p){let y=a[p];_!==null?_=_[y]:_=e[y]}return _}return e[t]}var sh=(e,t)=>!!e.filter(a=>a===t).length,ch=e=>Array.isArray(e)?e:[e],lh=e=>e&&Object.keys(e).length===0&&e.constructor===Object,um=(e,t=!0)=>{try{return ao(e)?JSON.parse(e):JSON.parse(JSON.stringify(e))}catch(a){if(t)return e;throw a}},sm=(e,t)=>{try{let a=Object.keys(e);return sh(a,t)}catch{return!1}},cm=(...e)=>e.join("_"),lm=(e,t)=>t&&Ut(t)&&e in t?t[e]:void 0,fh=e=>e!=null&&(e+"").trim()!=="";function _h(e,t=!1){return Array.isArray(e)?t?!!e.length:!1:Ut(e)?t?!lh(e):!1:fh(e)}var fm=(e,t)=>!_h(e,t),_m=e=>typeof e=="function"?!0:(console.error(`Expect to be Function type! Got ${typeof e}`),!1),pm=(...e)=>Reflect.apply(Object.assign,Object,e),dm=()=>!1,Em=e=>Object.freeze(e),hm=e=>{console.dir(e,{depth:null})};function vm(e,...t){return e.replace(/{([0-9]+)}/g,(a,s)=>typeof t[s]>"u"?a:t[s])}var ym=(e,...t)=>(...a)=>t.reduce((s,_)=>Reflect.apply(_,null,ch(s)),Reflect.apply(e,null,a));function mm(e,t=!1){return e.reduce((a,s)=>a.then(_=>s.then(p=>t===!1?[..._,p]:Sf(_,p))),Promise.resolve(t===!1?[]:Ut(t)?t:{}))}function ph(e,...t){return(...a)=>t.reduce((s,_)=>s.then(p=>_(p)),Reflect.apply(e,null,a))}function bm(e,...t){let a=ih(e),s=Reflect.apply(ph,null,a);return Reflect.apply(s,null,t)}var Am=e=>dh(e.trim().replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()),dh=e=>{let t=e.substring(0,1);return t!=="_"&&t!=="-"?e:e.substring(1)};function gm(...e){try{window&&window.DEBUG&&Reflect.apply(console.log,console,e)}catch{}}var Om=e=>{let t=[e];return(...a)=>{try{window&&window.JSONQL_DEBUG&&Reflect.apply(console.info,console,t.concat(a))}catch{}}};function Pm(e,t,a,s=null){return Object.getOwnPropertyDescriptor(e,t)===void 0&&Object.defineProperty(e,t,{set:a,get:s===null?function(){return null}:s}),e}function Eh(e,t){let a=Object.getOwnPropertyDescriptor(e,t);return a!==void 0&&a.value?a.value:a}function Tm(e,t,a,s=!1){let _=Eh(e,t);return s===!1&&_!==void 0||Object.defineProperty(e,t,{value:a,writable:s}),e}function hh(e){return e instanceof RegExp}function Rm(e){switch(!0){case hh(e)===!0:return e;case ao(e)===!0:return new RegExp(e);default:return!1}}var vh=(e=!1)=>{let t=Date.now();return e?Math.floor(t/1e3):t},yh=(e,t)=>{let a=[];for(let s in t)a.push([s,t[s]].join("="));return[e,a.join("&")].join("?")},Cm=e=>yh(e,mh()),mh=()=>({_cb:vh()})})()});var Rt=g(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.merge=se.isFunction=se.isPlainObject=se.isString=se.isNaN=void 0;var Tt=Ee();Object.defineProperty(se,"isNaN",{enumerable:!0,get:function(){return Tt.isNaN}});Object.defineProperty(se,"isString",{enumerable:!0,get:function(){return Tt.isString}});Object.defineProperty(se,"isPlainObject",{enumerable:!0,get:function(){return Tt.isPlainObject}});Object.defineProperty(se,"isFunction",{enumerable:!0,get:function(){return Tt.isFunction}});Object.defineProperty(se,"merge",{enumerable:!0,get:function(){return Tt.merge}})});var ur=g(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.checkString=void 0;var Ch=Rt();function Nh(n){return(n+"").trim()!==""?(0,Ch.isString)(n):!1}ir.checkString=Nh});var un=g(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.checkBoolean=void 0;function Sh(n){return n!=null&&typeof n=="boolean"}sr.checkBoolean=Sh});var sn=g(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.checkUnsigned=_e.checkFloat=_e.checkInteger=_e.checkNumber=void 0;var wa=Rt();function wh(n){return(0,wa.isString)(n)?!1:!(0,wa.isNaN)(parseFloat(n+""))}_e.checkNumber=wh;function jh(n){console.log("@TODO checkInteger",n)}_e.checkInteger=jh;function Fh(n){console.log("@TODO checkFloat",n)}_e.checkFloat=Fh;function Ih(n){console.log("@TODO check unsigned",n)}_e.checkUnsigned=Ih});var cn=g(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.checkAny=void 0;function Yh(n,o=!0){return n!==void 0&&n!==""&&(n+"").trim()!==""&&(o===!1||o===!0&&n!==null)}cr.checkAny=Yh});var we=g((Ym,ja)=>{ja.exports={EXPORT_TYPE:"ExportDeclaration",EXPORT_DEFAULT_TYPE:"ExportDefaultDeclaration",DECLARATION_NAME:"declaration",DECLARATION_SHORT_NAME:"decl",ANNOTATION_NAME:"typeAnnotation",PARAMETER_NAME:"Parameter",CLASS_TYPE:"ClassDeclaration",CLASS_METHOD:"ClassMethod",CLASS_EXP:"ClassExpression",FUNC_EXP:"FunctionExpression",ASSIGN_PATTERN:"AssignmentPattern",OBJ_EXP:"ObjectExpression",ARR_EXP:"ArrayExpression",BOO_LIT:"BooleanLiteral",NUM_LIT:"NumericLiteral",STR_LIT:"StringLiteral",ELEM_TYPE:"elemType",TYPE_NAME:"typeName",TYPE_PARAMS:"typeParams",TS_KEY_TYPE:"TsKeywordType",TS_UNION_TYPE:"TsUnionType",TS_ARRAY_TYPE:"TsArrayType",TS_ANNO_NAME:"TsTypeAnnotation",TS_TYPE_LIT:"TsTypeLiteral",TS_TYPE_REF:"TsTypeReference",TS_TYPE_NAME:"tstype",SPREAD_ARG_TYPE:"RestElement",EXT:"js",TS_EXT:"ts",HELLO:"Hello world!",HELLO_FN:"helloWorld",HEADERS_KEY:"headers",JSONQL_PATH:"jsonql",CONTENT_TYPE:"application/vnd.api+json",CHARSET:"charset=utf-8",DEFAULT_HEADER:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+jsoncharset=utf-8"},DEFAULT_TYPE:"any",DEFAULT_RESOLVER_LIST_FILE_NAME:"resolver.js",DEFAULT_RESOLVER_IMPORT_FILE_NAME:"import.js",MODULE_TYPE:"module",SCRIPT_TYPE:"script",QUERY_NAME:"query",MUTATION_NAME:"mutation",SOCKET_NAME:"socket",SOCKET_AUTH_NAME:"socket-auth",EXTERNAL_NAME:"external",INTERCEPTOR_NAME:"interceptor",PLUGIN_NAME:"plugin",CONTRACT_NAME:"contract",MIDDLEWARE_NAME:"middleware",RESOLVER_TYPES:["query","mutation","socket","socket-auth"],PAYLOAD_PARAM_NAME:"payload",CONDITION_PARAM_NAME:"condition",RESOLVER_PARAM_NAME:"resolverName",QUERY_ARG_NAME:"args",TIMESTAMP_PARAM_NAME:"TS",MUTATION_ARGS:["resolverName","payload","condition"],JSONP_CALLBACK_NAME:"jsonqlJsonpCallback",API_REQUEST_METHODS:["POST","PUT"],CONTRACT_REQUEST_METHODS:["GET","HEAD"],KEY_WORD:"continue",PUBLIC_KEY:"public",PRIVATE_KEY:"private",AUTH_TYPE:"auth",AUTH_NAME:"auth",LOGIN_FN_NAME:"login",LOGOUT_FN_NAME:"logout",VALIDATOR_FN_NAME:"validator",DISCONNECT_FN_NAME:"disconnect",SWITCH_USER_FN_NAME:"switch-user",AUTH_HEADER:"Authorization",AUTH_CHECK_HEADER:"authorization",BEARER:"Bearer",CREDENTIAL_STORAGE_KEY:"jsonqlcredential",CLIENT_STORAGE_KEY:"jsonqlstore",CLIENT_AUTH_KEY:"jsonqlauthkey",INDEX_KEY:"index",CONTRACT_KEY_NAME:"X-JSONQL-CV-KEY",SHOW_CONTRACT_DESC_PARAM:{desc:"y"},DEFAULT_RESOLVER_DIR:"resolvers",DEFAULT_CONTRACT_DIR:"contracts",DEFAULT_KEYS_DIR:"keys",CJS_TYPE:"cjs",ES_TYPE:"es",TS_TYPE:"ts",ACCEPTED_JS_TYPES:["cjs","es"],RETURN_AS_FILE:"file",RETURN_AS_JSON:"json",RETURN_AS_ENUM:["file","json"],NO_ERROR_MSG:"No message",NO_STATUS_CODE:-1,SUCCESS_STATUS:200,UNAUTHORIZED_STATUS:401,FORBIDDEN_STATUS:403,NOT_FOUND_STATUS:404,NOT_ACCEPTABLE_STATUS:406,SERVER_INTERNAL_STATUS:500,DEFAULT_PORT_NUM:6557,CSRF_HEADER_KEY:"X-CSRF-Token",ORIGIN_HEADER_KEYS:["Origin"],WILD_CARD_CHAR:"*",DATA_KEY:"data",ERROR_KEY:"error",META_KEY:"meta",JSONQL_NAME:"jsonql",REST_NAME:"rest",AVAILABLE_FORMATS:["jsonql","rest"],DEFAULT_CONTRACT_FILE_NAME:"contract.json",PUBLIC_CONTRACT_FILE_NAME:"public-contract.json",TYPE_KEY:"type",OPTIONAL_KEY:"optional",ENUM_KEY:"enumv",ARGS_KEY:"args",CHECKER_KEY:"checker",ALIAS_KEY:"alias",CHECKED_KEY:"__checked__",APP_DIR_PROP_KEY:"appDir",AUTH_TO_PROP_KEY:"authTimeout",ENABLE_AUTH_PROP_KEY:"enableAuth",USE_JWT_PROP_KEY:"useJwt",RESOLVER_DIR_PROP_KEY:"resolverDir",CONTRACT_DIR_PROP_KEY:"contractDir",INIT_CONNECTION_FN_NAME_PROP_KEY:"initConnectionHandlerName",LOGIN_FN_NAME_PROP_KEY:"loginHandlerName",LOGOUT_FN_NAME_PROP_KEY:"logoutHandlerName",DISCONNECT_FN_NAME_PROP_KEY:"disconnectHandlerName",SWITCH_USER_FN_NAME_PROP_KEY:"switchUserHandlerName",PUBLIC_FN_DIR_PROP_KEY:"publicResolverDir",PRIVATE_FN_DIR_DROP_KEY:"privateResolverDir",ALGORITHM_PROP_KEY:"algorithm",KEYS_DIR_PROP_KEY:"keysDir",SOCKET_IO_AUTH_TYPE_PROP_KEY:"socketIoAuthType",SERVER_INIT_OPT_PROP_KEY:"serverInitOption",SOCKET_TYPE_PROP_KEY:"serverType",SOCKET_TYPE_CLIENT_ALIAS:"socketClientType",SOCKET_TYPE_SERVER_ALIAS:"socketServerType",CSRF_PROP_KEY:"csrf",ALLOW_ORIGIN_PROP_KEY:"allowOrigin",STANDALONE_PROP_KEY:"standalone",DEBUG_ON_PROP_KEY:"debugOn",HOSTNAME_PROP_KEY:"hostname",NAMESAPCE_PROP_KEY:"namespace",FILE_PROP_KEY:"file",WS_OPT_PROP_KEY:"wsOptions",CONTRACT_PROP_KEY:"contract",TOKEN_PROP_KEY:"token",INIT_CLIENT_PROP_KEY:"nodeClient",INIT_CONTRACT_PROP_KEY:"initContract",CONTENT_TYPE_PROP_KEY:"contentType",RETURN_AS_PROP_KEY:"returnAs",NAME_PROP_KEY:"appName",EXPIRED_PROP_KEY:"expired",APP_ROOT_DIR_PROP_KEY:"appRootDir",JWT_TOKEN_OPT_PROP_KEY:"jwtTokenOption",ENABLE_JSONP_PROP_KEY:"enableJsonp",CONTRACT_WITH_DESC_PROP_KEY:"contractWithDesc",WITH_PUBLIC_CONTRACT_PROP_KEY:"withPublicContract",PUBLIC_KEY_NAME_PROP_KEY:"publicKeyFileName",PRIVATE_KEY_NAME_PROP_KEY:"privateKeyFileName",PUBLIC_NAMESPACE_PROP_KEY:"publicNamespace",PRIVATE_NAMESPACE_PROP_KEY:"privateNamespace",SECRET_PROP_KEY:"secret",NSP_INFO_PROP_KEY:"nspInfo",RSA_MODULE_LEN_PROP_KEY:"rsaModulusLength",JSONQL_PATH_PROP_KEY:"jsonqlPath",CONTRACT_KEY_PROP_KEY:"contractKey",CONTRACT_KEY_NAME_PROP_KEY:"contractKeyName",ENABLE_WEB_CONSOLE_PROP_KEY:"enableWebConsole",JS_TYPE_PROP_KEY:"jsType",EXPOSE_ERR_PROP_KEY:"exposeError",CLIENT_CONFIG_PROP_KEY:"clientConfig",AUTO_CONTRACT_PROP_KEY:"autoCreateContract",VALIDATE_RETURNS_PROP_KEY:"validateReturns",ENABLE_UPLOAD_PROP_KEY:"enableFileUpload",FILE_UPLOAD_NAME_PROP_KEY:"fileUploadName",FILE_UPLOAD_DIST_PROP_KEY:"fileUploadDist",FILE_HANDLER_FN_NAME_PROP_KEY:"fileHandlerName",ENABLE_SPLIT_TASK_PROP_KEY:"enableSplitTask",CONNECTED_PROP_KEY:"connected",CACHE_STORE_PROP_KEY:"cacheStore",EVENT_EMITTER_PROP_KEY:"eventEmitter",SUSPEND_EVENT_PROP_KEY:"suspendOnStart",ENABLE_CACHE_RESOLVER_PROP_KEY:"enableCacheResolver",TOKEN_DELIVER_LOCATION_PROP_KEY:"tokenDeliverLocation",COOKIE_PROP_KEY:"cookie",IS_READY_PROP_KEY:"isReady",IS_LOGIN_PROP_KEY:"isLogin",SOCKET_PING_EVENT_NAME:"__ping__",SWITCH_USER_EVENT_NAME:"__switch__",LOGIN_EVENT_NAME:"__login__",LOGOUT_EVENT_NAME:"__logout__",SA_LOGIN_EVENT_NAME:"__standalone_login__",SOCKET_CLIENT_ID_KEY:"__socket_client_id_key__",SOCKET_CLIENT_TS_KEY:"__socket_client_ts_key__",CONNECT_EVENT_NAME:"__connect__",CONNECTED_EVENT_NAME:"__connected__",DISCONNECT_EVENT_NAME:"__disconnect__",INTERCOM_RESOLVER_NAME:"__intercom__",INTER_COM_EVENT_NAMES:["__connect__","__switch__","__disconnect__"],WS_REPLY_TYPE:"__reply__",WS_EVT_NAME:"__event__",WS_DATA_NAME:"__data__",WS_IS_REPLY_KEYS:["__reply__","__event__","__data__"],ON_MESSAGE_FN_NAME:"onMessage",ON_RESULT_FN_NAME:"onResult",ON_ERROR_FN_NAME:"onError",ON_READY_FN_NAME:"onReady",ON_LOGIN_FN_NAME:"onLogin",SEND_MSG_FN_NAME:"send",EMIT_MSG_FN_NAME:"emit",ON_MSG_FN_NAME:"on",TO_MSG_FN_NAME:"to",CLIENT_PROP_NAME:"client",USERDATA_PROP_NAME:"userdata",EMIT_REPLY_TYPE:"emit_reply",EMIT_SEND_TYPE:"emit_send",ACKNOWLEDGE_REPLY_TYPE:"emit_acknowledge",INTER_EMIT_SEND_TYPE:"inter_emit_send",INTER_EMIT_REPLY_TYPE:"inter_emit_reply",NSP_GROUP:"nspGroup",PUBLIC_NAMESPACE:"publicNamespace",JS_WS_SOCKET_IO_NAME:"socket.io",JS_WS_NAME:"ws",JS_PRIMUS_NAME:"primus",GO_WS_COOLPY7_NAME:"coolpy7",DEFAULT_WS_WAIT_TIME:5e3,DEFAULT_RETRY_TIME:3e3,TIMEOUT_ERR_MSG:"timeout",NOT_LOGIN_ERR_MSG:"NOT LOGIN",BASE64_FORMAT:"base64",HEX_FORMAT:"hex",UTF8_FORMAT:"utf8",RSA_FORMATS:["base64","hex"],RSA_ALGO:"RS256",HSA_ALGO:"HS256",JWT_SUPPORT_ALGOS:["RS256","HS256"],RSA_PRIVATE_KEY_HEADER:"BEGIN RSA PRIVATE KEY",RSA_MIN_MODULE_LEN:1024,RSA_MAX_MODULE_LEN:4096,TOKEN_PARAM_NAME:"token",IO_ROUNDTRIP_LOGIN:"roundtip",IO_HANDSHAKE_LOGIN:"handshake",IO_LOGIN_METHODS:["roundtip","handshake"],PEM_EXT:"pem",PUBLIC_KEY_NAME:"publicKey",PRIVATE_KEY_NAME:"privateKey",DEFAULT_PUBLIC_KEY_FILE:"publicKey.pem",DEFAULT_PRIVATE_KEY_FILE:"privateKey.pem",NSP_AUTH_CLIENT:"nspAuthClient",NSP_CLIENT:"nspClient",TOKEN_IN_HEADER:"header",TOKEN_IN_URL:"url",OR_SEPERATOR:"|",BOOLEAN_TYPE:"boolean",STRING_TYPE:"string",NUMBER_TYPE:"number",ARRAY_TYPE:"array",OBJECT_TYPE:"object",FUNCTION_TYPE:"function",ANY_TYPE:"any",BASED_PRIMITIVE_TYPES:["number","string","array","object"],NUMBER_TYPES:["int","integer","float","double","decimal"],SUPPORTED_TYPES:["number","string","boolean","array","object","any"],ARRAY_TS_TYPE_LFT:"Array<",ARRAY_TYPE_LFT:"array.<",ARRAY_TYPE_RGT:">",DEFAULT_VALUE:"defaultvalue"}});var Ct=g(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.combineCheck=void 0;var Mh=sn(),Lh=ur(),qh=un(),Dh=cn(),ln=we();function Kh(n){switch(n){case ln.NUMBER_TYPE:return Mh.checkNumber;case ln.STRING_TYPE:return Lh.checkString;case ln.BOOLEAN_TYPE:return qh.checkBoolean;default:return Dh.checkAny}}lr.combineCheck=Kh});var fr=g(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.arrayTypeHandler=be.isArrayLike=be.checkArray=void 0;var Uh=Rt(),fn=Ct(),me=we(),Fa={ts:me.ARRAY_TS_TYPE_LFT,jsdoc:me.ARRAY_TYPE_LFT};function Ya(n,o){if(Array.isArray(n)){if(!o)return!0;let r;return Array.isArray(o)?r=n.filter(i=>{let u=o.length;for(let c=0;c<u;++c){let l=o[c];if(l===me.ARRAY_TYPE&&Array.isArray(i)||l===me.OBJECT_TYPE&&(0,Uh.isPlainObject)(i)||(0,fn.combineCheck)(l)(i))return!1}return!0}):r=n.filter(i=>!(0,fn.combineCheck)(o)(i)),!(r.length>0)}return!1}be.checkArray=Ya;function Ia(n,o="ts"){let r=Fa[o];if(!r)throw new Error(`Syntax not supported! ${Object.keys(Fa)}`);if(n.indexOf(r)>-1&&n.indexOf(me.ARRAY_TYPE_RGT)>-1){let i=n.replace(r,"").replace(me.ARRAY_TYPE_RGT,"");return i.indexOf(me.OR_SEPERATOR)?i.split(me.OR_SEPERATOR):[i]}return!1}function kh(n){return Ia(n)?!1:Ia(n,"jsdoc")}be.isArrayLike=kh;function Jh(n,o){let{arg:r}=n;return o.length>1?!r.filter(i=>!(o.length>o.filter(u=>!(0,fn.combineCheck)(u)(i)).length)).length:o.length>o.filter(i=>!Ya(r,i)).length}be.arrayTypeHandler=Jh});var pn=g(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.isEmptyObject=Ae.objectTypeHandler=Ae.checkObject=void 0;var Ma=Rt(),Vh=Ct(),_n=fr();function La(n,o){if((0,Ma.isPlainObject)(n)){if(!o)return!0;if(typeof o=="string")return o in n;if((0,_n.checkArray)(o))return typeof o[0]=="string"?xh(n,o):Gh(n,o)}return!1}Ae.checkObject=La;function xh(n,o){return!o.filter(r=>!(r in n)).length}function Gh(n,o){return!o.filter(r=>{let i=n[r.name];return!(r.type.length>r.type.filter(u=>{let c;return i!==void 0?(c=(0,_n.isArrayLike)(u))!==!1?!(0,_n.arrayTypeHandler)({arg:i},c):!(0,Vh.combineCheck)(u)(i):!0}).length)}).length}var Bh=function(n){let{arg:o,param:r}=n,i=[o];return Array.isArray(r.keys)&&r.keys.length&&i.push(r.keys),Reflect.apply(La,null,i)};Ae.objectTypeHandler=Bh;var Hh=function(n){return(0,Ma.isPlainObject)(n)?!Object.keys(n).length:!1};Ae.isEmptyObject=Hh});var ge=g((Dm,pr)=>{var qa,Da,Ka,Ua,ka,Ja,Va,xa,Ga,_r,dn,Ba,Ha,xe,Wa,$a,za,Xa,Qa,Za,ei,ti,ri;(function(n){var o=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){n(r(o,r(i)))}):typeof pr=="object"&&typeof pr.exports=="object"?n(r(o,r(pr.exports))):n(r(o));function r(i,u){return i!==o&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(c,l){return i[c]=u?u(c,l):l}}})(function(n){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var u in i)i.hasOwnProperty(u)&&(r[u]=i[u])};qa=function(r,i){o(r,i);function u(){this.constructor=r}r.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)},Da=Object.assign||function(r){for(var i,u=1,c=arguments.length;u<c;u++){i=arguments[u];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])}return r},Ka=function(r,i){var u={};for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&i.indexOf(c)<0&&(u[c]=r[c]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,c=Object.getOwnPropertySymbols(r);l<c.length;l++)i.indexOf(c[l])<0&&Object.prototype.propertyIsEnumerable.call(r,c[l])&&(u[c[l]]=r[c[l]]);return u},Ua=function(r,i,u,c){var l=arguments.length,f=l<3?i:c===null?c=Object.getOwnPropertyDescriptor(i,u):c,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(r,i,u,c);else for(var A=r.length-1;A>=0;A--)(d=r[A])&&(f=(l<3?d(f):l>3?d(i,u,f):d(i,u))||f);return l>3&&f&&Object.defineProperty(i,u,f),f},ka=function(r,i){return function(u,c){i(u,c,r)}},Ja=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},Va=function(r,i,u,c){function l(f){return f instanceof u?f:new u(function(d){d(f)})}return new(u||(u=Promise))(function(f,d){function A(m){try{h(c.next(m))}catch(F){d(F)}}function E(m){try{h(c.throw(m))}catch(F){d(F)}}function h(m){m.done?f(m.value):l(m.value).then(A,E)}h((c=c.apply(r,i||[])).next())})},xa=function(r,i){var u={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,l,f,d;return d={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function A(h){return function(m){return E([h,m])}}function E(h){if(c)throw new TypeError("Generator is already executing.");for(;u;)try{if(c=1,l&&(f=h[0]&2?l.return:h[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,h[1])).done)return f;switch(l=0,f&&(h=[h[0]&2,f.value]),h[0]){case 0:case 1:f=h;break;case 4:return u.label++,{value:h[1],done:!1};case 5:u.label++,l=h[1],h=[0];continue;case 7:h=u.ops.pop(),u.trys.pop();continue;default:if(f=u.trys,!(f=f.length>0&&f[f.length-1])&&(h[0]===6||h[0]===2)){u=0;continue}if(h[0]===3&&(!f||h[1]>f[0]&&h[1]<f[3])){u.label=h[1];break}if(h[0]===6&&u.label<f[1]){u.label=f[1],f=h;break}if(f&&u.label<f[2]){u.label=f[2],u.ops.push(h);break}f[2]&&u.ops.pop(),u.trys.pop();continue}h=i.call(r,u)}catch(m){h=[6,m],l=0}finally{c=f=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},ri=function(r,i,u,c){c===void 0&&(c=u),r[c]=i[u]},Ga=function(r,i){for(var u in r)u!=="default"&&!i.hasOwnProperty(u)&&(i[u]=r[u])},_r=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,u=i&&r[i],c=0;if(u)return u.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&c>=r.length&&(r=void 0),{value:r&&r[c++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},dn=function(r,i){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var c=u.call(r),l,f=[],d;try{for(;(i===void 0||i-- >0)&&!(l=c.next()).done;)f.push(l.value)}catch(A){d={error:A}}finally{try{l&&!l.done&&(u=c.return)&&u.call(c)}finally{if(d)throw d.error}}return f},Ba=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(dn(arguments[i]));return r},Ha=function(){for(var r=0,i=0,u=arguments.length;i<u;i++)r+=arguments[i].length;for(var c=Array(r),l=0,i=0;i<u;i++)for(var f=arguments[i],d=0,A=f.length;d<A;d++,l++)c[l]=f[d];return c},xe=function(r){return this instanceof xe?(this.v=r,this):new xe(r)},Wa=function(r,i,u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=u.apply(r,i||[]),l,f=[];return l={},d("next"),d("throw"),d("return"),l[Symbol.asyncIterator]=function(){return this},l;function d(Y){c[Y]&&(l[Y]=function(T){return new Promise(function(N,K){f.push([Y,T,N,K])>1||A(Y,T)})})}function A(Y,T){try{E(c[Y](T))}catch(N){F(f[0][3],N)}}function E(Y){Y.value instanceof xe?Promise.resolve(Y.value.v).then(h,m):F(f[0][2],Y)}function h(Y){A("next",Y)}function m(Y){A("throw",Y)}function F(Y,T){Y(T),f.shift(),f.length&&A(f[0][0],f[0][1])}},$a=function(r){var i,u;return i={},c("next"),c("throw",function(l){throw l}),c("return"),i[Symbol.iterator]=function(){return this},i;function c(l,f){i[l]=r[l]?function(d){return(u=!u)?{value:xe(r[l](d)),done:l==="return"}:f?f(d):d}:f}},za=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],u;return i?i.call(r):(r=typeof _r=="function"?_r(r):r[Symbol.iterator](),u={},c("next"),c("throw"),c("return"),u[Symbol.asyncIterator]=function(){return this},u);function c(f){u[f]=r[f]&&function(d){return new Promise(function(A,E){d=r[f](d),l(A,E,d.done,d.value)})}}function l(f,d,A,E){Promise.resolve(E).then(function(h){f({value:h,done:A})},d)}},Xa=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r},Qa=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var u in r)Object.hasOwnProperty.call(r,u)&&(i[u]=r[u]);return i.default=r,i},Za=function(r){return r&&r.__esModule?r:{default:r}},ei=function(r,i){if(!i.has(r))throw new TypeError("attempted to get private field on non-instance");return i.get(r)},ti=function(r,i,u){if(!i.has(r))throw new TypeError("attempted to set private field on non-instance");return i.set(r,u),u},n("__extends",qa),n("__assign",Da),n("__rest",Ka),n("__decorate",Ua),n("__param",ka),n("__metadata",Ja),n("__awaiter",Va),n("__generator",xa),n("__exportStar",Ga),n("__createBinding",ri),n("__values",_r),n("__read",dn),n("__spread",Ba),n("__spreadArrays",Ha),n("__await",xe),n("__asyncGenerator",Wa),n("__asyncDelegator",$a),n("__asyncValues",za),n("__makeTemplateObject",Xa),n("__importStar",Qa),n("__importDefault",Za),n("__classPrivateFieldGet",ei),n("__classPrivateFieldSet",ti)})});var si=g(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.checkUnionSync=Oe.checkUnion=Oe.generateReversePromisesFn=void 0;var ni=ge(),oi=Ct(),ai=fr(),ii=pn(),Wh=Ee(),dr=we();function En(n,o){return n||o}function ui(n,o,r){return o.map((i,u)=>{let c=[n];switch(r&&r[u]&&c.push(r[u]),i){case dr.ARRAY_TYPE:return()=>En(Reflect.apply(ai.checkArray,null,c),i);case dr.OBJECT_TYPE:return()=>En(Reflect.apply(ii.checkObject,null,c),i);default:return()=>En((0,oi.combineCheck)(i)(n),i)}}).map(i=>()=>ni.__awaiter(this,void 0,void 0,function*(){let u=i();return u===!0?Promise.reject(!0):Promise.resolve(u)}))}Oe.generateReversePromisesFn=ui;function $h(n,o,r){return ni.__awaiter(this,void 0,void 0,function*(){let i=ui(n,o,r);return new Promise((u,c)=>{(0,Wh.queuePromisesProcess)(i,o[0]).then(l=>{c(l)}).catch(l=>{u(l)})})})}Oe.checkUnion=$h;function zh(n,o){let r=o.length;for(let i=0;i<r;++i){let u=o[i];switch(u){case dr.ARRAY_TYPE:if((0,ai.checkArray)(n))return!0;break;case dr.OBJECT_TYPE:if((0,ii.checkObject)(n))return!0;break;default:if((0,oi.combineCheck)(u)(n))return!0}}return!1}Oe.checkUnionSync=zh});var hn=g(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.reversePromisifyResult=Ge.promisify=void 0;var ci=ge();function Xh(n){return(...o)=>ci.__awaiter(this,void 0,void 0,function*(){let r=Reflect.apply(n,null,o);return r?Promise.resolve(r):Promise.reject(r)})}Ge.promisify=Xh;function Qh(n){return(...o)=>ci.__awaiter(this,void 0,void 0,function*(){let r=Reflect.apply(n,null,o);return r?Promise.reject(r):Promise.resolve(r)})}Ge.reversePromisifyResult=Qh});var Nt=g(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.len=void 0;function Zh(n){return typeof n=="string"?n.length:n}Er.len=Zh});var yn=g(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});var ev=Nt(),tv="moreThan";function rv(n,o){return(0,ev.len)(o)>n}vn.default={name:tv,main:rv,params:["num"]}});var bn=g(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});var nv=Nt(),ov="lessThan";function av(n,o){return(0,nv.len)(o)<n}mn.default={name:ov,main:av,params:["num"]}});var fi=g(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});var li=ge(),iv=li.__importDefault(yn()),uv=li.__importDefault(bn()),sv="between";function cv(n,o,r){return uv.default.main(n,r)&&iv.default.main(o,r)}An.default={main:cv,name:sv,params:["max","min"]}});var pi=g(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});var lv="email",_i=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function fv(n){return _i.test(n)}gn.default={main:fv,name:lv,pattern:_i}});var di=g(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.name=void 0;Be.name="int";function _v(n){return Number.isInteger(n)}Be.default={name:Be.name,main:_v}});var Pn=g(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});var pv=Nt(),dv="lessThanEqual";function Ev(n,o){return(0,pv.len)(o)<=n}On.default={name:dv,main:Ev,params:["num"]}});var Rn=g(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});var hv=Nt(),vv="moreThanEqual";function yv(n,o){return(0,hv.len)(o)>=n}Tn.default={name:vv,main:yv,params:["num"]}});var Ei=g(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});var mv="unit";function bv(n){return Number.isInteger(n)&&n>=0}Cn.default={name:mv,main:bv}});var vi=g(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});var hi=ge(),Av=hi.__importDefault(Rn()),gv=hi.__importDefault(Pn()),Ov="main";function Pv(n,o,r){return gv.default.main(n,r)&&Av.default.main(o,r)}Nn.default={name:Ov,main:Pv,params:["max","min"]}});var vr=g(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.plugins=void 0;var he=ge(),Tv=he.__importDefault(fi()),Rv=he.__importDefault(pi()),Cv=he.__importDefault(di()),Nv=he.__importDefault(Pn()),Sv=he.__importDefault(bn()),wv=he.__importDefault(Rn()),jv=he.__importDefault(yn()),Fv=he.__importDefault(Ei()),Iv=he.__importDefault(vi());hr.plugins=[Tv.default,Rv.default,Cv.default,Nv.default,Sv.default,wv.default,jv.default,Fv.default,Iv.default]});var wn=g((Qm,br)=>{var yi,mi,bi,Ai,gi,Oi,Pi,Ti,Ri,yr,Sn,Ci,Ni,Si,He,wi,ji,Fi,Ii,Yi,Mi,Li,qi,mr;(function(n){var o=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){n(r(o,r(i)))}):typeof br=="object"&&typeof br.exports=="object"?n(r(o,r(br.exports))):n(r(o));function r(i,u){return i!==o&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(c,l){return i[c]=u?u(c,l):l}}})(function(n){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,u){i.__proto__=u}||function(i,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(i[c]=u[c])};yi=function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(i,u);function c(){this.constructor=i}i.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)},mi=Object.assign||function(i){for(var u,c=1,l=arguments.length;c<l;c++){u=arguments[c];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(i[f]=u[f])}return i},bi=function(i,u){var c={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&u.indexOf(l)<0&&(c[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,l=Object.getOwnPropertySymbols(i);f<l.length;f++)u.indexOf(l[f])<0&&Object.prototype.propertyIsEnumerable.call(i,l[f])&&(c[l[f]]=i[l[f]]);return c},Ai=function(i,u,c,l){var f=arguments.length,d=f<3?u:l===null?l=Object.getOwnPropertyDescriptor(u,c):l,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,u,c,l);else for(var E=i.length-1;E>=0;E--)(A=i[E])&&(d=(f<3?A(d):f>3?A(u,c,d):A(u,c))||d);return f>3&&d&&Object.defineProperty(u,c,d),d},gi=function(i,u){return function(c,l){u(c,l,i)}},Oi=function(i,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,u)},Pi=function(i,u,c,l){function f(d){return d instanceof c?d:new c(function(A){A(d)})}return new(c||(c=Promise))(function(d,A){function E(F){try{m(l.next(F))}catch(Y){A(Y)}}function h(F){try{m(l.throw(F))}catch(Y){A(Y)}}function m(F){F.done?d(F.value):f(F.value).then(E,h)}m((l=l.apply(i,u||[])).next())})},Ti=function(i,u){var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,f,d,A;return A={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function E(m){return function(F){return h([m,F])}}function h(m){if(l)throw new TypeError("Generator is already executing.");for(;c;)try{if(l=1,f&&(d=m[0]&2?f.return:m[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,m[1])).done)return d;switch(f=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return c.label++,{value:m[1],done:!1};case 5:c.label++,f=m[1],m=[0];continue;case 7:m=c.ops.pop(),c.trys.pop();continue;default:if(d=c.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){c=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){c.label=m[1];break}if(m[0]===6&&c.label<d[1]){c.label=d[1],d=m;break}if(d&&c.label<d[2]){c.label=d[2],c.ops.push(m);break}d[2]&&c.ops.pop(),c.trys.pop();continue}m=u.call(i,c)}catch(F){m=[6,F],f=0}finally{l=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Ri=function(i,u){for(var c in i)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&mr(u,i,c)},mr=Object.create?function(i,u,c,l){l===void 0&&(l=c),Object.defineProperty(i,l,{enumerable:!0,get:function(){return u[c]}})}:function(i,u,c,l){l===void 0&&(l=c),i[l]=u[c]},yr=function(i){var u=typeof Symbol=="function"&&Symbol.iterator,c=u&&i[u],l=0;if(c)return c.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},Sn=function(i,u){var c=typeof Symbol=="function"&&i[Symbol.iterator];if(!c)return i;var l=c.call(i),f,d=[],A;try{for(;(u===void 0||u-- >0)&&!(f=l.next()).done;)d.push(f.value)}catch(E){A={error:E}}finally{try{f&&!f.done&&(c=l.return)&&c.call(l)}finally{if(A)throw A.error}}return d},Ci=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(Sn(arguments[u]));return i},Ni=function(){for(var i=0,u=0,c=arguments.length;u<c;u++)i+=arguments[u].length;for(var l=Array(i),f=0,u=0;u<c;u++)for(var d=arguments[u],A=0,E=d.length;A<E;A++,f++)l[f]=d[A];return l},Si=function(i,u,c){if(c||arguments.length===2)for(var l=0,f=u.length,d;l<f;l++)(d||!(l in u))&&(d||(d=Array.prototype.slice.call(u,0,l)),d[l]=u[l]);return i.concat(d||Array.prototype.slice.call(u))},He=function(i){return this instanceof He?(this.v=i,this):new He(i)},wi=function(i,u,c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=c.apply(i,u||[]),f,d=[];return f={},A("next"),A("throw"),A("return"),f[Symbol.asyncIterator]=function(){return this},f;function A(T){l[T]&&(f[T]=function(N){return new Promise(function(K,ne){d.push([T,N,K,ne])>1||E(T,N)})})}function E(T,N){try{h(l[T](N))}catch(K){Y(d[0][3],K)}}function h(T){T.value instanceof He?Promise.resolve(T.value.v).then(m,F):Y(d[0][2],T)}function m(T){E("next",T)}function F(T){E("throw",T)}function Y(T,N){T(N),d.shift(),d.length&&E(d[0][0],d[0][1])}},ji=function(i){var u,c;return u={},l("next"),l("throw",function(f){throw f}),l("return"),u[Symbol.iterator]=function(){return this},u;function l(f,d){u[f]=i[f]?function(A){return(c=!c)?{value:He(i[f](A)),done:f==="return"}:d?d(A):A}:d}},Fi=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=i[Symbol.asyncIterator],c;return u?u.call(i):(i=typeof yr=="function"?yr(i):i[Symbol.iterator](),c={},l("next"),l("throw"),l("return"),c[Symbol.asyncIterator]=function(){return this},c);function l(d){c[d]=i[d]&&function(A){return new Promise(function(E,h){A=i[d](A),f(E,h,A.done,A.value)})}}function f(d,A,E,h){Promise.resolve(h).then(function(m){d({value:m,done:E})},A)}},Ii=function(i,u){return Object.defineProperty?Object.defineProperty(i,"raw",{value:u}):i.raw=u,i};var r=Object.create?function(i,u){Object.defineProperty(i,"default",{enumerable:!0,value:u})}:function(i,u){i.default=u};Yi=function(i){if(i&&i.__esModule)return i;var u={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&mr(u,i,c);return r(u,i),u},Mi=function(i){return i&&i.__esModule?i:{default:i}},Li=function(i,u,c,l){if(c==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?i!==u||!l:!u.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return c==="m"?l:c==="a"?l.call(i):l?l.value:u.get(i)},qi=function(i,u,c,l,f){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?i!==u||!f:!u.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?f.call(i,c):f?f.value=c:u.set(i,c),c},n("__extends",yi),n("__assign",mi),n("__rest",bi),n("__decorate",Ai),n("__param",gi),n("__metadata",Oi),n("__awaiter",Pi),n("__generator",Ti),n("__exportStar",Ri),n("__createBinding",mr),n("__values",yr),n("__read",Sn),n("__spread",Ci),n("__spreadArrays",Ni),n("__spreadArray",Si),n("__await",He),n("__asyncGenerator",wi),n("__asyncDelegator",ji),n("__asyncValues",Fi),n("__makeTemplateObject",Ii),n("__importStar",Yi),n("__importDefault",Mi),n("__classPrivateFieldGet",Li),n("__classPrivateFieldSet",qi)})});var Z=g(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.JSONQL_ERRORS_INFO=J.UNKNOWN_ERROR=J.NO_ERROR_MSG=J.NO_STATUS_CODE=J.SERVER_INTERNAL_STATUS=J.NOT_FOUND_STATUS=J.FORBIDDEN_STATUS=J.UNAUTHORIZED_STATUS=J.NOT_ACCEPTABLE_STATUS=void 0;var je=we();Object.defineProperty(J,"NOT_ACCEPTABLE_STATUS",{enumerable:!0,get:function(){return je.NOT_ACCEPTABLE_STATUS}});Object.defineProperty(J,"UNAUTHORIZED_STATUS",{enumerable:!0,get:function(){return je.UNAUTHORIZED_STATUS}});Object.defineProperty(J,"FORBIDDEN_STATUS",{enumerable:!0,get:function(){return je.FORBIDDEN_STATUS}});Object.defineProperty(J,"NOT_FOUND_STATUS",{enumerable:!0,get:function(){return je.NOT_FOUND_STATUS}});Object.defineProperty(J,"SERVER_INTERNAL_STATUS",{enumerable:!0,get:function(){return je.SERVER_INTERNAL_STATUS}});Object.defineProperty(J,"NO_STATUS_CODE",{enumerable:!0,get:function(){return je.NO_STATUS_CODE}});Object.defineProperty(J,"NO_ERROR_MSG",{enumerable:!0,get:function(){return je.NO_ERROR_MSG}});var Yv="unknown_error";J.UNKNOWN_ERROR=Yv;var Mv="__PLACEHOLDER__";J.JSONQL_ERRORS_INFO=Mv});var Di=g(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});var Lv=Z(),We=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=We.name,Error.captureStackTrace&&Error.captureStackTrace(this,We)}static get statusCode(){return Lv.NOT_ACCEPTABLE_STATUS}};jn.default=We});var Ki=g(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});var qv=Z(),$e=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=$e.name,Error.captureStackTrace&&Error.captureStackTrace(this,$e)}static get statusCode(){return qv.SERVER_INTERNAL_STATUS}};Fn.default=$e});var Ui=g(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});var Dv=Z(),ze=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=ze.name,Error.captureStackTrace&&Error.captureStackTrace(this,ze)}static get statusCode(){return Dv.FORBIDDEN_STATUS}};In.default=ze});var ki=g(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});var Kv=Z(),Xe=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=Xe.name,Error.captureStackTrace&&Error.captureStackTrace(this,Xe)}static get statusCode(){return Kv.UNAUTHORIZED_STATUS}};Yn.default=Xe});var Ji=g(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});var Uv=Z(),Qe=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=Qe.name,Error.captureStackTrace&&Error.captureStackTrace(this,Qe)}static get statusCode(){return Uv.UNAUTHORIZED_STATUS}};Mn.default=Qe});var Vi=g(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});var kv=Z(),Ze=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=Ze.name,Error.captureStackTrace&&Error.captureStackTrace(this,Ze)}static get statusCode(){return kv.SERVER_INTERNAL_STATUS}};Ln.default=Ze});var xi=g(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});var Jv=Z(),et=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=et.name,Error.captureStackTrace&&Error.captureStackTrace(this,et)}static get statusCode(){return Jv.NOT_FOUND_STATUS}};qn.default=et});var Gi=g(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});var tt=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=tt.name,Error.captureStackTrace&&Error.captureStackTrace(this,tt)}};Dn.default=tt});var Bi=g(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});var rt=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=rt.name,Error.captureStackTrace&&Error.captureStackTrace(this,rt)}};Kn.default=rt});var Hi=g(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});var nt=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=nt.name,Error.captureStackTrace&&Error.captureStackTrace(this,nt)}};Un.default=nt});var Wi=g(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});var ot=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=ot.name,Error.captureStackTrace&&Error.captureStackTrace(this,ot)}};kn.default=ot});var $i=g(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});var Vv=Z(),at=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=at.name,Error.captureStackTrace&&Error.captureStackTrace(this,at)}static get statusCode(){return Vv.NO_STATUS_CODE}};Jn.default=at});var zi=g(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var xv=Z(),St=class extends Error{constructor(o,r){super(r),this.statusCode=o,this.className=St.name}static get statusCode(){return xv.SERVER_INTERNAL_STATUS}};Vn.default=St});var Xi=g(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var it=class extends Error{constructor(...o){super(...o),this.message=o[0],this.detail=o[1],this.className=it.name,Error.captureStackTrace&&Error.captureStackTrace(this,it)}};xn.default=it});var Gn=g(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.GeneralError=M.JsonqlServerError=M.JsonqlError=M.JsonqlValidationError=M.JsonqlCheckerError=M.JsonqlTypeError=M.JsonqlEnumError=M.JsonqlResolverNotFoundError=M.JsonqlResolverAppError=M.JsonqlContractAuthError=M.JsonqlAuthorisationError=M.JsonqlForbiddenError=M.Jsonql500Error=M.Jsonql406Error=void 0;var ee=wn(),Gv=ee.__importDefault(Di());M.Jsonql406Error=Gv.default;var Bv=ee.__importDefault(Ki());M.Jsonql500Error=Bv.default;var Hv=ee.__importDefault(Ui());M.JsonqlForbiddenError=Hv.default;var Wv=ee.__importDefault(ki());M.JsonqlAuthorisationError=Wv.default;var $v=ee.__importDefault(Ji());M.JsonqlContractAuthError=$v.default;var zv=ee.__importDefault(Vi());M.JsonqlResolverAppError=zv.default;var Xv=ee.__importDefault(xi());M.JsonqlResolverNotFoundError=Xv.default;var Qv=ee.__importDefault(Gi());M.JsonqlEnumError=Qv.default;var Zv=ee.__importDefault(Bi());M.JsonqlTypeError=Zv.default;var ey=ee.__importDefault(Hi());M.JsonqlCheckerError=ey.default;var ty=ee.__importDefault(Wi());M.JsonqlValidationError=ty.default;var ry=ee.__importDefault($i());M.JsonqlError=ry.default;var ny=ee.__importDefault(zi());M.JsonqlServerError=ny.default;var oy=ee.__importDefault(Xi());M.GeneralError=oy.default});var Qi=g(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});var L=Gn(),ay=Z();function iy(n){if(Array.isArray(n))throw new L.JsonqlValidationError("",n);let o=n.message||ay.NO_ERROR_MSG,r=n.detail||n;switch(!0){case n instanceof L.Jsonql406Error:throw new L.Jsonql406Error(o,r);case n instanceof L.Jsonql500Error:throw new L.Jsonql500Error(o,r);case n instanceof L.JsonqlForbiddenError:throw new L.JsonqlForbiddenError(o,r);case n instanceof L.JsonqlAuthorisationError:throw new L.JsonqlAuthorisationError(o,r);case n instanceof L.JsonqlContractAuthError:throw new L.JsonqlContractAuthError(o,r);case n instanceof L.JsonqlResolverAppError:throw new L.JsonqlResolverAppError(o,r);case n instanceof L.JsonqlResolverNotFoundError:throw new L.JsonqlResolverNotFoundError(o,r);case n instanceof L.JsonqlEnumError:throw new L.JsonqlEnumError(o,r);case n instanceof L.JsonqlTypeError:throw new L.JsonqlTypeError(o,r);case n instanceof L.JsonqlCheckerError:throw new L.JsonqlCheckerError(o,r);case n instanceof L.JsonqlValidationError:throw new L.JsonqlValidationError(o,r);case n instanceof L.JsonqlServerError:throw new L.JsonqlServerError(o,r);default:throw new L.JsonqlError(o,r)}}Bn.default=iy});var Zi=g(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});var wt=Z();function uy(n,o=!1){switch(n){case wt.UNAUTHORIZED_STATUS:return o?"JsonqlContractAuthError":"JsonqlAuthorisationError";case wt.FORBIDDEN_STATUS:return"JsonqlForbiddenError";case wt.NOT_FOUND_STATUS:return"JsonqlResolverNotFoundError";case wt.NOT_ACCEPTABLE_STATUS:return"Jsonql406Error";case wt.SERVER_INTERNAL_STATUS:return"Jsonql500Error";default:return"JsonqlError"}}Hn.default=uy});var ru=g(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.getErrorNameByInstanceWithDefault=ut.getErrorNameByInstance=void 0;var eu=Z();function sy(n,o){return n.filter(r=>o instanceof r).map(r=>r.name)}function tu(n,o){let r=sy(n,o);return r.length?r[0]:eu.UNKNOWN_ERROR}ut.getErrorNameByInstance=tu;function cy(n,o){let r=tu(n,o);return r===eu.UNKNOWN_ERROR?"JsonqlError":r}ut.getErrorNameByInstanceWithDefault=cy});var nu=g(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.templateErrorObject=void 0;Ar.templateErrorObject={message:"",detail:"",className:"",name:""}});var jt=g(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.templateErrorObject=R.getErrorNameByInstance=R.getErrorNameByInstanceWithDefault=R.getErrorByStatus=R.finalCatch=R.JSONQL_ERRORS_INFO=R.UNKNOWN_ERROR=R.GeneralError=R.JsonqlServerError=R.JsonqlError=R.JsonqlValidationError=R.JsonqlCheckerError=R.JsonqlTypeError=R.JsonqlEnumError=R.JsonqlResolverNotFoundError=R.JsonqlResolverAppError=R.JsonqlContractAuthError=R.JsonqlAuthorisationError=R.JsonqlForbiddenError=R.Jsonql500Error=R.Jsonql406Error=void 0;var ou=wn(),te=Gn();Object.defineProperty(R,"Jsonql406Error",{enumerable:!0,get:function(){return te.Jsonql406Error}});Object.defineProperty(R,"Jsonql500Error",{enumerable:!0,get:function(){return te.Jsonql500Error}});Object.defineProperty(R,"JsonqlForbiddenError",{enumerable:!0,get:function(){return te.JsonqlForbiddenError}});Object.defineProperty(R,"JsonqlAuthorisationError",{enumerable:!0,get:function(){return te.JsonqlAuthorisationError}});Object.defineProperty(R,"JsonqlContractAuthError",{enumerable:!0,get:function(){return te.JsonqlContractAuthError}});Object.defineProperty(R,"JsonqlResolverAppError",{enumerable:!0,get:function(){return te.JsonqlResolverAppError}});Object.defineProperty(R,"JsonqlResolverNotFoundError",{enumerable:!0,get:function(){return te.JsonqlResolverNotFoundError}});Object.defineProperty(R,"JsonqlEnumError",{enumerable:!0,get:function(){return te.JsonqlEnumError}});Object.defineProperty(R,"JsonqlTypeError",{enumerable:!0,get:function(){return te.JsonqlTypeError}});Object.defineProperty(R,"JsonqlCheckerError",{enumerable:!0,get:function(){return te.JsonqlCheckerError}});Object.defineProperty(R,"JsonqlValidationError",{enumerable:!0,get:function(){return te.JsonqlValidationError}});Object.defineProperty(R,"JsonqlError",{enumerable:!0,get:function(){return te.JsonqlError}});Object.defineProperty(R,"JsonqlServerError",{enumerable:!0,get:function(){return te.JsonqlServerError}});Object.defineProperty(R,"GeneralError",{enumerable:!0,get:function(){return te.GeneralError}});var au=Z();Object.defineProperty(R,"UNKNOWN_ERROR",{enumerable:!0,get:function(){return au.UNKNOWN_ERROR}});Object.defineProperty(R,"JSONQL_ERRORS_INFO",{enumerable:!0,get:function(){return au.JSONQL_ERRORS_INFO}});var ly=ou.__importDefault(Qi());R.finalCatch=ly.default;var fy=ou.__importDefault(Zi());R.getErrorByStatus=fy.default;var iu=ru();Object.defineProperty(R,"getErrorNameByInstanceWithDefault",{enumerable:!0,get:function(){return iu.getErrorNameByInstanceWithDefault}});Object.defineProperty(R,"getErrorNameByInstance",{enumerable:!0,get:function(){return iu.getErrorNameByInstance}});var _y=nu();Object.defineProperty(R,"templateErrorObject",{enumerable:!0,get:function(){return _y.templateErrorObject}})});var $n=g($=>{"use strict";var py=$&&$.__createBinding||(Object.create?function(n,o,r,i){i===void 0&&(i=r);var u=Object.getOwnPropertyDescriptor(o,r);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[r]}}),Object.defineProperty(n,i,u)}:function(n,o,r,i){i===void 0&&(i=r),n[i]=o[r]}),dy=$&&$.__setModuleDefault||(Object.create?function(n,o){Object.defineProperty(n,"default",{enumerable:!0,value:o})}:function(n,o){n.default=o}),Ey=$&&$.__importStar||function(n){if(n&&n.__esModule)return n;var o={};if(n!=null)for(var r in n)r!=="default"&&Object.prototype.hasOwnProperty.call(n,r)&&py(o,n,r);return dy(o,n),o};Object.defineProperty($,"__esModule",{value:!0});$.getPlugin=$.checkArgKeys=$.curryPlugin=$.createCoreCurryPlugin=void 0;var hy=Ee(),Wn=jt(),uu=vr(),vy=uu.plugins;function yy(n){let{plugin:o}=n,r=vy.filter(i=>o===i.name)[0];return su(n,r)}$.createCoreCurryPlugin=yy;function su(n,o){let{plugin:r}=n;if(r){let i=o.params;if(i){if(!cu(n,i))throw new Wn.JsonqlError(`Expected params: ${i.join(",")} not found!`);let u=i.map(c=>n[c]);return Reflect.apply((0,hy.curry)(o.main),null,u)}else throw new Wn.JsonqlError(`This plugin ${o.name} can not be curry`)}throw new Wn.JsonqlError("Unable to find plugin in config")}$.curryPlugin=su;function cu(n,o){return o.filter(r=>n[r]).length===o.length}$.checkArgKeys=cu;function my(n){let o=uu.plugins[n];if(o)return o=o==="_"?n:o,Promise.resolve().then(()=>Ey(Sa("./"+[o,"js"].join("."))));throw new Error(`${n} is not found`)}$.getPlugin=my});var gr=g(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.KEYWORDS=I.VALUE_KEY=I.IDX_KEY=I.ORG_KEY=I.PARAMS_KEY=I.NAME_KEY=I.RULES_KEY=I.PATTERN_KEY=I.PLUGIN_FN_KEY=I.PLUGIN_KEY=I.VALIDATE_ASYNC_KEY=I.VALIDATE_KEY=void 0;I.VALIDATE_KEY="validate";I.VALIDATE_ASYNC_KEY="validateAsync";I.PLUGIN_KEY="plugin";I.PLUGIN_FN_KEY="main";I.PATTERN_KEY="pattern";I.RULES_KEY="rules";I.NAME_KEY="name";I.PARAMS_KEY="params";I.ORG_KEY="org";I.IDX_KEY="$$idx";I.VALUE_KEY="$$value";I.KEYWORDS=[I.PARAMS_KEY,I.PATTERN_KEY,I.VALIDATE_KEY,I.VALIDATE_ASYNC_KEY,I.PLUGIN_KEY,I.RULES_KEY,"name","type","types","server","tstype","value","optional","tmp","pos","lastResult"]});var fu=g((gb,lu)=>{var st=1e3,ct=st*60,lt=ct*60,Fe=lt*24,by=Fe*7,Ay=Fe*365.25;lu.exports=function(n,o){o=o||{};var r=typeof n;if(r==="string"&&n.length>0)return gy(n);if(r==="number"&&isFinite(n))return o.long?Py(n):Oy(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function gy(n){if(n=String(n),!(n.length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(!!o){var r=parseFloat(o[1]),i=(o[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*Ay;case"weeks":case"week":case"w":return r*by;case"days":case"day":case"d":return r*Fe;case"hours":case"hour":case"hrs":case"hr":case"h":return r*lt;case"minutes":case"minute":case"mins":case"min":case"m":return r*ct;case"seconds":case"second":case"secs":case"sec":case"s":return r*st;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Oy(n){var o=Math.abs(n);return o>=Fe?Math.round(n/Fe)+"d":o>=lt?Math.round(n/lt)+"h":o>=ct?Math.round(n/ct)+"m":o>=st?Math.round(n/st)+"s":n+"ms"}function Py(n){var o=Math.abs(n);return o>=Fe?Or(n,o,Fe,"day"):o>=lt?Or(n,o,lt,"hour"):o>=ct?Or(n,o,ct,"minute"):o>=st?Or(n,o,st,"second"):n+" ms"}function Or(n,o,r,i){var u=o>=r*1.5;return Math.round(n/r)+" "+i+(u?"s":"")}});var pu=g((Ob,_u)=>{function Ty(n){r.debug=r,r.default=r,r.coerce=d,r.disable=c,r.enable=u,r.enabled=l,r.humanize=fu(),r.destroy=A,Object.keys(n).forEach(E=>{r[E]=n[E]}),r.names=[],r.skips=[],r.formatters={};function o(E){let h=0;for(let m=0;m<E.length;m++)h=(h<<5)-h+E.charCodeAt(m),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=o;function r(E){let h,m=null,F,Y;function T(...N){if(!T.enabled)return;let K=T,ne=Number(new Date),Le=ne-(h||ne);K.diff=Le,K.prev=h,K.curr=ne,h=ne,N[0]=r.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");let ce=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(de,X)=>{if(de==="%%")return"%";ce++;let Te=r.formatters[X];if(typeof Te=="function"){let Et=N[ce];de=Te.call(K,Et),N.splice(ce,1),ce--}return de}),r.formatArgs.call(K,N),(K.log||r.log).apply(K,N)}return T.namespace=E,T.useColors=r.useColors(),T.color=r.selectColor(E),T.extend=i,T.destroy=r.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(F!==r.namespaces&&(F=r.namespaces,Y=r.enabled(E)),Y),set:N=>{m=N}}),typeof r.init=="function"&&r.init(T),T}function i(E,h){let m=r(this.namespace+(typeof h>"u"?":":h)+E);return m.log=this.log,m}function u(E){r.save(E),r.namespaces=E,r.names=[],r.skips=[];let h,m=(typeof E=="string"?E:"").split(/[\s,]+/),F=m.length;for(h=0;h<F;h++)!m[h]||(E=m[h].replace(/\*/g,".*?"),E[0]==="-"?r.skips.push(new RegExp("^"+E.slice(1)+"$")):r.names.push(new RegExp("^"+E+"$")))}function c(){let E=[...r.names.map(f),...r.skips.map(f).map(h=>"-"+h)].join(",");return r.enable(""),E}function l(E){if(E[E.length-1]==="*")return!0;let h,m;for(h=0,m=r.skips.length;h<m;h++)if(r.skips[h].test(E))return!1;for(h=0,m=r.names.length;h<m;h++)if(r.names[h].test(E))return!0;return!1}function f(E){return E.toString().substring(2,E.toString().length-2).replace(/\.\*\?$/,"*")}function d(E){return E instanceof Error?E.stack||E.message:E}function A(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}_u.exports=Ty});var zn=g((ie,Pr)=>{ie.formatArgs=Cy;ie.save=Ny;ie.load=Sy;ie.useColors=Ry;ie.storage=wy();ie.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ie.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Ry(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Cy(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+Pr.exports.humanize(this.diff),!this.useColors)return;let o="color: "+this.color;n.splice(1,0,o,"color: inherit");let r=0,i=0;n[0].replace(/%[a-zA-Z%]/g,u=>{u!=="%%"&&(r++,u==="%c"&&(i=r))}),n.splice(i,0,o)}ie.log=console.debug||console.log||(()=>{});function Ny(n){try{n?ie.storage.setItem("debug",n):ie.storage.removeItem("debug")}catch{}}function Sy(){let n;try{n=ie.storage.getItem("debug")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=process.env.DEBUG),n}function wy(){try{return localStorage}catch{}}Pr.exports=pu()(ie);var{formatters:jy}=Pr.exports;jy.j=function(n){try{return JSON.stringify(n)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}}});var Qn=g(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.patternPluginFanctory=re.isResultPackage=re.successThen=re.constructRuleCb=re.pluginHasFunc=re.checkPluginArg=void 0;var Xn=ge(),Fy=jt(),ve=gr(),Ft=Ee(),Iy=Xn.__importDefault(zn()),It=(0,Iy.default)("jsonql:validator-core:common");function Yy(n){return!(n.filter(o=>(0,Ft.inArray)(ve.KEYWORDS,o)).length>0)}re.checkPluginArg=Yy;function My(n){if(!n[ve.PATTERN_KEY]){let o=[ve.VALIDATE_KEY,ve.VALIDATE_ASYNC_KEY,ve.PLUGIN_FN_KEY];for(let r=0;r<o.length;++r){let i=n[o[r]];if(i&&(0,Ft.isFunction)(i))return!0}}return!1}re.pluginHasFunc=My;function Ly(n,o,r){return It("ruleFn",o,n),(i,u,c)=>Xn.__awaiter(this,void 0,void 0,function*(){return Reflect.apply(o,null,[i]).then(du(n,i,u,c)).catch(l=>(It("failed",n,i,l,c),Promise.reject(new Fy.JsonqlValidationError(r,c))))})}re.constructRuleCb=Ly;function du(n,o,r,i){return u=>{let c=i[0];It("passed",n,o,u,i),It("lastResult",r);let l={[ve.IDX_KEY]:c,[ve.VALUE_KEY]:o};if(r===void 0)return{[n]:l};if(n in r){let f=r[n];return Eu(f)?f.includes(l)||r[n].push(l):f[ve.IDX_KEY]!==c&&(r[n]=(0,Ft.toArray)(r[n]).concat([l])),r}return(0,Ft.assign)(r,{[n]:l})}}re.successThen=du;function Eu(n,o=ve.IDX_KEY){try{if(Array.isArray(n))return!!n.filter(r=>o in r).length}catch(r){It("isResultPackage",r)}return!1}re.isResultPackage=Eu;function qy(n){let o=(0,Ft.getRegex)(n);return r=>Xn.__awaiter(this,void 0,void 0,function*(){return o.test(r)?Promise.resolve(!0):Promise.reject(!1)})}re.patternPluginFanctory=qy});var yu=g(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.ValidatorPlugins=void 0;var Dy=ge(),Yt=jt(),hu=Ee(),V=gr(),Ky=ur(),vu=$n(),Zn=hn(),Mt=Qn(),Uy=vr(),ky=Dy.__importDefault(zn()),Jy=(0,ky.default)("jsonql:validator-core:validator-plugin"),eo=class{constructor(o){this.idx=o,this._plugins=new Map,this._internalPluginNames=[],this._externalPluginNames=[],Uy.plugins.forEach(r=>{r[V.PARAMS_KEY]||(r[V.VALIDATE_ASYNC_KEY]=(0,Zn.promisify)(r[V.PLUGIN_FN_KEY]));let i=r[V.NAME_KEY];this._internalPluginNames.push(i),this._registerPlugin(i,r,!0)})}lookupPlugin(o,r){let i=o[V.PLUGIN_KEY];if(i&&this._plugins.has(i)){let u=this._plugins.get(i);if(u&&u[V.VALIDATE_ASYNC_KEY])return(0,Mt.constructRuleCb)(r,u[V.VALIDATE_ASYNC_KEY],i);if(u&&u[V.PARAMS_KEY]){Jy("_pluign",u,"input",o);let c=o;return(0,Mt.constructRuleCb)(r,(0,Zn.promisify)((0,hu.inArray)(this._internalPluginNames,i)?(0,vu.createCoreCurryPlugin)(c):(0,vu.curryPlugin)(c,u)),i)}}throw new Yt.JsonqlError(`Unable to find ${i} plugin for ${r}`)}registerPlugin(o,r){this._registerPlugin(o,r)}loadExtPlugin(o,r){if(!this._externalPluginNames.includes(o))this._internalPluginNames.push(o),this._registerPlugin(o,r);else throw new Yt.JsonqlError(`${o} already added!`,o)}getPluginNames(o=!1){return o===!0?this._externalPluginNames:this._internalPluginNames.concat(this._externalPluginNames)}_registerPlugin(o,r,i=!1){if(!i){if(this._plugins.has(o))throw new Yt.JsonqlError(`plugin ${o} already existed!`);if(r[V.PARAMS_KEY]!==void 0&&!(0,Mt.checkPluginArg)(r[V.PARAMS_KEY]))throw new Yt.JsonqlError("Your plugin config argument contains reserved keywords");if(!(0,Mt.pluginHasFunc)(r))throw new Yt.JsonqlError("Can not find any executable definition within your plugin config")}switch(r.name=o,!0){case(!r[V.VALIDATE_ASYNC_KEY]&&r[V.VALIDATE_KEY]&&(0,hu.isFunction)(r[V.VALIDATE_KEY])):r[V.VALIDATE_ASYNC_KEY]=(0,Zn.promisify)(r[V.VALIDATE_KEY]);break;case(r[V.PATTERN_KEY]&&(0,Ky.checkString)(r[V.PATTERN_KEY])):r[V.VALIDATE_ASYNC_KEY]=(0,Mt.patternPluginFanctory)(r[V.PATTERN_KEY]);break;default:}this._plugins.set(o,r)}};Tr.ValidatorPlugins=eo});var Pu=g((Nb,Ou)=>{var ft=1e3,_t=ft*60,pt=_t*60,Ye=pt*24,Gy=Ye*7,By=Ye*365.25;Ou.exports=function(n,o){o=o||{};var r=typeof n;if(r==="string"&&n.length>0)return Hy(n);if(r==="number"&&isFinite(n))return o.long?$y(n):Wy(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function Hy(n){if(n=String(n),!(n.length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(!!o){var r=parseFloat(o[1]),i=(o[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*By;case"weeks":case"week":case"w":return r*Gy;case"days":case"day":case"d":return r*Ye;case"hours":case"hour":case"hrs":case"hr":case"h":return r*pt;case"minutes":case"minute":case"mins":case"min":case"m":return r*_t;case"seconds":case"second":case"secs":case"sec":case"s":return r*ft;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Wy(n){var o=Math.abs(n);return o>=Ye?Math.round(n/Ye)+"d":o>=pt?Math.round(n/pt)+"h":o>=_t?Math.round(n/_t)+"m":o>=ft?Math.round(n/ft)+"s":n+"ms"}function $y(n){var o=Math.abs(n);return o>=Ye?Nr(n,o,Ye,"day"):o>=pt?Nr(n,o,pt,"hour"):o>=_t?Nr(n,o,_t,"minute"):o>=ft?Nr(n,o,ft,"second"):n+" ms"}function Nr(n,o,r,i){var u=o>=r*1.5;return Math.round(n/r)+" "+i+(u?"s":"")}});var Ru=g((Sb,Tu)=>{function zy(n){r.debug=r,r.default=r,r.coerce=d,r.disable=c,r.enable=u,r.enabled=l,r.humanize=Pu(),r.destroy=A,Object.keys(n).forEach(E=>{r[E]=n[E]}),r.names=[],r.skips=[],r.formatters={};function o(E){let h=0;for(let m=0;m<E.length;m++)h=(h<<5)-h+E.charCodeAt(m),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=o;function r(E){let h,m=null,F,Y;function T(...N){if(!T.enabled)return;let K=T,ne=Number(new Date),Le=ne-(h||ne);K.diff=Le,K.prev=h,K.curr=ne,h=ne,N[0]=r.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");let ce=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(de,X)=>{if(de==="%%")return"%";ce++;let Te=r.formatters[X];if(typeof Te=="function"){let Et=N[ce];de=Te.call(K,Et),N.splice(ce,1),ce--}return de}),r.formatArgs.call(K,N),(K.log||r.log).apply(K,N)}return T.namespace=E,T.useColors=r.useColors(),T.color=r.selectColor(E),T.extend=i,T.destroy=r.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(F!==r.namespaces&&(F=r.namespaces,Y=r.enabled(E)),Y),set:N=>{m=N}}),typeof r.init=="function"&&r.init(T),T}function i(E,h){let m=r(this.namespace+(typeof h>"u"?":":h)+E);return m.log=this.log,m}function u(E){r.save(E),r.namespaces=E,r.names=[],r.skips=[];let h,m=(typeof E=="string"?E:"").split(/[\s,]+/),F=m.length;for(h=0;h<F;h++)!m[h]||(E=m[h].replace(/\*/g,".*?"),E[0]==="-"?r.skips.push(new RegExp("^"+E.slice(1)+"$")):r.names.push(new RegExp("^"+E+"$")))}function c(){let E=[...r.names.map(f),...r.skips.map(f).map(h=>"-"+h)].join(",");return r.enable(""),E}function l(E){if(E[E.length-1]==="*")return!0;let h,m;for(h=0,m=r.skips.length;h<m;h++)if(r.skips[h].test(E))return!1;for(h=0,m=r.names.length;h<m;h++)if(r.names[h].test(E))return!0;return!1}function f(E){return E.toString().substring(2,E.toString().length-2).replace(/\.\*\?$/,"*")}function d(E){return E instanceof Error?E.stack||E.message:E}function A(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Tu.exports=zy});var wr=g((ue,Sr)=>{ue.formatArgs=Qy;ue.save=Zy;ue.load=em;ue.useColors=Xy;ue.storage=tm();ue.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ue.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Xy(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Qy(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+Sr.exports.humanize(this.diff),!this.useColors)return;let o="color: "+this.color;n.splice(1,0,o,"color: inherit");let r=0,i=0;n[0].replace(/%[a-zA-Z%]/g,u=>{u!=="%%"&&(r++,u==="%c"&&(i=r))}),n.splice(i,0,o)}ue.log=console.debug||console.log||(()=>{});function Zy(n){try{n?ue.storage.setItem("debug",n):ue.storage.removeItem("debug")}catch{}}function em(){let n;try{n=ue.storage.getItem("debug")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=process.env.DEBUG),n}function tm(){try{return localStorage}catch{}}Sr.exports=Ru()(ue);var{formatters:rm}=Sr.exports;rm.j=function(n){try{return JSON.stringify(n)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}}});var to=U(ur()),Vy=U(un()),Rr=U(sn()),ro=U(cn()),Pe=U(fr()),Lt=U(pn()),Cr=U(Ct()),qt=U(si()),pe=U(hn()),xy=U(vr()),mu=U($n()),z=U(Qn()),Dt=U(yu()),C=U(gr());var Kt=U(jt()),Me=U(Ee()),Fu=U(we());var G=U(we());var bu="Input argument is not an array!";var Au="Exception happened don't know how to handle it",gu="$_spread_arg_",Ie="$$is_spread_values";var jr=U(Ee()),Cu=U(wr()),dt=(0,Cu.default)("jsonql:validator:class:fn");function Nu(n){return n.map(o=>{let{name:r}=o,i=nm(o),u=o[G.TS_TYPE_NAME]||o.type;return dt("createAutomaticRules",r,u),o[C.RULES_KEY]=[(0,z.constructRuleCb)(r,i,u)],o})}function Su(n,o){return W(this,null,function*(){return n.map(r=>C.VALUE_KEY in o[r]?o[r][C.VALUE_KEY]:(0,z.isResultPackage)(o[r])?{[Ie]:o[r].map(i=>i[C.VALUE_KEY])}:(dt(`Return result when we couldn't find way to destruct: ${r}`,o[r]),o[r]))})}function wu(n){return W(this,null,function*(){dt("unwrapPreparedValidateResult",n);let o=n.length;if(o===1&&(0,jr.objectHasKey)(n[0],Ie))return n[0][Ie];if((0,z.isResultPackage)(n,Ie)){let r=[];for(let i=0;i<o;++i)Ie in n[i]?r=r.concat(n[i][Ie]):r.push(n[i]);return r}return n})}function nm(n){switch(dt("getValidateRules ast",n),n[G.TS_TYPE_NAME]){case G.TS_UNION_TYPE:return function(r){return W(this,null,function*(){return(0,qt.checkUnion)(r,n.type)})};case(G.TS_ARRAY_TYPE||G.SPREAD_ARG_TYPE):return function(r){return W(this,null,function*(){return(0,pe.promisify)(Pe.checkArray)(r,n.types)})};case(G.TS_TYPE_REF||G.TS_TYPE_LIT):return function(r){return W(this,null,function*(){return(0,pe.promisify)(ro.checkAny)(r)})};case G.SPREAD_ARG_TYPE:return function(r){return W(this,null,function*(){return(0,pe.promisify)((0,Cr.combineCheck)(n.types))(r)})};default:return(0,to.checkString)(n.type)?(dt("validation type",n.type),function(r){return W(this,null,function*(){return(0,pe.promisify)((0,Cr.combineCheck)(n.type))(r)})}):(dt("getValidateRules",n),function(r){return W(this,null,function*(){return(0,pe.promisify)(jr.notEmpty)(r,!0)})})}}function no(n,o){return o.tstype!==G.SPREAD_ARG_TYPE&&n===void 0?o[G.DEFAULT_VALUE]!==void 0?o[G.DEFAULT_VALUE]:void 0:n}function ju(n){return[C.VALIDATE_KEY,C.VALIDATE_ASYNC_KEY,C.PLUGIN_FN_KEY].filter(o=>n[o]!==void 0)}var Iu=U(wr()),ye=(0,Iu.default)("jsonql:validator:class:base"),Fr=class{constructor(o,r){this._validatorPluginsInstance=r;this._astWithBaseRules=Nu(o),this._arguments=this._astWithBaseRules.map(i=>i[C.NAME_KEY])}get schema(){return this._schema||this._astWithBaseRules}get $idx(){return this._validatorPluginsInstance.idx}_normalizeArgValues(o){ye("_normalizeArgValues",o);let r=this.schema,i=r.length;if(i===0)return[];if(!(0,Pe.checkArray)(o))throw ye(o),new Kt.JsonqlValidationError(bu,o);let u=o.length;switch(!0){case u===i:return o.map((c,l)=>this._prepareForExecution(c,r[l],l));case u<i:return ye("Values pass less than params"),r.map((c,l)=>{let f=no(o[l],c);return this._prepareForExecution(f,c,l)});case u>i:return ye("spread params",u,i),this._processSpreadLikeArg(o,r);default:throw new Kt.JsonqlValidationError(Au,[u,i])}}_processSpreadLikeArg(o,r){let i=r.filter(u=>u.tstype===Fu.SPREAD_ARG_TYPE)[0];return o.map((u,c)=>{let l=r[c]||(0,Me.assign)(i,{name:`${gu}${c}`}),f=no(u,l);return ye("spread param",f,l.name),this._prepareForExecution(f,l,c)})}_prepareForExecution(o,r,i){let{rules:u,required:c,name:l}=r;return u&&u.length?u.map((f,d)=>o===void 0&&!c?(ye("skip the validation",c),A=>W(this,null,function*(){return(0,z.successThen)(l,o,A,[i,d])(!0)})):A=>W(this,null,function*(){return Reflect.apply(f,null,[o,A,[i,d]]).then(E=>(ye("Post rule result",E),E))})):()=>W(this,null,function*(){return!0})}_createSchema(o){let r=this._astWithBaseRules;(0,Me.notEmpty)(o,!0)&&((0,Pe.checkArray)(o)?r=this._applyArrayInput(r,o):(0,Lt.checkObject)(o)&&(r=this._applyObjectInput(r,o))),this._schema=r}_applyArrayInput(o,r){let i=r.map(Me.toArray);return o.map((u,c)=>{var l;if(i[c]){let f=this._transformInput(i[c],u.name);f&&(u[C.RULES_KEY]=(l=u[C.RULES_KEY])==null?void 0:l.concat(f))}return u})}_applyObjectInput(o,r){return o.map(i=>{var c;let u=i.name;if(r[u]){let l=(0,Me.toArray)(r[u]).map(d=>(d.name=u,d)),f=this._transformInput(l,u);f&&f.length&&(i[C.RULES_KEY]=(c=i[C.RULES_KEY])==null?void 0:c.concat(f))}return i})}_transformInput(o,r){return ye("_transformInput",o),o.map((i,u)=>{let c=ju(i);if(c.length>1)throw new Error(`You can only set one rule at a time! We found ${c.join(",")}`);let l=i.name||`customPluginName${u}`;switch(!0){case i[C.PLUGIN_KEY]!==void 0:return ye("Should got here",i[C.PLUGIN_KEY]),this._lookupPlugin(i,r);case i[C.VALIDATE_KEY]!==void 0:return(0,z.constructRuleCb)(r,(0,pe.promisify)(i[C.VALIDATE_KEY]),l);case i[C.VALIDATE_ASYNC_KEY]!==void 0:return(0,z.constructRuleCb)(r,i[C.VALIDATE_ASYNC_KEY],l);default:throw new Kt.JsonqlError(`unable to find rule for ${r}`)}})}_lookupPlugin(o,r){return this._validatorPluginsInstance.lookupPlugin(o,r)}};var Mu=U(Ee());var Lu=U(wr()),Yu=(0,Lu.default)("jsonql:validator:class:index"),oo=class extends Fr{constructor(o,r){super(o,r&&r instanceof Dt.ValidatorPlugins?r:new Dt.ValidatorPlugins)}validate(o,r=!1){return W(this,null,function*(){Yu("raw flag",r);let i=this._normalizeArgValues(o);return(0,Mu.queuePromisesProcess)(i,void 0).then(u=>r?u:this._prepareValidateResult(u))})}registerPlugins(o){for(let r in o)this._validatorPluginsInstance.registerPlugin(r,o[r])}registerPlugin(o,r){this._validatorPluginsInstance.registerPlugin(o,r)}loadExtPlugin(o,r){this._validatorPluginsInstance.loadExtPlugin(o,r)}addValidationRules(o){this._createSchema(o)}_prepareValidateResult(o){return W(this,null,function*(){return Yu("validateResult",this._arguments,o),Su(this._arguments,o).then(wu)})}};})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=jsonql-validator.min.js.map
