{
  "version": 3,
  "sources": ["../errors/dist/validation-error.js", "../errors/dist/general-exception.js", "../utils/dist/truetypeof.js", "../utils/dist/lodash.js", "../utils/dist/common.js", "../utils/dist/object.js", "../utils/dist/empty.js", "../utils/dist/is-function.js", "../utils/dist/chain-promises.js", "node_modules/.pnpm/ms@2.1.2/node_modules/ms/index.js", "node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/common.js", "node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js", "../validator-core/node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.js", "../validator-core/dist/constants.js", "../validator-core/dist/lib/len.js", "../validator-core/dist/plugins/more-than.js", "../validator-core/dist/plugins/less-than.js", "../validator-core/dist/plugins/between.js", "../validator-core/dist/plugins/email.js", "../validator-core/dist/plugins/int.js", "../validator-core/dist/plugins/less-than-equal.js", "../validator-core/dist/plugins/more-than-equal.js", "../validator-core/dist/plugins/uint.js", "../validator-core/dist/plugins/within.js", "../validator-core/dist/plugins/index.js", "../validator-core/dist/plugins/plugins.js", "../validator-core/dist/lib/promisify.js", "../utils/dist/regex.js", "../validator-core/node_modules/.pnpm/ms@2.1.2/node_modules/ms/index.js", "../validator-core/node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/common.js", "../validator-core/node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js", "../validator-core/dist/lib/common.js", "../validator-core/dist/validator-plugins.js", "src/validator-base.ts", "../utils/dist/truetypeof.js", "../utils/dist/common.js", "../utils/dist/object.js", "../utils/dist/lodash.js", "../utils/dist/chain-promises.js", "../errors/dist/general-exception.js", "../errors/dist/validation-error.js", "../utils/dist/is-function.js", "../utils/dist/regex.js", "../validator-core/node_modules/.pnpm/ms@2.1.2/node_modules/ms/index.js", "../validator-core/node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/common.js", "../validator-core/node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js", "../validator-core/src/base/string.ts", "../validator-core/src/base/boolean.ts", "../validator-core/src/base/number.ts", "../validator-core/src/base/any.ts", "../validator-core/src/base/array.ts", "../validator-core/src/constants.ts", "../validator-core/src/base/combine.ts", "../validator-core/src/base/object.ts", "../validator-core/src/base/union.ts", "../validator-core/src/lib/promisify.ts", "../validator-core/src/lib/len.ts", "../validator-core/src/plugins/more-than.ts", "../validator-core/src/plugins/less-than.ts", "../validator-core/src/plugins/between.ts", "../validator-core/src/plugins/email.ts", "../validator-core/src/plugins/int.ts", "../validator-core/src/plugins/less-than-equal.ts", "../validator-core/src/plugins/more-than-equal.ts", "../validator-core/src/plugins/uint.ts", "../validator-core/src/plugins/within.ts", "../validator-core/src/plugins/index.ts", "../validator-core/src/plugins/plugins.ts", "../validator-core/src/lib/common.ts", "../validator-core/src/validator-plugins.ts", "src/constants.ts", "src/fn.ts", "src/validator-factory.ts"],
  "sourcesContent": ["\"use strict\";\n// custom validation error class\n// when validaton failed\n// should there also be a errors result somewhere\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(...args) {\n        super(...args);\n        this.message = args[0];\n        this.detail = args[1];\n        this.className = ValidationError.name;\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, ValidationError);\n        }\n    }\n}\nexports.default = ValidationError;\n", "\"use strict\";\n// this is a new Error class that is not part of the Jsonql\n// but we will use it in other external modules\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass GeneralException extends Error {\n    constructor(...args) {\n        super(...args);\n        this.message = args[0];\n        this.detail = args[1];\n        this.className = GeneralException.name;\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, GeneralException);\n        }\n    }\n}\nexports.default = GeneralException;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.trueTypeOf = void 0;\n/*\n * More accurately check the type of a JavaScript object\n * (c) 2021 Chris Ferdinandi, MIT License, https://gomakethings.com\n */\nfunction trueTypeOf(obj) {\n    return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase();\n}\nexports.trueTypeOf = trueTypeOf;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isString = exports.flatMap = exports.merge = exports.curry = void 0;\nconst truetypeof_1 = require(\"./truetypeof\");\nconst object_1 = require(\"./object\");\n// DIY curry method\nconst curry = (fn, ...args) => (fn.length <= args.length) ?\n    fn(...args) :\n    (...more) => (0, exports.curry)(fn, ...args, ...more);\nexports.curry = curry;\n// import mapKeys from 'lodash-es/mapKeys'\n// import omitBy from 'lodash-es/omitBy'\n// import findKey from 'lodash-es/findKey'\nconst merge = (target, ...sources) => {\n    if (!sources.length)\n        return target;\n    const source = sources.shift();\n    if ((0, object_1.isObject)(target) && (0, object_1.isObject)(source)) {\n        for (const key in source) {\n            if ((0, object_1.isObject)(source[key])) {\n                if (!target[key]) {\n                    Object.assign(target, {\n                        [key]: {}\n                    });\n                }\n                (0, exports.merge)(target[key], source[key]);\n            }\n            else {\n                Object.assign(target, {\n                    [key]: source[key]\n                });\n            }\n        }\n    }\n    return (0, exports.merge)(target, ...sources);\n};\nexports.merge = merge;\n// flatMap native\nfunction flatMap(arr, callback) {\n    if (!callback) {\n        callback = n => n;\n    }\n    return arr.flatMap(callback);\n}\nexports.flatMap = flatMap;\n// the lodash-es ESM module can not import from commonjs etc etc etc bug\n// so we get rip of most of them\nfunction isString(value) {\n    return (0, truetypeof_1.trueTypeOf)(value) === 'string';\n}\nexports.isString = isString;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatStr = exports.showDeep = exports.nil = exports.createEvtName = exports.parseJson = exports.toArray = exports.inArray = void 0;\nconst lodash_1 = require(\"./lodash\");\n/**\n * DIY in Array\n */\nconst inArray = (arr, value) => arr.includes(value);\nexports.inArray = inArray;\n// quick and dirty to turn non array to array\nconst toArray = (arg) => Array.isArray(arg) ? arg : [arg];\nexports.toArray = toArray;\n/**\n * parse string to json or just return the original value if error happened\n */\nconst parseJson = (n, t = true) => {\n    try {\n        return (0, lodash_1.isString)(n) ?\n            JSON.parse(n) :\n            JSON.parse(JSON.stringify(n));\n    }\n    catch (e) {\n        if (t) {\n            return n;\n        }\n        throw e; // just rethrow it\n    }\n};\nexports.parseJson = parseJson;\n/**\n * create an event name\n */\nconst createEvtName = (...args) => args.join('_');\nexports.createEvtName = createEvtName;\n/**\n * generic placeholder function\n */\nconst nil = () => false;\nexports.nil = nil;\n/** handy method to show deep json structure */\nconst showDeep = (code) => {\n    console.dir(code, { depth: null });\n};\nexports.showDeep = showDeep;\n/** from https://www.tutorialstonight.com/javascript-string-format.php\n  change to a standard function instead of prototype pollution\n*/\nfunction formatStr(str, ...args) {\n    return str.replace(/{([0-9]+)}/g, (match, index) => (typeof args[index] === 'undefined' ? match : args[index]));\n}\nexports.formatStr = formatStr;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readOnly = exports.objectHasKey = exports.arrToObj = exports.assign = exports.getConfigValue = exports.isClass = exports.isPlainObject = exports.isObject = void 0;\nconst common_1 = require(\"./common\");\nconst truetypeof_1 = require(\"./truetypeof\");\nfunction isObject(o) {\n    return (0, truetypeof_1.trueTypeOf)(o) === 'object';\n}\nexports.isObject = isObject;\n// move the isPlainObject method here\nfunction isPlainObject(o) {\n    if (isObject(o)) {\n        // If has modified constructor\n        const constr = o.constructor;\n        /* this check is pointless even {} has prototype\n        if (constr === undefined) {\n          return true\n        } */\n        const prot = constr.prototype;\n        const nullType = '[Object: null prototype]';\n        if (prot.toString().substring(0, nullType.length) === nullType) {\n            return true;\n        }\n        // If has modified prototype\n        if (isObject(prot) === false) {\n            return false;\n        }\n        return Reflect.apply(prot['hasOwnProperty'], prot, ['isPrototypeOf']);\n    }\n    return false;\n}\nexports.isPlainObject = isPlainObject;\n/** short hand of !isPlainObject */\nconst isClass = (o) => !isPlainObject(o);\nexports.isClass = isClass;\n/**\n * simple util method to get the value from the config object\n */\nconst getConfigValue = (name, obj) => (obj && isPlainObject(obj) ? ((name in obj) ? obj[name] : undefined) : undefined);\nexports.getConfigValue = getConfigValue;\n/**\n * Shorthand method for Object.assign\n */\nconst assign = (...args) => Reflect.apply(Object.assign, Object, args);\nexports.assign = assign;\n/**\n  Array to object\n*/\nconst arrToObj = (args, processor, initValue = {}) => args.map(processor).reduce((a, b) => (0, exports.assign)(a, b), initValue);\nexports.arrToObj = arrToObj;\n/**\n * check if the key existing in an object\n */\nconst objectHasKey = (obj, key) => {\n    try {\n        const keys = Object.keys(obj);\n        return (0, common_1.inArray)(keys, key);\n    }\n    catch (e) {\n        // @_BUG when the obj is not an OBJECT we got some weird output\n        return false;\n    }\n};\nexports.objectHasKey = objectHasKey;\n/**\n * Shorthand method to turn config into immutatble (readonly)\n * was call freeze\n */\nconst readOnly = (config) => Object.freeze(config);\nexports.readOnly = readOnly;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEmpty = exports.notEmpty = exports.isNotEmpty = exports.isEmptyObj = void 0;\nconst object_1 = require(\"./object\");\nconst isEmptyObj = (obj) => (obj && (0, object_1.isPlainObject)(obj) && Object.keys(obj).length === 0);\nexports.isEmptyObj = isEmptyObj;\n/**\n * Check several parameter that there is something in the param\n */\nconst isNotEmpty = (param) => (param !== undefined &&\n    // param !== false &&\n    param !== null &&\n    (param + '').trim() !== '');\nexports.isNotEmpty = isNotEmpty;\n/**\n * Check several parameter that there is something in the param\n this is problematic should rename to isNotEmptyParam\n and we should check if its array is it empty array\n if it's object then if its empty object\n */\nfunction notEmpty(a, valueCheck = false) {\n    if (Array.isArray(a)) {\n        // @NOTE we now check if its an empty array as well\n        return valueCheck ? !!a.length : false;\n    }\n    if ((0, object_1.isPlainObject)(a)) {\n        return valueCheck ? !(0, exports.isEmptyObj)(a) : false;\n    }\n    return (0, exports.isNotEmpty)(a);\n}\nexports.notEmpty = notEmpty;\n/** just not to make my head hurt */\nconst isEmpty = (value, valueCheck) => !notEmpty(value, valueCheck);\nexports.isEmpty = isEmpty;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAsyncFunction = exports.isFunction = void 0;\nconst truetypeof_1 = require(\"./truetypeof\");\nconst expected = ['asyncfunction', 'function'];\n/**\n * Simple check if the prop is function\n * We found situtation where it report as an object but debug output show as [Function]\n */\nconst isFunction = function (prop, debug = false) {\n    const result = (0, truetypeof_1.trueTypeOf)(prop);\n    if (expected.includes(result)) {\n        return true;\n    }\n    if (debug) {\n        console.error(`Expect to be Function type! Got ${typeof prop}`);\n    }\n    return false;\n};\nexports.isFunction = isFunction;\n/** finally found a solution to check if something is an async function */\nfunction isAsyncFunction(prop) {\n    return (0, truetypeof_1.trueTypeOf)(prop) === expected[0];\n}\nexports.isAsyncFunction = isAsyncFunction;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.queuePromisesProcess = exports.chainProcessPromises = exports.chainPromises = void 0;\n// break it out on its own because\n// it's building from the lodash-es from scratch\n// according to this discussion https://github.com/lodash/lodash/issues/3298\nconst lodash_1 = require(\"./lodash\");\nconst object_1 = require(\"./object\");\n/**\n * previously we already make sure the order of the namespaces\n * and attach the auth client to it\n */\nfunction chainPromises(promises, asObject = false) {\n    return promises.reduce((promiseChain, currentTask) => (promiseChain.then(chainResults => (currentTask.then(currentResult => (asObject === false ?\n        [...chainResults, currentResult] :\n        (0, lodash_1.merge)(chainResults, currentResult)))))), Promise.resolve(asObject === false ? [] : ((0, object_1.isPlainObject)(asObject) ? asObject : {})));\n}\nexports.chainPromises = chainPromises;\n/**\n * This one return a different result from the chainPromises\n * it will be the same like chainFns that take one promise resolve as the next fn parameter\n */\nfunction chainProcessPromises(initPromise, ...promises) {\n    return (...args) => (promises.reduce((promiseChain, currentTask) => (promiseChain.then((chainResult) => (currentTask(chainResult)))), Reflect.apply(initPromise, null, args)));\n}\nexports.chainProcessPromises = chainProcessPromises;\n/**\n * This is a combine method to run the above chain process\n * cos sometime we don't want to have the process separate (see validator)\n */\nfunction queuePromisesProcess(queue, ...initValue) {\n    // we need to make sure the Array is actually flat array\n    const q = (0, lodash_1.flatMap)(queue);\n    const ex = Reflect.apply(chainProcessPromises, null, q);\n    return Reflect.apply(ex, null, initValue);\n}\nexports.queuePromisesProcess = queuePromisesProcess;\n", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n", "/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n", "/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global global, define, System, Reflect, Promise */\r\nvar __extends;\r\nvar __assign;\r\nvar __rest;\r\nvar __decorate;\r\nvar __param;\r\nvar __metadata;\r\nvar __awaiter;\r\nvar __generator;\r\nvar __exportStar;\r\nvar __values;\r\nvar __read;\r\nvar __spread;\r\nvar __spreadArrays;\r\nvar __spreadArray;\r\nvar __await;\r\nvar __asyncGenerator;\r\nvar __asyncDelegator;\r\nvar __asyncValues;\r\nvar __makeTemplateObject;\r\nvar __importStar;\r\nvar __importDefault;\r\nvar __classPrivateFieldGet;\r\nvar __classPrivateFieldSet;\r\nvar __classPrivateFieldIn;\r\nvar __createBinding;\r\n(function (factory) {\r\n    var root = typeof global === \"object\" ? global : typeof self === \"object\" ? self : typeof this === \"object\" ? this : {};\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(\"tslib\", [\"exports\"], function (exports) { factory(createExporter(root, createExporter(exports))); });\r\n    }\r\n    else if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        factory(createExporter(root, createExporter(module.exports)));\r\n    }\r\n    else {\r\n        factory(createExporter(root));\r\n    }\r\n    function createExporter(exports, previous) {\r\n        if (exports !== root) {\r\n            if (typeof Object.create === \"function\") {\r\n                Object.defineProperty(exports, \"__esModule\", { value: true });\r\n            }\r\n            else {\r\n                exports.__esModule = true;\r\n            }\r\n        }\r\n        return function (id, v) { return exports[id] = previous ? previous(id, v) : v; };\r\n    }\r\n})\r\n(function (exporter) {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n\r\n    __extends = function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n\r\n    __assign = Object.assign || function (t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n\r\n    __rest = function (s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                    t[p[i]] = s[p[i]];\r\n            }\r\n        return t;\r\n    };\r\n\r\n    __decorate = function (decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    };\r\n\r\n    __param = function (paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    };\r\n\r\n    __metadata = function (metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    };\r\n\r\n    __awaiter = function (thisArg, _arguments, P, generator) {\r\n        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    };\r\n\r\n    __generator = function (thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    };\r\n\r\n    __exportStar = function(m, o) {\r\n        for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n    };\r\n\r\n    __createBinding = Object.create ? (function(o, m, k, k2) {\r\n        if (k2 === undefined) k2 = k;\r\n        var desc = Object.getOwnPropertyDescriptor(m, k);\r\n        if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n            desc = { enumerable: true, get: function() { return m[k]; } };\r\n        }\r\n        Object.defineProperty(o, k2, desc);\r\n    }) : (function(o, m, k, k2) {\r\n        if (k2 === undefined) k2 = k;\r\n        o[k2] = m[k];\r\n    });\r\n\r\n    __values = function (o) {\r\n        var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n        if (m) return m.call(o);\r\n        if (o && typeof o.length === \"number\") return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n        throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n    };\r\n\r\n    __read = function (o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    };\r\n\r\n    /** @deprecated */\r\n    __spread = function () {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    };\r\n\r\n    /** @deprecated */\r\n    __spreadArrays = function () {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    };\r\n\r\n    __spreadArray = function (to, from, pack) {\r\n        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n            if (ar || !(i in from)) {\r\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n                ar[i] = from[i];\r\n            }\r\n        }\r\n        return to.concat(ar || Array.prototype.slice.call(from));\r\n    };\r\n\r\n    __await = function (v) {\r\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n    };\r\n\r\n    __asyncGenerator = function (thisArg, _arguments, generator) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n        function fulfill(value) { resume(\"next\", value); }\r\n        function reject(value) { resume(\"throw\", value); }\r\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n    };\r\n\r\n    __asyncDelegator = function (o) {\r\n        var i, p;\r\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n    };\r\n\r\n    __asyncValues = function (o) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var m = o[Symbol.asyncIterator], i;\r\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n    };\r\n\r\n    __makeTemplateObject = function (cooked, raw) {\r\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n        return cooked;\r\n    };\r\n\r\n    var __setModuleDefault = Object.create ? (function(o, v) {\r\n        Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n    }) : function(o, v) {\r\n        o[\"default\"] = v;\r\n    };\r\n\r\n    __importStar = function (mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n        __setModuleDefault(result, mod);\r\n        return result;\r\n    };\r\n\r\n    __importDefault = function (mod) {\r\n        return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n    };\r\n\r\n    __classPrivateFieldGet = function (receiver, state, kind, f) {\r\n        if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n        if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n        return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n    };\r\n\r\n    __classPrivateFieldSet = function (receiver, state, value, kind, f) {\r\n        if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n        if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n        if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n        return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n    };\r\n\r\n    __classPrivateFieldIn = function (state, receiver) {\r\n        if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n        return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n    };\r\n\r\n    exporter(\"__extends\", __extends);\r\n    exporter(\"__assign\", __assign);\r\n    exporter(\"__rest\", __rest);\r\n    exporter(\"__decorate\", __decorate);\r\n    exporter(\"__param\", __param);\r\n    exporter(\"__metadata\", __metadata);\r\n    exporter(\"__awaiter\", __awaiter);\r\n    exporter(\"__generator\", __generator);\r\n    exporter(\"__exportStar\", __exportStar);\r\n    exporter(\"__createBinding\", __createBinding);\r\n    exporter(\"__values\", __values);\r\n    exporter(\"__read\", __read);\r\n    exporter(\"__spread\", __spread);\r\n    exporter(\"__spreadArrays\", __spreadArrays);\r\n    exporter(\"__spreadArray\", __spreadArray);\r\n    exporter(\"__await\", __await);\r\n    exporter(\"__asyncGenerator\", __asyncGenerator);\r\n    exporter(\"__asyncDelegator\", __asyncDelegator);\r\n    exporter(\"__asyncValues\", __asyncValues);\r\n    exporter(\"__makeTemplateObject\", __makeTemplateObject);\r\n    exporter(\"__importStar\", __importStar);\r\n    exporter(\"__importDefault\", __importDefault);\r\n    exporter(\"__classPrivateFieldGet\", __classPrivateFieldGet);\r\n    exporter(\"__classPrivateFieldSet\", __classPrivateFieldSet);\r\n    exporter(\"__classPrivateFieldIn\", __classPrivateFieldIn);\r\n});\r\n", "\"use strict\";\n// ported from @jsonql/constants\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KEYWORDS = exports.MAIN_NOT_FOUND_ERR = exports.ARG_NOT_MATCH_ERR = exports.RESERVED_WORD_ERR = exports.VALUE_KEY = exports.IDX_KEY = exports.PARAMS_KEY = exports.NAME_KEY = exports.RULES_KEY = exports.PATTERN_KEY = exports.PLUGIN_FN_KEY = exports.PLUGIN_KEY = exports.VALIDATE_ASYNC_KEY = exports.VALIDATE_KEY = exports.ARRAY_TYPE_RGT = exports.ARRAY_TYPE_LFT = exports.ARRAY_TS_TYPE_LFT = exports.OBJECT_TYPE = exports.ARRAY_TYPE = exports.NUMBER_TYPE = exports.STRING_TYPE = exports.BOOLEAN_TYPE = exports.OR_SEPERATOR = void 0;\nexports.OR_SEPERATOR = '|';\nexports.BOOLEAN_TYPE = 'boolean';\nexports.STRING_TYPE = 'string';\nexports.NUMBER_TYPE = 'number';\nexports.ARRAY_TYPE = 'array';\nexports.OBJECT_TYPE = 'object';\n// Legacy\nexports.ARRAY_TS_TYPE_LFT = 'Array<';\nexports.ARRAY_TYPE_LFT = 'array.<';\nexports.ARRAY_TYPE_RGT = '>';\n// local\nexports.VALIDATE_KEY = 'validate';\nexports.VALIDATE_ASYNC_KEY = 'validateAsync';\nexports.PLUGIN_KEY = 'plugin';\nexports.PLUGIN_FN_KEY = 'main';\nexports.PATTERN_KEY = 'pattern';\nexports.RULES_KEY = 'rules';\nexports.NAME_KEY = 'name';\nexports.PARAMS_KEY = 'params';\nexports.IDX_KEY = '$$idx';\nexports.VALUE_KEY = '$$value';\nexports.RESERVED_WORD_ERR = 'Your plugin config argument contains reserved keywords';\nexports.ARG_NOT_MATCH_ERR = \"Your params doesn't matching your main argument list\";\nexports.MAIN_NOT_FOUND_ERR = \"Can not find 'main' method in your plugin config\";\nexports.KEYWORDS = [\n    exports.PARAMS_KEY,\n    exports.PATTERN_KEY,\n    exports.VALIDATE_KEY,\n    exports.VALIDATE_ASYNC_KEY,\n    exports.PLUGIN_KEY,\n    exports.RULES_KEY,\n    'name',\n    'type',\n    'types',\n    'server',\n    'tstype',\n    'value',\n    'optional',\n    'tmp',\n    'pos',\n    'lastResult',\n];\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.len = void 0;\n// import { isString } from '@jsonql/utils/dist/lodash'\n// @NOTE can not use the isString method because stupid Typescript complaint it's not string\n// even you cast it again\nfunction len(value) {\n    return typeof value === 'string'\n        ? value.length\n        : value;\n}\nexports.len = len;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst len_1 = require(\"../lib/len\");\nconst name = 'moreThan';\nfunction main(num, value) {\n    return (0, len_1.len)(value) > num;\n}\nexports.default = {\n    name,\n    main,\n    params: ['num']\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst len_1 = require(\"../lib/len\");\nconst name = \"lessThan\";\nfunction main(num, value) {\n    return (0, len_1.len)(value) < num;\n}\nexports.default = {\n    name,\n    main,\n    params: ['num']\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\n// between\nconst more_than_1 = tslib_1.__importDefault(require(\"./more-than\"));\nconst less_than_1 = tslib_1.__importDefault(require(\"./less-than\"));\nconst name = 'between';\nfunction main(max, min, value) {\n    return less_than_1.default.main(max, value) && more_than_1.default.main(min, value);\n}\n// so when we register it, we know what param we should expect\nexports.default = {\n    main,\n    name,\n    params: ['max', 'min']\n};\n", "\"use strict\";\n// email validator\n// this is an example how to create a plugin\n// one default export method accept one parameter value return boolean\n// then export a named export call name: string and that's it\n// or just return a string regex pattern: string\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst name = 'email';\nfunction main(value) {\n    const pattern = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return pattern.test(value);\n}\nexports.default = {\n    main,\n    name,\n};\n", "\"use strict\";\n// test for integer\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.name = void 0;\nexports.name = \"int\";\nfunction main(value) {\n    return Number.isInteger(value);\n}\nexports.default = {\n    name: exports.name,\n    main,\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst len_1 = require(\"../lib/len\");\nconst name = 'lessThanEqual';\nfunction main(num, value) {\n    return (0, len_1.len)(value) <= num;\n}\nexports.default = {\n    name,\n    main,\n    params: ['num']\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst len_1 = require(\"../lib/len\");\nconst name = 'moreThanEqual';\nfunction main(num, value) {\n    return (0, len_1.len)(value) >= num;\n}\nexports.default = {\n    name,\n    main,\n    params: ['num']\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst name = \"unit\";\nfunction main(value) {\n    return Number.isInteger(value) && value >= 0;\n}\nexports.default = {\n    name,\n    main,\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst more_than_equal_1 = tslib_1.__importDefault(require(\"./more-than-equal\"));\nconst less_than_equal_1 = tslib_1.__importDefault(require(\"./less-than-equal\"));\nconst name = 'main';\nfunction main(max, min, value) {\n    return less_than_equal_1.default.main(max, value) && more_than_equal_1.default.main(min, value);\n}\nexports.default = {\n    name,\n    main,\n    params: ['max', 'min']\n};\n", "\"use strict\";\n// This export files also will get build individually for the client side\n// and same thing could apply for the developer add rules\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.plugins = void 0;\nconst tslib_1 = require(\"tslib\");\n// Here we only provide a list of files and dynamicly import it\nconst between_1 = tslib_1.__importDefault(require(\"./between\"));\nconst email_1 = tslib_1.__importDefault(require(\"./email\"));\nconst int_1 = tslib_1.__importDefault(require(\"./int\"));\nconst less_than_equal_1 = tslib_1.__importDefault(require(\"./less-than-equal\"));\nconst less_than_1 = tslib_1.__importDefault(require(\"./less-than\"));\nconst more_than_equal_1 = tslib_1.__importDefault(require(\"./more-than-equal\"));\nconst more_than_1 = tslib_1.__importDefault(require(\"./more-than\"));\nconst uint_1 = tslib_1.__importDefault(require(\"./uint\"));\nconst within_1 = tslib_1.__importDefault(require(\"./within\"));\nexports.plugins = [\n    between_1.default,\n    email_1.default,\n    int_1.default,\n    less_than_equal_1.default,\n    less_than_1.default,\n    more_than_equal_1.default,\n    more_than_1.default,\n    uint_1.default,\n    within_1.default,\n];\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getPlugin = exports.curryPlugin = void 0;\nconst tslib_1 = require(\"tslib\");\nconst lodash_1 = require(\"@jsonql/utils/dist/lodash\");\nconst general_exception_1 = tslib_1.__importDefault(require(\"@jsonql/errors/dist/general-exception\"));\nconst constants_1 = require(\"../constants\");\nconst index_1 = require(\"./index\");\n/**\n  construct the curry plugin method\n  @0.5.0 we make this generic\n*/\nfunction curryPlugin(input, pluginConfig) {\n    const { plugin } = input;\n    if (plugin) {\n        const params = pluginConfig[constants_1.PARAMS_KEY]; // if we use pluginExport.params then TS complain!\n        if (params) {\n            // @BUG if the input missing the key then it wont throw for example\n            // we expect `arg` but pass the `min` then it will run but just failed\n            if (!checkArgKeys(input, params)) {\n                throw new general_exception_1.default(`Expected params: ${params.join(',')} not found!`);\n            }\n            const args = params.map((param) => input[param]);\n            return Reflect.apply((0, lodash_1.curry)(pluginConfig.main), null, args);\n        }\n        else {\n            throw new general_exception_1.default(`This plugin ${pluginConfig.name} can not be curry`);\n        }\n    }\n    throw new general_exception_1.default(`Unable to find plugin in config`);\n}\nexports.curryPlugin = curryPlugin;\n/** check if the expected key presented in the config */\nfunction checkArgKeys(config, params) {\n    return params.filter(key => config[key]).length === params.length;\n}\n/** @TODO it needs to be a js file then it must be after compile */\nfunction getPlugin(pluginName) {\n    let p = index_1.plugins[pluginName];\n    if (p) {\n        p = p === '_' ? pluginName : p;\n        return Promise.resolve().then(() => tslib_1.__importStar(require('./' + [p, 'js'].join('.'))));\n    }\n    throw new Error(`${pluginName} is not found`);\n}\nexports.getPlugin = getPlugin;\n", "\"use strict\";\n// create our own promisify method here\n// because there are many situation we want the validating method to be async\n/// also this define here because the result is in reverse not suitable\n// for general purpose use\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reversePromisifyResult = exports.promisify = void 0;\nconst tslib_1 = require(\"tslib\");\n/** it's quite annoying Typescript Function type is useless */\nfunction promisify(fn) {\n    return (...args) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n        const result = yield Reflect.apply(fn, null, args);\n        return result ? Promise.resolve(result) : Promise.reject(result);\n    });\n}\nexports.promisify = promisify;\n/** When the result is true get rejected and vice vesa */\nfunction reversePromisifyResult(fn) {\n    return (...args) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n        const result = yield Reflect.apply(fn, null, args);\n        return result ? Promise.reject(result) : Promise.resolve(result);\n    });\n}\nexports.reversePromisifyResult = reversePromisifyResult;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRegex = exports.isRegExp = void 0;\nconst lodash_1 = require(\"./lodash\");\n/**\n * Just check if a pattern is an RegExp object\n */\nfunction isRegExp(pat) {\n    return pat instanceof RegExp;\n}\nexports.isRegExp = isRegExp;\n/**\n * Find from the array by matching the pattern\n */\nfunction getRegex(pattern) {\n    switch (true) {\n        case isRegExp(pattern):\n            return pattern;\n        case (0, lodash_1.isString)(pattern):\n            return new RegExp(pattern);\n        default:\n            return false;\n    }\n}\nexports.getRegex = getRegex;\n", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n", "/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.patternPluginFanctory = exports.isResultPackage = exports.successThen = exports.constructRuleCb = exports.extractFnArgs = exports.paramMatches = exports.searchParamsKey = exports.pluginHasFunc = exports.checkPluginArg = void 0;\nconst tslib_1 = require(\"tslib\");\nconst validation_error_1 = tslib_1.__importDefault(require(\"@jsonql/errors/dist/validation-error\"));\nconst general_exception_1 = tslib_1.__importDefault(require(\"@jsonql/errors/dist/general-exception\"));\nconst constants_1 = require(\"../constants\");\nconst common_1 = require(\"@jsonql/utils/dist/common\");\nconst object_1 = require(\"@jsonql/utils/dist/object\");\nconst is_function_1 = require(\"@jsonql/utils/dist/is-function\");\nconst regex_1 = require(\"@jsonql/utils/dist/regex\");\nconst debug_1 = tslib_1.__importDefault(require(\"debug\"));\nconst debug = (0, debug_1.default)('jsonql:validator-core:common');\n/** check plugin argument against keywords list */\nfunction checkPluginArg(params) {\n    return !(params.filter(param => constants_1.KEYWORDS.includes(param)).length > 0);\n}\nexports.checkPluginArg = checkPluginArg;\n/** now simply it with just one prop check main */\nfunction pluginHasFunc(rule) {\n    return rule[constants_1.PLUGIN_FN_KEY] && (0, is_function_1.isFunction)(rule[constants_1.PLUGIN_FN_KEY]);\n}\nexports.pluginHasFunc = pluginHasFunc;\n/** Just take the keys without the value */\nfunction getArgsKey(rule) {\n    const params = extractFnArgs(rule.main.toString());\n    params.pop();\n    return params;\n}\n/** instead of just checking the user params, we go one step further to extract it for them */\nfunction searchParamsKey(rule) {\n    const params = getArgsKey(rule);\n    const l = params.length;\n    if (l === 0) {\n        return rule; // nothing to do\n    }\n    // now we check if the params has reserved word\n    if (!checkPluginArg(params)) {\n        throw new general_exception_1.default(constants_1.RESERVED_WORD_ERR);\n    }\n    rule[constants_1.PARAMS_KEY] = params;\n    return rule;\n}\nexports.searchParamsKey = searchParamsKey;\n/** check if the params they provide is matching their main method */\nfunction paramMatches(rule) {\n    const params = getArgsKey(rule);\n    const l = params.length;\n    if (l === 0 && !rule[constants_1.PARAMS_KEY]) {\n        return true; // nothing to check\n    }\n    const _params = rule.params !== undefined && Array.isArray(rule.params)\n        ? rule.params : false;\n    if (_params === false) {\n        return false;\n    }\n    if (l > 0 && l === _params.length) {\n        if (!params.filter((param, i) => param !== _params[i]).length) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.paramMatches = paramMatches;\n/** take a function string and return its argument names */\nfunction extractFnArgs(fnStr) {\n    return fnStr.split('(')[1]\n        .split(')')[0]\n        .split(',')\n        .map(t => t.trim())\n        .filter(t => t !== '');\n}\nexports.extractFnArgs = extractFnArgs;\n/**\nthis will get re-use in the class to create method for the queue execution\n */\nfunction constructRuleCb(argName, ruleFn, ruleName) {\n    return (value, lastResult, pos) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n        // @NOTE keep getting problem with ruleFn is not a async funtion pass here\n        // so we need to first execute it then check if is thenable\n        return Reflect.apply(ruleFn, null, [value])\n            .then(successThen(argName, value, lastResult, pos))\n            .catch((error) => {\n            debug('failed', argName, value, error, pos);\n            // the name should be the validator name - not the property name\n            // because the pos already indicator the property\n            return Promise.reject(new validation_error_1.default(ruleName, pos));\n        });\n    });\n}\nexports.constructRuleCb = constructRuleCb;\n/** This is taken out from the above then call for re-use when we want to fall through a rule */\nfunction successThen(argName, value, lastResult, pos // for internal debug use only\n) {\n    return (result) => {\n        const idx = pos[0];\n        debug('passed', argName, value, result, pos);\n        debug('lastResult', lastResult);\n        const newResult = { [constants_1.IDX_KEY]: idx, [constants_1.VALUE_KEY]: value };\n        if (lastResult === undefined) { // init\n            return { [argName]: newResult };\n        }\n        // here is the problem with spread result - they have the same name\n        if (argName in lastResult) { // we need to check if the key exist this is import NOT VALUE check\n            const lr = lastResult[argName];\n            if (isResultPackage(lr)) {\n                if (!lr.includes(newResult)) {\n                    lastResult[argName].push(newResult);\n                }\n            }\n            else if (lr[constants_1.IDX_KEY] !== idx) {\n                lastResult[argName] = (0, common_1.toArray)(lastResult[argName]).concat([newResult]);\n            }\n            // if it's the same then do nothing\n            return lastResult;\n        }\n        // return the argument name with the value\n        return (0, object_1.assign)(lastResult, { [argName]: newResult });\n    };\n}\nexports.successThen = successThen;\n/** check to see if the lastResult contain our lastResult package format or just their value */\nfunction isResultPackage(lastResult, key = constants_1.IDX_KEY) {\n    try {\n        if (Array.isArray(lastResult)) {\n            return !!lastResult.filter((res) => key in res).length;\n        }\n    }\n    catch (e) {\n        debug('isResultPackage', e);\n    }\n    return false;\n}\nexports.isResultPackage = isResultPackage;\n/** If the plugin provide a pattern and we construct a function out of it */\nfunction patternPluginFanctory(pattern) {\n    const regex = (0, regex_1.getRegex)(pattern);\n    return (value) => tslib_1.__awaiter(this, void 0, void 0, function* () { return regex.test(value) ? Promise.resolve(true) : Promise.reject(false); });\n}\nexports.patternPluginFanctory = patternPluginFanctory;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValidatorPlugins = void 0;\nconst tslib_1 = require(\"tslib\");\nconst general_exception_1 = tslib_1.__importDefault(require(\"@jsonql/errors/dist/general-exception\"));\nconst constants_1 = require(\"./constants\");\nconst plugins_1 = require(\"./plugins/plugins\");\nconst promisify_1 = require(\"./lib/promisify\");\nconst common_1 = require(\"./lib/common\");\nconst plugins_2 = require(\"./plugins\");\nconst debug_1 = tslib_1.__importDefault(require(\"debug\"));\nconst debug = (0, debug_1.default)('jsonql:validator-core:validator-plugin');\n// main\nclass ValidatorPlugins {\n    /** with a idx to id this instance */\n    constructor($version) {\n        this.$version = $version;\n        this._plugins = new Map();\n        this._internalPluginNames = [];\n        // register internal plugins\n        plugins_2.plugins.forEach((plugin) => {\n            // we don't do the convert here anymore, and wait until the look up\n            // then we store it back JIT\n            const name = plugin[constants_1.NAME_KEY];\n            this._internalPluginNames.push(name);\n            this._registerPlugin(name, plugin, true);\n        });\n    }\n    /**\n    find the plugin internal or external\n    argName is the argument name\n    */\n    lookupPlugin(input, argName) {\n        const pluginName = input[constants_1.PLUGIN_KEY];\n        if (pluginName && this._plugins.has(pluginName)) {\n            const pluginConfig = this._plugins.get(pluginName);\n            // unconverted\n            if (pluginConfig[constants_1.PLUGIN_FN_KEY] && !pluginConfig[constants_1.PARAMS_KEY]) {\n                // let it fall to the next\n                pluginConfig[constants_1.VALIDATE_ASYNC_KEY] = (0, promisify_1.promisify)(pluginConfig[constants_1.PLUGIN_FN_KEY]);\n            }\n            // already converted\n            if (pluginConfig && pluginConfig[constants_1.VALIDATE_ASYNC_KEY] && !pluginConfig[constants_1.PARAMS_KEY]) {\n                return (0, common_1.constructRuleCb)(argName, pluginConfig[constants_1.VALIDATE_ASYNC_KEY], pluginName);\n            }\n            // needs to curry\n            if (pluginConfig && pluginConfig[constants_1.PARAMS_KEY]) {\n                debug('pluginConfig --->', pluginConfig);\n                debug('input----------->', input);\n                const _input = input;\n                return (0, common_1.constructRuleCb)(argName, (0, promisify_1.promisify)((0, plugins_1.curryPlugin)(_input, pluginConfig)), pluginName);\n            }\n        }\n        debug('lookupPlugin', 'unable to find', pluginName);\n        throw new general_exception_1.default(`Unable to find plugin: ${pluginName}`);\n    }\n    /** The public api to register a plugin */\n    registerPlugin(name, pluginConfig) {\n        this._registerPlugin(name, pluginConfig);\n    }\n    /** call this when loading external plugin, not allow to use directly */\n    _registerExternalPlugin(name, pluginConfig) {\n        this._registerPlugin(name, pluginConfig, false, true);\n    }\n    /** this is no longer in use and we change the usage to export list of names that can be add to contract */\n    export(external = true) {\n        const plugins = [];\n        this._plugins.forEach((p, n) => {\n            if (!this.isBuiltIn(n) && p.external === external) {\n                plugins.push(p);\n            }\n        });\n        return plugins;\n    }\n    /** just check if this plugin is built-in */\n    isBuiltIn(pluginName) {\n        return this._internalPluginNames.includes(pluginName);\n    }\n    // ------------------------- PRIVATE --------------------------//\n    /** register plugins */\n    _registerPlugin(name, pluginConfig, skipCheck = false, // when register internal plugin then skip it\n    external = false // new in 0.9.11\n    ) {\n        if (!skipCheck) {\n            if (this._plugins.has(name)) {\n                throw new general_exception_1.default(`plugin ${name} already existed!`);\n            }\n            if (!(0, common_1.pluginHasFunc)(pluginConfig)) {\n                debug('registerPlugin', constants_1.MAIN_NOT_FOUND_ERR);\n                throw new general_exception_1.default(constants_1.MAIN_NOT_FOUND_ERR);\n            }\n            // Here we could extract the params instead of just checking\n            if (pluginConfig[constants_1.PARAMS_KEY] === undefined) {\n                pluginConfig = (0, common_1.searchParamsKey)(pluginConfig);\n                debug('auto generate params for plugin', pluginConfig);\n            }\n            else if (pluginConfig[constants_1.PARAMS_KEY] !== undefined) { // if they provide the keys then we check\n                if (!(0, common_1.checkPluginArg)(pluginConfig[constants_1.PARAMS_KEY])) {\n                    debug('registerPlugin', constants_1.RESERVED_WORD_ERR);\n                    throw new general_exception_1.default(constants_1.RESERVED_WORD_ERR);\n                }\n                if (!(0, common_1.paramMatches)(pluginConfig)) {\n                    debug('registerPlugin', constants_1.ARG_NOT_MATCH_ERR);\n                    throw new general_exception_1.default(constants_1.ARG_NOT_MATCH_ERR);\n                }\n            }\n        }\n        pluginConfig.name = name;\n        pluginConfig.external = external;\n        /**\n        At this point it should only contain a main (or plus params) so we\n        do nothing and just store it, we convert it only when they call it\n        */\n        this._plugins.set(name, pluginConfig);\n    }\n}\nexports.ValidatorPlugins = ValidatorPlugins;\n", "// this is the base class for all the helper methods\nimport type {\n  // JsonqlValidationPlugin,\n  JsonqlValidationRule,\n  JsonqlGenericObject,\n  JsonqlValidateFn,\n} from '@jsonql/validator-core/index'\nimport type {\n  JsonqlPropertyParamMap,\n  JsonqlValidateCbFn,\n  JsonqlObjectValidateInput,\n  FunctionInput,\n  MixedValidationInput,\n  // JsonqlValidationPlugin,\n} from './types'\nimport type {\n  ValidatorPlugins,\n} from '@jsonql/validator-core/dist/validator-plugins'\nimport ValidationError from '@jsonql/errors/dist/validation-error'\nimport GeneralException from '@jsonql/errors/dist/general-exception'\nimport { notEmpty } from '@jsonql/utils/dist/empty'\nimport { toArray } from '@jsonql/utils/dist/common'\nimport { assign, arrToObj } from '@jsonql/utils/dist/object'\nimport { isFunction, isAsyncFunction } from '@jsonql/utils/dist/is-function'\nimport {\n  queuePromisesProcess,\n} from '@jsonql/utils/dist/chain-promises'\nimport {\n  checkArray,\n  promisify,\n  constructRuleCb,\n  successThen,\n  VALIDATE_KEY,\n  VALIDATE_ASYNC_KEY,\n  PLUGIN_KEY,\n  RULES_KEY,\n  NAME_KEY,\n} from '@jsonql/validator-core'\n// ----- LOCAL ---- //\nimport {\n  createAutomaticRules,\n  getOptionalValue,\n  checkDuplicateRules,\n  getKey,\n} from './fn'\nimport {\n  ARGS_NOT_ARRAY_ERR,\n  EXCEPTION_CASE_ERR,\n  SPREAD_PREFIX,\n  SPREAD_ARG_TYPE,\n} from './constants'\n// ---- DEBUG ---- //\nimport debugFn from 'debug'\nconst debug = debugFn('jsonql:validator:validator-base')\n\n/**\nThe sequence how this should run\n1. init - take the AST map and generate automatic validation rules\n2. register internal plugins\n3. (if any) user can register their own plugins\n4. accept the user define rules, at this point we create the full validation map\n5. Call the validate method with the data input then the validation will run\n*/\nexport class ValidatorBase {\n  // we keep two set\n  private _astWithBaseRules: Array<JsonqlPropertyParamMap>\n  private _schema!: Array<JsonqlPropertyParamMap>\n  // use this list to make callable argument\n  protected _arguments!: Array<string>\n  // main\n  constructor(\n    astMap: Array<JsonqlPropertyParamMap>,\n    protected _validatorPluginsInstance?: ValidatorPlugins\n  ) {\n    this._astWithBaseRules = createAutomaticRules(astMap)\n    // create the argument name list in order\n    this._arguments = this._astWithBaseRules.map(rule => rule[NAME_KEY])\n  }\n\n  /** the main method then in it's sub class will get override */\n  public validate(values: Array<unknown>) {\n    const queues = this._normalizeArgValues(values)\n    return queuePromisesProcess(\n      queues as unknown as Array<(...args: JsonqlGenericObject[]) => Promise<JsonqlGenericObject>>,\n      undefined // the init value will now be undefined to know if its first\n    )\n  }\n\n  /**\n    on the client side even if its not require validation but we still need to prepare\n    the argument for transport so we need the _normalizeArgValues without _prepareForExecution\n  */\n  public prepareArgValues(values: Array<unknown>) {\n    return this._normalizeArgValues(values, false)\n  }\n\n  /** just return the internal schema for validation for use, see export */\n  public get schema() {\n    return this._schema || this._astWithBaseRules\n  }\n\n  /** overload the addValidationRules method that allow to pass a function or async function */\n  public addValidationRules(\n    input: MixedValidationInput\n  ) {\n    debug('addValidationRules', input)\n    const clearInput: JsonqlObjectValidateInput = {}\n    for (const propName in input) {\n      // we convert this to array here now\n      clearInput[propName] = toArray(input[propName])\n        .map((inp: MixedValidationInput) => {\n          if (isFunction(inp)) {\n            return this._updateInput(inp as FunctionInput)\n          }\n          return inp\n        })\n    }\n    // overload the parent method\n    this._createSchema(clearInput)\n  }\n\n  /** just put the function into the right key */\n  private _updateInput(input: FunctionInput): JsonqlValidationRule {\n    // we just make it an async funtion\n    // @NOTE now we can check if it's async function or not\n    return {\n      [VALIDATE_ASYNC_KEY]: isAsyncFunction(input) ? input : promisify(input)\n    }\n  }\n\n  // ----------------- validate ------------------ //\n\n  /**\n    when validate happens we check the input value\n    correspond to out map, and apply the values\n    argument values turn into an executable queue\n  */\n  protected _normalizeArgValues(values: unknown[], execute = true) {\n    debug('_normalizeArgValues', values)\n    // there might not be a dev provided schema\n    const params = this.schema\n    const pCtn = params.length\n    if (pCtn === 0) {\n      return [] // nothing to do\n    }\n    if (!checkArray(values)) {\n      debug(values)\n      throw new ValidationError(ARGS_NOT_ARRAY_ERR, values)\n    }\n    const vCtn = values.length\n    switch (true) {\n      case vCtn === pCtn:\n        if (execute === false) {\n          return arrToObj(\n            values,\n            (value: unknown, i?: number) => ({ [params[i as number].name]: value })\n          )\n        }\n        return values.map((value, i) => (\n            this._prepareForExecution(value, params[i], i)\n        ))\n      case vCtn < pCtn:\n        debug(`Values pass less than params`)\n        if (execute === false) {\n          return arrToObj(\n            params,\n            (param: JsonqlPropertyParamMap, i?: number) => {\n              const _value = getOptionalValue(values[i as number], param)\n              return { [param.name]: _value }\n            }\n          )\n        }\n        return params.map((param, i) => {\n          const _value = getOptionalValue(values[i], param)\n          return this._prepareForExecution(_value, param, i)\n        })\n      case vCtn > pCtn: // this is the spread style argument\n        debug('spread params', vCtn, pCtn)\n        return this._processSpreadLikeArg(values, params, execute)\n      default: // will not fall through here @TODO\n        throw new ValidationError(EXCEPTION_CASE_ERR, [vCtn, pCtn])\n    }\n  }\n\n  /** The spread or mix with spread argument is too complicated to process in couple lines */\n  private _processSpreadLikeArg(\n    values: unknown[],\n    params: Array<JsonqlPropertyParamMap>,\n    execute: boolean\n  ) {\n    // if it's spread only then there should be just one param\n    const spreadParam = params.filter(p => p.tstype === SPREAD_ARG_TYPE)[0]\n    // if this is just grabbing the values then it should be name: Array<values>\n    if (execute === false) {\n      // @TODO there is couple more scenario that might break this fix as we go along\n      return values.map((value, i) => {\n        if (!params[i]) {\n          return { [spreadParam.name]: [value] }\n        }\n        return params[i].name !== spreadParam.name\n                              ? { [params[i].name]: value }\n                              : { [spreadParam.name]: [value] }\n      }).reduce((a: JsonqlGenericObject, b: JsonqlGenericObject) => {\n        const k = getKey(a)\n        if (!k) { // init\n          return b\n        }\n        const k2 = getKey(b) as string\n        if (!a[k2]) {\n          return assign({}, a, b)\n        }\n        a[k2] = a[k2].concat(b[k2])\n        return a\n      }, {})\n    }\n    // now search for the mixedRule - there should only be one, if not this idiot doesn't know what is doing\n    // the problem is the type is any after the first param\n    return values.map((value, i) => {\n      // @NOTE the assign need to create new object otherwise we will polluate the params\n      const param = params[i] || assign({}, spreadParam, { name: `${SPREAD_PREFIX}${i}`})\n      // this getOptionalValue is pointless\n      // const _value = getOptionalValue(value, param)\n      debug('spread param', value, param.name)\n      return this._prepareForExecution(value, param, i)\n    })\n  }\n\n  /**\n    at this point we actually put the rules in the queue\n    but we dont' run it yet until all rules are in the main queue\n    this way, if one fail then the whole queue exited without running further\n  */\n  private _prepareForExecution(\n    value: unknown,\n    param: JsonqlPropertyParamMap,\n    idx: number\n  ) {\n    const { rules, required, name } = param\n    if (rules && rules.length) {\n      // we only need to return the queue\n      return rules.map((rule: JsonqlValidateCbFn, i: number) => {\n        // if this is not required field and no value the we create a fake callback\n        if (value === undefined && !required) {\n          debug(`skip the validation`, required)\n          return async (lastResult: JsonqlGenericObject) => (\n            successThen(name, value, lastResult, [idx, i])(true)\n          )\n        }\n        // when it fail then we return the index number\n        return async (lastResult: JsonqlGenericObject) =>\n          Reflect.apply(rule, null, [value, lastResult, [idx, i]])\n            .then((result: unknown) => {\n              debug('Post rule result', result)\n              return result\n            })\n      })\n    }\n    // stuff it with a placeholder fuction?\n    debug('No rules to run')\n    return async () => true\n  }\n\n  // ---------------------- schema -------------------------- //\n\n  /** put the rule in here and make it into an async method */\n  protected _createSchema(\n    input: JsonqlObjectValidateInput\n  ): void {\n    let astWithRules = this._astWithBaseRules\n    // all we need to do is check if its empty input\n    if (notEmpty(input, true)) {\n      astWithRules = this._applyObjectInput(astWithRules, input as JsonqlObjectValidateInput)\n    }\n    debug(`_createSchema`, astWithRules)\n    this._schema = astWithRules\n  }\n\n  /** nomalize the object style rules input */\n  private _applyObjectInput(\n    astMap: Array<JsonqlPropertyParamMap>,\n    input: JsonqlObjectValidateInput\n  ) {\n\n    return astMap.map((ast: JsonqlPropertyParamMap) => {\n      const propName = ast.name\n      if (input[propName]) {\n        // there might not be a name in there and it's important\n        const _input = input[propName].map((input: JsonqlValidationRule) => {\n          input.name = propName\n          return input\n        })\n        const rules = this._transformInput(_input, propName)\n        // debug('ast[RULES_KEY]', ast[RULES_KEY])\n        if (rules && rules.length) {\n          ast[RULES_KEY] = ast[RULES_KEY]?.concat(rules)\n        }\n      }\n      return ast\n    })\n  }\n\n  /** this will transform the rules to executable */\n  private _transformInput(\n    input: Array<JsonqlValidationRule>,\n    propName: string\n  ): Array<JsonqlValidateCbFn> {\n    debug('_transformInput', input)\n    return input.map((_input: JsonqlValidationRule, i: number) => {\n      const ruleKeys = checkDuplicateRules(_input)\n      if (ruleKeys.length > 1) {\n        throw new Error(`You can only set one rule at a time! We found ${ruleKeys.join(',')}`)\n      }\n      // the name is not that important but still need one, if there is none we generate it\n      const pluginName = _input.name || `customPluginName${i}`\n      switch (true) {\n        case _input[PLUGIN_KEY] !== undefined:\n          debug(`Should got here ----->`, _input[PLUGIN_KEY])\n          return this._lookupPlugin(_input, propName)\n        case _input[VALIDATE_KEY] !== undefined:\n          debug(`${VALIDATE_KEY} ----->`, _input)\n          return constructRuleCb(\n            propName,\n            promisify(_input[VALIDATE_KEY]),\n            pluginName\n          )\n        case _input[VALIDATE_ASYNC_KEY] !== undefined:\n          debug(`${VALIDATE_ASYNC_KEY} ---->`, _input)\n          return constructRuleCb(\n            propName,\n            _input[VALIDATE_ASYNC_KEY] as unknown as JsonqlValidateFn,\n            pluginName\n          )\n        default:\n          throw new GeneralException(\n            `unable to find rule for ${propName},\n            we expect ${PLUGIN_KEY}, ${VALIDATE_KEY} or ${VALIDATE_ASYNC_KEY}`\n          )\n      }\n    })\n  }\n\n  /** wrapper methods for ValidatorPlugins */\n  private _lookupPlugin(\n    input: JsonqlValidationRule,\n    propName: string\n  ) {\n    // @TODO we should allow validator to use standalone without the plugin system\n    // so when this plugin instance object is undefined we should skip it\n    try {\n      if (this._validatorPluginsInstance) {\n        debug('_lookupPlugin --->', input, propName)\n        return this._validatorPluginsInstance.lookupPlugin(input, propName)\n      }\n    } catch(e) {\n      // @NOTE because the lookupPlugin method actually throw errors but we don't want\n      // to crash it\n      debug('catch _lookupPlugin error', e)\n    }\n    return constructRuleCb(\n      propName,\n      async () => Promise.reject(false),\n      'NO_PLUGIN_DUMMY_FUNCTION'\n    )\n  }\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.trueTypeOf = void 0;\n/*\n * More accurately check the type of a JavaScript object\n * (c) 2021 Chris Ferdinandi, MIT License, https://gomakethings.com\n */\nfunction trueTypeOf(obj) {\n    return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase();\n}\nexports.trueTypeOf = trueTypeOf;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatStr = exports.showDeep = exports.nil = exports.createEvtName = exports.parseJson = exports.toArray = exports.inArray = void 0;\nconst lodash_1 = require(\"./lodash\");\n/**\n * DIY in Array\n */\nconst inArray = (arr, value) => arr.includes(value);\nexports.inArray = inArray;\n// quick and dirty to turn non array to array\nconst toArray = (arg) => Array.isArray(arg) ? arg : [arg];\nexports.toArray = toArray;\n/**\n * parse string to json or just return the original value if error happened\n */\nconst parseJson = (n, t = true) => {\n    try {\n        return (0, lodash_1.isString)(n) ?\n            JSON.parse(n) :\n            JSON.parse(JSON.stringify(n));\n    }\n    catch (e) {\n        if (t) {\n            return n;\n        }\n        throw e; // just rethrow it\n    }\n};\nexports.parseJson = parseJson;\n/**\n * create an event name\n */\nconst createEvtName = (...args) => args.join('_');\nexports.createEvtName = createEvtName;\n/**\n * generic placeholder function\n */\nconst nil = () => false;\nexports.nil = nil;\n/** handy method to show deep json structure */\nconst showDeep = (code) => {\n    console.dir(code, { depth: null });\n};\nexports.showDeep = showDeep;\n/** from https://www.tutorialstonight.com/javascript-string-format.php\n  change to a standard function instead of prototype pollution\n*/\nfunction formatStr(str, ...args) {\n    return str.replace(/{([0-9]+)}/g, (match, index) => (typeof args[index] === 'undefined' ? match : args[index]));\n}\nexports.formatStr = formatStr;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readOnly = exports.objectHasKey = exports.arrToObj = exports.assign = exports.getConfigValue = exports.isClass = exports.isPlainObject = exports.isObject = void 0;\nconst common_1 = require(\"./common\");\nconst truetypeof_1 = require(\"./truetypeof\");\nfunction isObject(o) {\n    return (0, truetypeof_1.trueTypeOf)(o) === 'object';\n}\nexports.isObject = isObject;\n// move the isPlainObject method here\nfunction isPlainObject(o) {\n    if (isObject(o)) {\n        // If has modified constructor\n        const constr = o.constructor;\n        /* this check is pointless even {} has prototype\n        if (constr === undefined) {\n          return true\n        } */\n        const prot = constr.prototype;\n        const nullType = '[Object: null prototype]';\n        if (prot.toString().substring(0, nullType.length) === nullType) {\n            return true;\n        }\n        // If has modified prototype\n        if (isObject(prot) === false) {\n            return false;\n        }\n        return Reflect.apply(prot['hasOwnProperty'], prot, ['isPrototypeOf']);\n    }\n    return false;\n}\nexports.isPlainObject = isPlainObject;\n/** short hand of !isPlainObject */\nconst isClass = (o) => !isPlainObject(o);\nexports.isClass = isClass;\n/**\n * simple util method to get the value from the config object\n */\nconst getConfigValue = (name, obj) => (obj && isPlainObject(obj) ? ((name in obj) ? obj[name] : undefined) : undefined);\nexports.getConfigValue = getConfigValue;\n/**\n * Shorthand method for Object.assign\n */\nconst assign = (...args) => Reflect.apply(Object.assign, Object, args);\nexports.assign = assign;\n/**\n  Array to object\n*/\nconst arrToObj = (args, processor, initValue = {}) => args.map(processor).reduce((a, b) => (0, exports.assign)(a, b), initValue);\nexports.arrToObj = arrToObj;\n/**\n * check if the key existing in an object\n */\nconst objectHasKey = (obj, key) => {\n    try {\n        const keys = Object.keys(obj);\n        return (0, common_1.inArray)(keys, key);\n    }\n    catch (e) {\n        // @_BUG when the obj is not an OBJECT we got some weird output\n        return false;\n    }\n};\nexports.objectHasKey = objectHasKey;\n/**\n * Shorthand method to turn config into immutatble (readonly)\n * was call freeze\n */\nconst readOnly = (config) => Object.freeze(config);\nexports.readOnly = readOnly;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isString = exports.flatMap = exports.merge = exports.curry = void 0;\nconst truetypeof_1 = require(\"./truetypeof\");\nconst object_1 = require(\"./object\");\n// DIY curry method\nconst curry = (fn, ...args) => (fn.length <= args.length) ?\n    fn(...args) :\n    (...more) => (0, exports.curry)(fn, ...args, ...more);\nexports.curry = curry;\n// import mapKeys from 'lodash-es/mapKeys'\n// import omitBy from 'lodash-es/omitBy'\n// import findKey from 'lodash-es/findKey'\nconst merge = (target, ...sources) => {\n    if (!sources.length)\n        return target;\n    const source = sources.shift();\n    if ((0, object_1.isObject)(target) && (0, object_1.isObject)(source)) {\n        for (const key in source) {\n            if ((0, object_1.isObject)(source[key])) {\n                if (!target[key]) {\n                    Object.assign(target, {\n                        [key]: {}\n                    });\n                }\n                (0, exports.merge)(target[key], source[key]);\n            }\n            else {\n                Object.assign(target, {\n                    [key]: source[key]\n                });\n            }\n        }\n    }\n    return (0, exports.merge)(target, ...sources);\n};\nexports.merge = merge;\n// flatMap native\nfunction flatMap(arr, callback) {\n    if (!callback) {\n        callback = n => n;\n    }\n    return arr.flatMap(callback);\n}\nexports.flatMap = flatMap;\n// the lodash-es ESM module can not import from commonjs etc etc etc bug\n// so we get rip of most of them\nfunction isString(value) {\n    return (0, truetypeof_1.trueTypeOf)(value) === 'string';\n}\nexports.isString = isString;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.queuePromisesProcess = exports.chainProcessPromises = exports.chainPromises = void 0;\n// break it out on its own because\n// it's building from the lodash-es from scratch\n// according to this discussion https://github.com/lodash/lodash/issues/3298\nconst lodash_1 = require(\"./lodash\");\nconst object_1 = require(\"./object\");\n/**\n * previously we already make sure the order of the namespaces\n * and attach the auth client to it\n */\nfunction chainPromises(promises, asObject = false) {\n    return promises.reduce((promiseChain, currentTask) => (promiseChain.then(chainResults => (currentTask.then(currentResult => (asObject === false ?\n        [...chainResults, currentResult] :\n        (0, lodash_1.merge)(chainResults, currentResult)))))), Promise.resolve(asObject === false ? [] : ((0, object_1.isPlainObject)(asObject) ? asObject : {})));\n}\nexports.chainPromises = chainPromises;\n/**\n * This one return a different result from the chainPromises\n * it will be the same like chainFns that take one promise resolve as the next fn parameter\n */\nfunction chainProcessPromises(initPromise, ...promises) {\n    return (...args) => (promises.reduce((promiseChain, currentTask) => (promiseChain.then((chainResult) => (currentTask(chainResult)))), Reflect.apply(initPromise, null, args)));\n}\nexports.chainProcessPromises = chainProcessPromises;\n/**\n * This is a combine method to run the above chain process\n * cos sometime we don't want to have the process separate (see validator)\n */\nfunction queuePromisesProcess(queue, ...initValue) {\n    // we need to make sure the Array is actually flat array\n    const q = (0, lodash_1.flatMap)(queue);\n    const ex = Reflect.apply(chainProcessPromises, null, q);\n    return Reflect.apply(ex, null, initValue);\n}\nexports.queuePromisesProcess = queuePromisesProcess;\n", "\"use strict\";\n// this is a new Error class that is not part of the Jsonql\n// but we will use it in other external modules\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass GeneralException extends Error {\n    constructor(...args) {\n        super(...args);\n        this.message = args[0];\n        this.detail = args[1];\n        this.className = GeneralException.name;\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, GeneralException);\n        }\n    }\n}\nexports.default = GeneralException;\n", "\"use strict\";\n// custom validation error class\n// when validaton failed\n// should there also be a errors result somewhere\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(...args) {\n        super(...args);\n        this.message = args[0];\n        this.detail = args[1];\n        this.className = ValidationError.name;\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, ValidationError);\n        }\n    }\n}\nexports.default = ValidationError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAsyncFunction = exports.isFunction = void 0;\nconst truetypeof_1 = require(\"./truetypeof\");\nconst expected = ['asyncfunction', 'function'];\n/**\n * Simple check if the prop is function\n * We found situtation where it report as an object but debug output show as [Function]\n */\nconst isFunction = function (prop, debug = false) {\n    const result = (0, truetypeof_1.trueTypeOf)(prop);\n    if (expected.includes(result)) {\n        return true;\n    }\n    if (debug) {\n        console.error(`Expect to be Function type! Got ${typeof prop}`);\n    }\n    return false;\n};\nexports.isFunction = isFunction;\n/** finally found a solution to check if something is an async function */\nfunction isAsyncFunction(prop) {\n    return (0, truetypeof_1.trueTypeOf)(prop) === expected[0];\n}\nexports.isAsyncFunction = isAsyncFunction;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRegex = exports.isRegExp = void 0;\nconst lodash_1 = require(\"./lodash\");\n/**\n * Just check if a pattern is an RegExp object\n */\nfunction isRegExp(pat) {\n    return pat instanceof RegExp;\n}\nexports.isRegExp = isRegExp;\n/**\n * Find from the array by matching the pattern\n */\nfunction getRegex(pattern) {\n    switch (true) {\n        case isRegExp(pattern):\n            return pattern;\n        case (0, lodash_1.isString)(pattern):\n            return new RegExp(pattern);\n        default:\n            return false;\n    }\n}\nexports.getRegex = getRegex;\n", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n", "/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n", "// validate string type\n\nimport { isString } from '@jsonql/utils/dist/lodash'\n/**\n * double check if its string\n */\nexport function checkString(value: unknown) {\n  return ((value+'').trim() !== '') ? isString(value) : false\n}\n", "// check for boolean\n\n/**\n * if something is a boolean\n */\nexport function checkBoolean(value: unknown): boolean {\n  return value !== null && value !== undefined && typeof value === 'boolean'\n}\n", "// validator numbers\n// import { NUMBER_TYPES } from './constants';\nimport { trueTypeOf } from '@jsonql/utils/dist/truetypeof'\n/**\n * @2015-05-04 found a problem if the value is a number like string\n * it will pass, so add a check if it's string before we pass to next\n */\nexport function checkNumber(value: number) {\n  return trueTypeOf(value) !== 'number' ? false : !isNaN( parseFloat(value + '') )\n}\n\n// Add more number type / value checking\nexport function checkInteger(value: unknown) {\n  console.log(`@TODO checkInteger`, value)\n}\n\nexport function checkFloat(value: unknown) {\n  console.log(`@TODO checkFloat`, value)\n}\n\nexport function checkUnsigned(value: unknown) {\n  console.log(`@TODO check unsigned`, value)\n}\n", "/** validate any thing only check if there is something */\nexport function checkAny(value: unknown, checkNull = true): boolean {\n  if (value !== undefined && value !== '' && (value+'').trim() !== '') {\n    if (checkNull === false || (checkNull === true && value !== null)) {\n      return true\n    }\n  }\n  return false\n}\n", "// validate array type\nimport type { AnyType } from '@jsonql/utils/index'\nimport { isPlainObject } from '@jsonql/utils/dist/object'\nimport { combineCheck } from './combine'\nimport {\n  ARRAY_TYPE_LFT,\n  ARRAY_TYPE_RGT,\n  ARRAY_TS_TYPE_LFT,\n  ARRAY_TYPE,\n  OBJECT_TYPE,\n  OR_SEPERATOR\n} from '../constants'\nconst STYLES = {\n  ts: ARRAY_TS_TYPE_LFT,\n  jsdoc: ARRAY_TYPE_LFT\n}\n/**\n * check if its array or array like\n * why the type is a not a boolean?\n */\nexport function checkArray(\n  value: unknown,\n  type?: string | string[] // @TODO more combination\n) {\n  if (Array.isArray(value)) {\n    if (!type) {\n      return true\n    }\n    // we test it in reverse\n    // @TODO if the type is an array (OR) then what?\n    // we need to take into account this could be an array\n    let c: unknown[]\n    if (Array.isArray(type)) { // Union type\n      c = value.filter((v: unknown) => {\n        // only need one is correct\n        const ctn = type.length\n        for (let i = 0; i < ctn; ++i) {\n          const t = type[i]\n          if (\n            (t === ARRAY_TYPE && Array.isArray(v)) ||\n            (t === OBJECT_TYPE && isPlainObject(v)) ||\n            combineCheck(t)(v as number)\n          ) {\n            return false\n          }\n        }\n        return true\n      })\n    } else {\n      c = value.filter(v => !combineCheck(type)(v))\n    }\n    return !(c.length > 0)\n  }\n  return false\n}\n\n/** Take the string type like array.<T> or Array<T> apart */\nfunction destructArrayStr(type: string, syntax = 'ts'): Array<string> | boolean {\n  const left = STYLES[syntax]\n  if (!left) {\n    throw new Error(`Syntax not supported! ${Object.keys(STYLES)}`)\n  }\n  if (type.indexOf(left) > -1 && type.indexOf(ARRAY_TYPE_RGT) > -1) {\n    const _type = type.replace(left, '').replace(ARRAY_TYPE_RGT, '')\n    if (_type.indexOf(OR_SEPERATOR)) {\n      // return as array\n      return _type.split(OR_SEPERATOR)\n    }\n    // return as array\n    return [_type]\n  }\n  return false\n}\n\n/**\n * check if it matches the array.<T> pattern\n * This method will be deprecated soon - we are not using the jsdoc to get the type any more\n * @TODO 2022-04-23 Instead of deprecated this we need to expand this method to use the swc generated map\n * also make it compatible between the array.<T> and the array<T> style (jsdoc or ts)\n */\nexport function isArrayLike(type: string): boolean | string[] {\n  // debugFn(type)\n  // check ts first\n  const check1 = destructArrayStr(type)\n  if (!check1) {\n    return destructArrayStr(type, 'jsdoc')\n  }\n  /**\n  Todo read the swc generate map here\n\n  **/\n  return false\n}\n\n/**\n * we might encounter something like array.<T> then we need to take it apart\n @TODO_deprecated This method is no longer needed here\n */\nexport function arrayTypeHandler(p: AnyType, type: unknown[]): boolean {\n  const { arg } = p\n  // need a special case to handle the OR type\n  // we need to test the args instead of the type(s)\n  if (type.length > 1) {\n    return !arg.filter((v: unknown) => (\n      !(type.length > type.filter((t: unknown) => !combineCheck(t as string)(v as number)).length)\n    )).length\n  }\n  // type is array so this will be or!\n  return type.length > type.filter((t: unknown) => !checkArray(arg, t as string)).length\n}\n", "// ported from @jsonql/constants\n\nexport const OR_SEPERATOR = '|'\n\nexport const BOOLEAN_TYPE = 'boolean'\nexport const STRING_TYPE = 'string'\nexport const NUMBER_TYPE = 'number'\nexport const ARRAY_TYPE = 'array'\nexport const OBJECT_TYPE = 'object'\n// Legacy\nexport const ARRAY_TS_TYPE_LFT = 'Array<'\nexport const ARRAY_TYPE_LFT = 'array.<'\nexport const ARRAY_TYPE_RGT = '>'\n\n// local\nexport const VALIDATE_KEY = 'validate'\nexport const VALIDATE_ASYNC_KEY = 'validateAsync'\nexport const PLUGIN_KEY = 'plugin'\nexport const PLUGIN_FN_KEY = 'main'\nexport const PATTERN_KEY = 'pattern'\nexport const RULES_KEY = 'rules'\nexport const NAME_KEY = 'name'\nexport const PARAMS_KEY = 'params'\n\nexport const IDX_KEY = '$$idx'\nexport const VALUE_KEY = '$$value'\n\nexport const RESERVED_WORD_ERR = 'Your plugin config argument contains reserved keywords'\nexport const ARG_NOT_MATCH_ERR = \"Your params doesn't matching your main argument list\"\nexport const MAIN_NOT_FOUND_ERR = \"Can not find 'main' method in your plugin config\"\n\nexport const KEYWORDS = [\n  PARAMS_KEY,\n  PATTERN_KEY,\n  VALIDATE_KEY,\n  VALIDATE_ASYNC_KEY,\n  PLUGIN_KEY,\n  RULES_KEY,\n  'name',\n  'type',\n  'types',\n  'server',\n  'tstype',\n  'value',\n  'optional',\n  'tmp',\n  'pos',\n  'lastResult',\n]\n", "// primitive types\nimport { checkNumber } from './number'\nimport { checkString } from './string'\nimport { checkBoolean } from './boolean'\nimport { checkAny } from './any'\nimport { NUMBER_TYPE, STRING_TYPE, BOOLEAN_TYPE } from '../constants'\n\n/**\n * this is a wrapper method to call different one based on their type\n */\nexport function combineCheck(type: string) {\n  switch (type) {\n    case NUMBER_TYPE:\n      return checkNumber\n    case STRING_TYPE:\n      return checkString\n    case BOOLEAN_TYPE:\n      return checkBoolean\n    default:\n      return checkAny\n  }\n}\n", "// validate object type\nimport type { JsonqlCheckObjectKeys } from '../types'\nimport type { AnyType, AnyTypeArr } from '@jsonql/utils/index'\n\nimport { isPlainObject } from '@jsonql/utils/dist/object'\nimport { combineCheck } from './combine'\nimport { checkArray, isArrayLike, arrayTypeHandler } from './array'\n\n/**\n * check if the input is object also able to check if key(s) existed in that object\n @TODO need to rethink about how this checkObject keys should be\n */\nexport function checkObject(\n  value: AnyType,\n  keys?: string | Array<string> | Array<JsonqlCheckObjectKeys>\n) {\n  if (isPlainObject(value)) {\n    if (!keys) {\n      return true\n    }\n    // bs about ts\n    if (typeof keys === 'string') {\n      return keys in value\n    }\n    // @TODO we might have to break it up into a different method\n    else if (checkArray(keys)) {\n      if (typeof keys[0] === 'string') {\n        return checkIfKeysInObj(\n          value,\n          keys as unknown as Array<string>\n        )\n      }\n      return checkIfNameTypeInObj(\n        value,\n        keys as unknown as Array<JsonqlCheckObjectKeys>\n      )\n    }\n  }\n  return false\n}\n\n/** check if the keys existed in the object */\nfunction checkIfKeysInObj(\n  value: AnyType,\n  keys: Array<string>\n) {\n  return !keys.filter((key: string) => {\n    return !(key in value)\n  }).length\n}\n\n/** check if JsonqlCheckObjectKeys is in the object */\nfunction checkIfNameTypeInObj(\n  value: AnyType,\n  keys: Array<JsonqlCheckObjectKeys>\n) {\n  // please note we DON'T care if some is optional\n  // please refer to the contract.json for the keys\n  return !keys.filter((key: JsonqlCheckObjectKeys) => {\n    const _value = value[key.name]\n    return !(key.type.length > key.type.filter((type: unknown) => {\n      let tmp: unknown\n      if (_value !== undefined) {\n        if ((tmp = isArrayLike(type as string)) !== false) {\n          return !arrayTypeHandler({arg: _value}, tmp as AnyTypeArr)\n          // return tmp.filter(t => !checkArray(_value, t)).length;\n          // @TODO there might be an object within an object with keys as well :S\n        }\n        return !combineCheck(type as string)(_value)\n      }\n      return true\n    }).length)\n  }).length\n}\n\n/**\n * fold this into it's own function to handler different object type\n */\nexport const objectTypeHandler = function(p: AnyType) {\n  const { arg, param } = p\n  const _args = [arg]\n  if (Array.isArray(param.keys) && param.keys.length) {\n    _args.push(param.keys)\n  }\n  // just simple check\n  return Reflect.apply(checkObject, null, _args)\n}\n\n/** check if an object is empty */\nexport const isEmptyObject = function(value: AnyType) {\n  if (isPlainObject(value)) {\n    const keys = Object.keys(value)\n\n    return !keys.length\n  }\n  return false\n}\n", "// Union Type\nimport type { AnyType, AnyTypeArr } from '@jsonql/utils/index'\nimport { queuePromisesProcess } from '@jsonql/utils/dist/chain-promises'\nimport { combineCheck } from './combine'\nimport { checkArray } from './array'\nimport { checkObject } from './object'\n\nimport { ARRAY_TYPE, OBJECT_TYPE } from '../constants'\n\n\n/** wrap the or return result together */\nfunction typeAsFail(result: boolean, type: string) {\n  return result || type\n}\n\n/**\nWe use the chainProcessPromises fail and exit side effects to\naccomplish this task fast, because it's OR so only need to\nhave one of them pass that means all pass\nso if one pass we throw Error and it will exist\nif it fail we resolve it therefore the then is actually failed\n*/\nexport function generateReversePromisesFn(\n  value: AnyType,\n  types: Array<string>,\n  extended?: AnyTypeArr // this will be check keys\n) {\n  // we return it as a function therefore\n  // if the last one fail the next one no need to get exeucte\n  return types.map((type: string, i: number) => {\n    const args = [value]\n    if (extended && extended[i]) {\n      args.push(extended[i])\n    }\n    switch (type) {\n      case ARRAY_TYPE:\n        return () => typeAsFail(Reflect.apply(checkArray, null, args), type)\n      case OBJECT_TYPE:\n        return () => typeAsFail(Reflect.apply(checkObject, null, args), type)\n      default:\n        return () => typeAsFail(combineCheck(type)(value), type)\n    }\n  })\n  .map(fn => (\n    // this treat result in opposite way because once one pass\n    // then we want to exit the queue (it's OR just need one to pass)\n    async () => {\n      const result = fn()\n      // @TODO may be push them together in one array?\n      return result === true ? Promise.reject(true) : Promise.resolve(result)\n    }\n  ))\n}\n\n/**\n  because the union type is OR\n  therefore it has to be check in one rule\n*/\nexport async function checkUnion(\n  value: AnyType,\n  types: Array<string>,\n  extended?: AnyTypeArr\n): Promise<boolean> {\n  const ps = generateReversePromisesFn(value, types, extended)\n  // we wrap this in another promise to reverse the result\n  return new Promise((resolver, rejecter) => {\n    /**\n    There is a weird behavior here, if we call the catch first\n    the 'then' always get call, it might be a promise A behavior\n    */\n    queuePromisesProcess(ps, types[0])\n          .then((type: string) => {\n            // console.log('failed', type)\n            rejecter(type)\n          })\n          .catch((res: boolean) => {\n            // console.log('passed', res)\n            resolver(res)\n          })\n\n  })\n}\n\n/**\n * Create a sync version of checkUnion\n */\nexport function checkUnionSync(\n  value: AnyType,\n  types: Array<string>\n) {\n  const ctn = types.length\n  for (let i = 0; i < ctn; ++i) {\n    const type = types[i]\n    switch (type) {\n      case ARRAY_TYPE:\n        if (checkArray(value)) {\n          return true\n        }\n        break\n      case OBJECT_TYPE:\n        if (checkObject(value)) {\n          return true\n        }\n        break\n      default:\n        if (combineCheck(type)(value))  {\n          return true\n        }\n      }\n  }\n  return false\n}\n", "// create our own promisify method here\n// because there are many situation we want the validating method to be async\n/// also this define here because the result is in reverse not suitable\n// for general purpose use\n\nimport type { AnyType, AnyTypeArr } from '@jsonql/utils/index'\n\n/** it's quite annoying Typescript Function type is useless */\nexport function promisify(fn: AnyType) {\n\n  return async (...args: AnyTypeArr): Promise<boolean> => {\n    const result = await Reflect.apply(fn, null, args)\n\n    return result ? Promise.resolve(result) : Promise.reject(result)\n  }\n}\n\n/** When the result is true get rejected and vice vesa */\nexport function reversePromisifyResult(fn: AnyType) {\n\n  return async (...args: AnyTypeArr): Promise<boolean> => {\n    const result = await Reflect.apply(fn, null, args)\n\n    return result ? Promise.reject(result) : Promise.resolve(result)\n  }\n}\n", "// import { isString } from '@jsonql/utils/dist/lodash'\n// @NOTE can not use the isString method because stupid Typescript complaint it's not string\n// even you cast it again\nexport function len (value: number | string): number {\n\n  return typeof value === 'string'\n    ? value.length\n    : value\n}\n", "import { len } from '../lib/len'\n\nconst name = 'moreThan'\n\nfunction main(\n  num: number,\n  value: number | string\n): boolean {\n\n  return len(value) > num\n}\n\nexport default {\n  name,\n  main,\n  params: ['num']\n}\n", "import { len } from '../lib/len'\n\nconst name = \"lessThan\"\n\nfunction main(\n  num: number,\n  value: number | string\n): boolean {\n  return len(value) < num\n}\n\nexport default {\n  name,\n  main,\n  params: ['num']\n}\n", "// between\nimport moreThan from './more-than'\nimport lessThan from './less-than'\n\nconst name = 'between'\n\nfunction main(\n  max: number,\n  min: number,\n  value: number | string\n): boolean {\n\n  return lessThan.main(max, value) && moreThan.main(min, value)\n}\n\n// so when we register it, we know what param we should expect\nexport default {\n  main,\n  name,\n  params: ['max', 'min']\n}\n", "// email validator\n// this is an example how to create a plugin\n// one default export method accept one parameter value return boolean\n// then export a named export call name: string and that's it\n// or just return a string regex pattern: string\n\nconst name = 'email'\n\nfunction main(value: string): boolean {\n  const pattern = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\n  return pattern.test(value)\n}\n\nexport default {\n  main,\n  name,\n}\n", "// test for integer\n\nexport const name = \"int\"\n\nfunction main(value: number): boolean {\n  return Number.isInteger(value)\n}\n\nexport default {\n  name,\n  main, \n}\n", "import { len } from '../lib/len'\n\nconst name = 'lessThanEqual'\n\nfunction main(\n  num: number,\n  value: number | string\n): boolean {\n  return len(value) <= num\n}\n\nexport default {\n  name,\n  main,\n  params: ['num']\n}\n", "import { len } from '../lib/len'\nconst name = 'moreThanEqual'\n\nfunction main(num: number, value: number | string): boolean {\n  return len(value) >= num\n}\n\nexport default {\n  name,\n  main,\n  params: ['num']\n}\n", "\n\nconst name = \"unit\"\n\nfunction main(value: number): boolean {\n  return Number.isInteger(value) && value >= 0\n}\n\nexport default {\n  name,\n  main,\n}\n", "\n\nimport moreThanEqual from './more-than-equal'\nimport lessThanEqual from './less-than-equal'\n\nconst name = 'main'\n\nfunction main(\n  max: number,\n  min: number,\n  value: number | string\n): boolean {\n  return lessThanEqual.main(max, value) && moreThanEqual.main(min, value)\n}\n\nexport default {\n  name,\n  main,\n  params: ['max', 'min']\n}\n", "// This export files also will get build individually for the client side\n// and same thing could apply for the developer add rules\n\n// Here we only provide a list of files and dynamicly import it\n\nimport between from './between'\nimport email from './email'\nimport int from './int'\nimport lessThanEqual from './less-than-equal'\nimport lessThan from './less-than'\nimport moreThanEqual from './more-than-equal'\nimport moreThan from './more-than'\nimport unit from './uint'\nimport within from './within'\n\nexport const plugins = [\n  between,\n  email,\n  int,\n  lessThanEqual,\n  lessThan,\n  moreThanEqual,\n  moreThan,\n  unit,\n  within,\n]\n", "// it was in the index and should be on it's own file\n/** just make this clear where the plugins coming from */\nimport type {\n  JsonqlPluginConfig,\n  JsonqlValidateFn,\n  JsonqlPluginInput,\n} from '../types'\n\nimport { curry } from '@jsonql/utils/dist/lodash'\nimport GeneralException from '@jsonql/errors/dist/general-exception'\n\nimport { PARAMS_KEY } from '../constants'\nimport { plugins } from './index'\n/**\n  construct the curry plugin method\n  @0.5.0 we make this generic\n*/\nexport function curryPlugin(\n  input: JsonqlPluginInput,\n  pluginConfig: JsonqlPluginConfig\n): JsonqlValidateFn {\n  const { plugin } = input\n  if (plugin) {\n    const params = pluginConfig[PARAMS_KEY] // if we use pluginExport.params then TS complain!\n    if (params) {\n      // @BUG if the input missing the key then it wont throw for example\n      // we expect `arg` but pass the `min` then it will run but just failed\n      if (!checkArgKeys(input, params)) {\n        throw new GeneralException(`Expected params: ${params.join(',')} not found!`)\n      }\n      const args = params.map((param: string) => input[param])\n\n      return Reflect.apply(curry(pluginConfig.main), null, args)\n    } else {\n      throw new GeneralException(`This plugin ${pluginConfig.name} can not be curry`)\n    }\n  }\n  throw new GeneralException(`Unable to find plugin in config`)\n}\n\n/** check if the expected key presented in the config */\nfunction checkArgKeys(\n  config: JsonqlPluginInput,\n  params: Array<string>\n): boolean {\n  return params.filter(key => config[key]).length === params.length\n}\n\n/** @TODO it needs to be a js file then it must be after compile */\nexport function getPlugin(pluginName: string) {\n  let p = plugins[pluginName]\n  if (p) {\n    p = p === '_' ? pluginName : p\n    return import('./' + [p,'js'].join('.'))\n  }\n  throw new Error(`${pluginName} is not found`)\n}\n", "import type {\n  JsonqlValidateFn,\n  JsonqlGenericObject,\n  JsonqlPluginConfig\n} from '../types'\n\nimport ValidationError from '@jsonql/errors/dist/validation-error'\nimport GeneralException from '@jsonql/errors/dist/general-exception'\nimport {\n  IDX_KEY,\n  VALUE_KEY,\n  KEYWORDS,\n  PLUGIN_FN_KEY,\n  PARAMS_KEY,\n  RESERVED_WORD_ERR,\n} from '../constants'\nimport { toArray } from '@jsonql/utils/dist/common'\nimport { assign } from '@jsonql/utils/dist/object'\nimport { isFunction } from '@jsonql/utils/dist/is-function'\nimport { getRegex } from '@jsonql/utils/dist/regex'\n\nimport debugFn from 'debug'\nconst debug = debugFn('jsonql:validator-core:common')\n\n/** check plugin argument against keywords list */\nexport function checkPluginArg (params: Array<string>): boolean {\n  return !(params.filter(param => KEYWORDS.includes(param)).length > 0)\n}\n\n/** now simply it with just one prop check main */\nexport function pluginHasFunc (rule: Partial<JsonqlPluginConfig>): boolean {\n  return rule[PLUGIN_FN_KEY] && isFunction(rule[PLUGIN_FN_KEY])\n}\n\n/** Just take the keys without the value */\nfunction getArgsKey (rule: Partial<JsonqlPluginConfig>): Array<string> {\n  const params = extractFnArgs(rule.main.toString())\n  params.pop()\n  return params\n}\n\n/** instead of just checking the user params, we go one step further to extract it for them */\nexport function searchParamsKey (\n  rule: Partial<JsonqlPluginConfig>\n): Partial<JsonqlPluginConfig> {\n  const params = getArgsKey(rule)\n  const l = params.length\n  if (l === 0) {\n    return rule // nothing to do\n  }\n  // now we check if the params has reserved word\n  if (!checkPluginArg(params)) {\n    throw new GeneralException(RESERVED_WORD_ERR)\n  }\n  rule[PARAMS_KEY] = params\n  return rule\n}\n\n/** check if the params they provide is matching their main method */\nexport function paramMatches (rule: Partial<JsonqlPluginConfig>) {\n  const params = getArgsKey(rule)\n  const l = params.length\n  if (l === 0 && !rule[PARAMS_KEY]) {\n    return true // nothing to check\n  }\n  const _params = rule.params !== undefined && Array.isArray(rule.params)\n                ? rule.params : false\n  if (_params === false) {\n    return false\n  }\n  if (l > 0 && l === _params.length) {\n    if (!params.filter((param: string, i: number) => param !== _params[i]).length) {\n      return true\n    }\n  }\n  return false\n}\n\n/** take a function string and return its argument names */\nexport function extractFnArgs (fnStr: string): Array<string> {\n\n  return fnStr.split('(')[1]\n              .split(')')[0]\n              .split(',')\n              .map(t => t.trim())\n              .filter(t => t !== '')\n}\n\n\n/**\nthis will get re-use in the class to create method for the queue execution\n */\nexport function constructRuleCb (\n  argName: string,\n  ruleFn: JsonqlValidateFn,\n  ruleName?: string\n) {\n\n  return async (\n    value: unknown,\n    lastResult: JsonqlGenericObject,\n    pos: number[]\n  ) => {\n    // @NOTE keep getting problem with ruleFn is not a async funtion pass here\n    // so we need to first execute it then check if is thenable\n    return Reflect.apply(ruleFn, null, [value])\n      .then(\n        successThen(argName, value, lastResult, pos)\n      )\n      .catch((error: boolean) => {\n        debug('failed', argName, value, error, pos)\n        // the name should be the validator name - not the property name\n        // because the pos already indicator the property\n        return Promise.reject(new ValidationError(ruleName, pos))\n      })\n    }\n}\n\n/** This is taken out from the above then call for re-use when we want to fall through a rule */\nexport function successThen (\n  argName: string,\n  value: unknown,\n  lastResult: JsonqlGenericObject,\n  pos: number[] // for internal debug use only\n) {\n  return (result: unknown) => {\n    const idx = pos[0]\n    debug('passed', argName, value, result, pos)\n    debug('lastResult', lastResult)\n    const newResult = { [IDX_KEY]: idx, [VALUE_KEY]: value }\n    if (lastResult === undefined) { // init\n      return {[argName]: newResult }\n    }\n    // here is the problem with spread result - they have the same name\n    if (argName in lastResult) { // we need to check if the key exist this is import NOT VALUE check\n      const lr = lastResult[argName]\n      if (isResultPackage(lr) ) {\n        if (!lr.includes(newResult)) {\n          lastResult[argName].push(newResult)\n        }\n      } else if (lr[IDX_KEY] !== idx) {\n        lastResult[argName] = toArray(lastResult[argName]).concat([ newResult ])\n      }\n      // if it's the same then do nothing\n      return lastResult\n    }\n    // return the argument name with the value\n    return assign(lastResult, { [argName]: newResult })\n  }\n}\n\n/** check to see if the lastResult contain our lastResult package format or just their value */\nexport function isResultPackage (lastResult: unknown, key = IDX_KEY) {\n  try {\n    if (Array.isArray(lastResult)) {\n      return !!lastResult.filter(\n        (res: {[key: string]: unknown}) => key in res\n      ).length\n    }\n  } catch(e) { debug('isResultPackage', e) }\n\n  return false\n}\n\n/** If the plugin provide a pattern and we construct a function out of it */\nexport function patternPluginFanctory (\n  pattern: string\n): (value: string) => Promise<boolean> {\n  const regex = getRegex(pattern) as RegExp\n\n  return async (value: string) =>\n    regex.test(value) ? Promise.resolve(true) : Promise.reject(false)\n}\n", "/**\n  instead of loading pluign in each ValidatorFactory\n  we should create a base class that load all internal plugins\n  and each ValidatorFactory add their extra plugin into this to share\n*/\nimport type {\n  JsonqlPluginInput,\n  JsonqlPluginConfig,\n  JsonqlValidationPlugin,\n  JsonqlValidationRule,\n  JsonqlValidateFn,\n} from './types'\nimport GeneralException from '@jsonql/errors/dist/general-exception'\nimport {\n  VALIDATE_ASYNC_KEY,\n  PLUGIN_KEY,\n  PLUGIN_FN_KEY,\n  NAME_KEY,\n  PARAMS_KEY,\n  RESERVED_WORD_ERR,\n  ARG_NOT_MATCH_ERR,\n  MAIN_NOT_FOUND_ERR,\n} from './constants'\nimport {\n  curryPlugin,\n} from './plugins/plugins'\nimport {\n  promisify\n} from './lib/promisify'\nimport {\n  constructRuleCb,\n  checkPluginArg,\n  pluginHasFunc,\n  searchParamsKey,\n  paramMatches,\n} from './lib/common'\nimport {\n  plugins\n} from './plugins'\n\nimport debugFn from 'debug'\nconst debug = debugFn('jsonql:validator-core:validator-plugin')\n\n// main\nexport class ValidatorPlugins {\n\n  private _plugins = new Map<string, JsonqlValidationPlugin>()\n  private _internalPluginNames: string[] = []\n  /** with a idx to id this instance */\n  constructor(public $version?: number) {\n    // register internal plugins\n    plugins.forEach((plugin: JsonqlValidationPlugin) => {\n      // we don't do the convert here anymore, and wait until the look up\n      // then we store it back JIT\n      const name = plugin[NAME_KEY] as string\n      this._internalPluginNames.push(name)\n      this._registerPlugin(name, plugin, true)\n    })\n  }\n\n  /**\n  find the plugin internal or external\n  argName is the argument name\n  */\n  public lookupPlugin(\n    input: JsonqlValidationRule,\n    argName: string\n  ) {\n    const pluginName = input[PLUGIN_KEY]\n    if (pluginName && this._plugins.has(pluginName)) {\n      const pluginConfig = this._plugins.get(pluginName) as JsonqlValidationPlugin\n      // unconverted\n      if (pluginConfig[PLUGIN_FN_KEY] && !pluginConfig[PARAMS_KEY]) {\n        // let it fall to the next\n        pluginConfig[VALIDATE_ASYNC_KEY] = promisify(pluginConfig[PLUGIN_FN_KEY])\n      }\n      // already converted\n      if (pluginConfig && pluginConfig[VALIDATE_ASYNC_KEY] && !pluginConfig[PARAMS_KEY]) {\n        return constructRuleCb(\n          argName,\n          pluginConfig[VALIDATE_ASYNC_KEY] as JsonqlValidateFn,\n          pluginName,\n        )\n      }\n      // needs to curry\n      if (pluginConfig && pluginConfig[PARAMS_KEY]) {\n        debug('pluginConfig --->', pluginConfig)\n        debug('input----------->', input)\n        const _input = input as unknown as JsonqlPluginInput\n\n        return constructRuleCb(\n          argName,\n          promisify(\n            curryPlugin(_input, pluginConfig as unknown as JsonqlPluginConfig)\n          ),\n          pluginName\n        )\n      }\n    }\n    debug('lookupPlugin', 'unable to find', pluginName)\n    throw new GeneralException(`Unable to find plugin: ${pluginName}`)\n  }\n\n  /** The public api to register a plugin */\n  public registerPlugin(\n    name: string,\n    pluginConfig: JsonqlValidationPlugin\n  ): void {\n    this._registerPlugin(name, pluginConfig)\n  }\n\n  /** call this when loading external plugin, not allow to use directly */\n  protected _registerExternalPlugin(\n    name: string,\n    pluginConfig: JsonqlValidationPlugin\n  ): void {\n    this._registerPlugin(name, pluginConfig, false, true)\n  }\n\n  /** this is no longer in use and we change the usage to export list of names that can be add to contract */\n  public export(external = true) {\n    const plugins: JsonqlValidationPlugin[] = []\n    this._plugins.forEach((p: JsonqlValidationPlugin, n: string) => {\n      if (!this.isBuiltIn(n) && p.external === external) {\n        plugins.push(p)\n      }\n    })\n    return plugins\n  }\n\n  /** just check if this plugin is built-in */\n  public isBuiltIn(pluginName: string) {\n    return this._internalPluginNames.includes(pluginName)\n  }\n\n  // ------------------------- PRIVATE --------------------------//\n\n  /** register plugins */\n  protected _registerPlugin(\n    name: string,\n    pluginConfig: Partial<JsonqlPluginConfig>,\n    skipCheck = false, // when register internal plugin then skip it\n    external = false // new in 0.9.11\n  ): void {\n    if (!skipCheck) {\n      if (this._plugins.has(name)) {\n        throw new GeneralException(`plugin ${name} already existed!`)\n      }\n      if (!pluginHasFunc(pluginConfig)) {\n        debug('registerPlugin', MAIN_NOT_FOUND_ERR)\n        throw new GeneralException(MAIN_NOT_FOUND_ERR)\n      }\n      // Here we could extract the params instead of just checking\n      if (pluginConfig[PARAMS_KEY] === undefined) {\n        pluginConfig = searchParamsKey(pluginConfig)\n        debug('auto generate params for plugin', pluginConfig)\n      } else if (pluginConfig[PARAMS_KEY] !== undefined) { // if they provide the keys then we check\n        if (!checkPluginArg(pluginConfig[PARAMS_KEY] as string[])) {\n          debug('registerPlugin', RESERVED_WORD_ERR)\n          throw new GeneralException(RESERVED_WORD_ERR)\n        }\n        if (!paramMatches(pluginConfig)) {\n          debug('registerPlugin', ARG_NOT_MATCH_ERR)\n          throw new GeneralException(ARG_NOT_MATCH_ERR)\n        }\n      }\n    }\n    pluginConfig.name = name\n    pluginConfig.external = external\n    /**\n    At this point it should only contain a main (or plus params) so we\n    do nothing and just store it, we convert it only when they call it\n    */\n    this._plugins.set(name, pluginConfig)\n  }\n}\n", "export const ARGS_NOT_ARRAY_ERR = `Input argument is not an array!`\nexport const PARAMS_NOT_ARRAY_ERR = `Parameter is not an array`\nexport const EXCEPTION_CASE_ERR = `Exception happened don't know how to handle it`\n// use this to id if the input is spread\nexport const SPREAD_PREFIX = '$_spread_arg_'\nexport const IS_SPREAD_VALUES_KEY = '$$is_spread_values'\n\nexport const SPREAD_ARG_TYPE = 'RestElement'\n\nexport const TS_UNION_TYPE = 'TsUnionType'\nexport const TS_ARRAY_TYPE = 'TsArrayType'\nexport const DEFAULT_VALUE = 'defaultvalue'\n\n// when they type inline along the params\nexport const TS_TYPE_LIT = 'TsTypeLiteral'\n// when pass a type reference we just treat them as object\nexport const TS_TYPE_REF = 'TsTypeReference'\n// this is for us to id what that is\nexport const TS_TYPE_NAME = 'tstype'\n// return result as - default array \nexport const RETURN_AS_OBJ = 'object'\nexport const RETURN_AS_ARR = 'array'\nexport const RETURN_AS_RAW = 'raw'\n", "// develop the small functions here one by one\n// import utils from '@jsonql/utils'\nimport type {\n  JsonqlPropertyParamMap,\n} from './types'\nimport type {\n  JsonqlValidateFn,\n  JsonqlGenericObject,\n  JsonqlValidationRule,\n} from '@jsonql/validator-core/index'\nimport type { AnyTypeArr } from '@jsonql/utils/index'\nimport {\n  checkString,\n  checkArray,\n  checkAny,\n  checkUnion,\n  combineCheck,\n  promisify,\n  constructRuleCb,\n  isResultPackage,\n  RULES_KEY,\n  VALIDATE_KEY,\n  VALIDATE_ASYNC_KEY,\n  PLUGIN_FN_KEY,\n  VALUE_KEY,\n} from '@jsonql/validator-core'\nimport {\n  TS_TYPE_NAME,\n  TS_TYPE_REF,\n  TS_TYPE_LIT,\n  TS_ARRAY_TYPE,\n  TS_UNION_TYPE,\n  DEFAULT_VALUE,\n\n  IS_SPREAD_VALUES_KEY,\n  SPREAD_ARG_TYPE,\n} from './constants'\nimport { notEmpty } from '@jsonql/utils/dist/empty'\nimport { assign, objectHasKey } from '@jsonql/utils/dist/object'\n\nimport debugFn from 'debug'\nconst debug = debugFn('jsonql:validator:class:fn')\n/**\nThe input is what the dev wrote in the validate\nThe input has two styles\n1. object - the key is the parameter name\n2. Array of Array, the index correspond to the argument position (later)\nall of these has moved to the ValidatorFactoryBase\nbecause the plugins are apply there\n*/\n\n/**\n  generate an automatic valdiation rule using the AST map\n  this part will always happen first then add the user\n  generate valdiation rules\n*/\nexport function createAutomaticRules(\n  astMap: Array<JsonqlPropertyParamMap>\n): Array<JsonqlPropertyParamMap> {\n  return astMap.map((ast: JsonqlPropertyParamMap) => {\n    const { name } = ast\n    const ruleFn = getValidateRules(ast)\n    const ruleName = ast[TS_TYPE_NAME] || ast.type\n    debug('createAutomaticRules', name, ruleName)\n    ast[RULES_KEY] = [constructRuleCb(\n      name,\n      ruleFn as JsonqlValidateFn,\n      ruleName as string\n    )]\n\n    return ast\n  })\n}\n\n/** wrapper method to wrap two steps together to make the class call easier to understand */\nexport async function processValidateResultsAsArr(\n  argNames: Array<string>,\n  validateResult: JsonqlGenericObject\n) {\n  return processValidateResults(argNames, validateResult)\n            .then(unwrapPreparedValidateResult)\n}\n\n/** step to process the return result as object */\nexport function processValidateResultsAsObj(\n  argNames: Array<string>,\n  validateResult: JsonqlGenericObject\n) {\n  return processValidateResultsAsArrOfObj(argNames, validateResult)\n            .reduce((a, b) => assign(a, b), {})\n}\n\n/** need to do this in two steps, first package it again and unwrap it, then next step flatten it */\nexport async function processValidateResults(\n  argNames: Array<string>,\n  validateResult: JsonqlGenericObject\n) {\n  return argNames.map((argName: string) => {\n    if (VALUE_KEY in validateResult[argName]) {\n      return validateResult[argName][VALUE_KEY]\n    } else if (isResultPackage(validateResult[argName])) {\n      // @BUG this is still wrong its an array wrap in an array\n      // we need to wrap this one more time for the next step\n      return {\n        [IS_SPREAD_VALUES_KEY]: validateResult[argName].map(\n          (res: {[key: string]: unknown}) => res[VALUE_KEY]\n        )\n      }\n    }\n    debug(`Return result when we couldn't find way to destruct: ${argName}`, validateResult[argName])\n    return validateResult[argName]\n  })\n}\n\n/** step to process the return result as object */\nexport function processValidateResultsAsArrOfObj(\n  argNames: Array<string>,\n  validateResult: JsonqlGenericObject\n): Array<JsonqlGenericObject> {\n  return argNames.map((argName: string) => {\n    switch (true) {\n      case VALUE_KEY in validateResult[argName]:\n        return {[argName]: validateResult[argName][VALUE_KEY]}\n      case isResultPackage(validateResult[argName]):\n        return {[argName]: validateResult[argName].map(\n          (res: {[key: string]: unknown}) => res[VALUE_KEY]\n        )}\n      default:\n        return {[argName]: validateResult[argName]}\n    }\n  })\n}\n\n\n/** final step to unwarp the pack result for spread arguments */\n// @NOTE there is a potential bug here when the spread type is Array<Array<any>>\n// then when we use in the velocejs we flatMap and all the Array inside get flattern\n// then again using spread with this wild open types is really BAD API design\nexport async function unwrapPreparedValidateResult(\n  result: AnyTypeArr // can not use unknown here\n) {\n  debug('unwrapPreparedValidateResult', result)\n  const ctn = result.length\n  if (ctn === 1 && objectHasKey(result[0], IS_SPREAD_VALUES_KEY)) {\n    return result[0][IS_SPREAD_VALUES_KEY]\n  } else if (isResultPackage(result, IS_SPREAD_VALUES_KEY)) {\n    let tmp: unknown[] = []\n    for (let i = 0; i < ctn; ++i) {\n      if (IS_SPREAD_VALUES_KEY in result[i]) {\n        tmp = tmp.concat(result[i][IS_SPREAD_VALUES_KEY])\n      } else {\n        tmp.push(result[i])\n      }\n    }\n    return tmp\n  }\n  return result // nothing to do should be all correct\n}\n\n/** only deal with constructing the basic rules validation function */\nfunction getValidateRules(ast: JsonqlPropertyParamMap) {\n  debug('getValidateRules ast', ast)\n  switch (ast[TS_TYPE_NAME]) {\n    case TS_UNION_TYPE:\n      return async function unionFn(value: unknown) {\n        return checkUnion(value, ast.type as string[])\n      }\n    case TS_ARRAY_TYPE || SPREAD_ARG_TYPE:\n      // need to apply for the type as well\n       // @TODO need to examine the input to see what more sutation could come up\n      return async function arrayFn(value: Array<unknown>) {\n        return promisify(checkArray)(value, ast.types)\n      }\n    case TS_TYPE_REF || TS_TYPE_LIT:\n    // @TODO should this get a special treatment\n      return async function anyFn(value: unknown) {\n        return promisify(checkAny)(value)\n      }\n    case SPREAD_ARG_TYPE: // we need to create rule for this one, its been wrong rule\n      return async function combineFn(value: unknown) {\n        return promisify(combineCheck(ast.types as string))(value)\n      }\n    default: // no tstype then should be primitive\n      if (checkString(ast.type)) {\n        debug('validation type', ast.type)\n        return async function combineFn(value: unknown) {\n          return promisify(combineCheck(ast.type as string))(value)\n        }\n      }\n      // if both are not presented that means this could be a JS code\n      // this happen when we use Decorator and toString() to extract the ast\n      debug(`getValidateRules`, ast)\n      return async function emptyFn(value: unknown) {\n        return promisify(notEmpty)(value, true)\n      }\n  }\n}\n\n/** extract the default value if there is none */\nexport function getOptionalValue(\n  arg: unknown,\n  param: JsonqlGenericObject\n) {\n  // should be the value undefined then search for defaultvalue\n  if (param.tstype !== SPREAD_ARG_TYPE && arg === undefined) { // spread argument can not have default value\n    return param[DEFAULT_VALUE] !== undefined\n            ? param[DEFAULT_VALUE]\n            : undefined\n  }\n\n  return arg\n}\n\n/** check if the rule contain duplicate rules that can not be resolve */\nexport function checkDuplicateRules(rule: JsonqlValidationRule): Array<string> {\n  return [\n    VALIDATE_KEY, VALIDATE_ASYNC_KEY, PLUGIN_FN_KEY // @TODO should pattern be standalone?\n  ].filter((key: string) => rule[key] !== undefined)\n}\n\n/** take the key part from a one level object */\nexport function getKey(obj: JsonqlGenericObject) {\n  const keys = Object.keys(obj)\n  return keys.length ? keys[0] : undefined\n}\n", "/** class style Validator, one instance per function */\nimport type {\n  JsonqlGenericObject,\n} from '@jsonql/validator-core/index'\nimport type {\n  JsonqlValidationPlugin,\n  JsonqlPropertyParamMap,\n  ValidateResultReturn,\n} from './types'\nimport {\n  ValidatorBase\n} from './validator-base'\nimport {\n  ValidatorPlugins\n} from '@jsonql/validator-core/dist/validator-plugins'\nimport {\n  processValidateResultsAsArr,\n  processValidateResultsAsObj,\n} from './fn'\nimport {\n  RETURN_AS_ARR,\n  RETURN_AS_OBJ,\n  RETURN_AS_RAW,\n} from './constants'\n\nimport debugFn from 'debug'\nconst debug = debugFn('jsonql:validator:class:index')\n// main\nexport class Validator extends ValidatorBase {\n\n  /**\n    this is now change to accept an instance of ValidatorPlugins (share)\n    if only call it with the astMap then it init it as a standalone like before\n  */\n  constructor(\n    astMap: Array<JsonqlPropertyParamMap>,\n    vp?: ValidatorPlugins\n  ) {\n    super(\n      astMap,\n      vp && vp instanceof ValidatorPlugins ? vp : new ValidatorPlugins(-1)\n    )\n  }\n\n  /** this is override the parent validate method with addtitional process for result */\n  public async validate(\n    values: Array<unknown>, \n    returnAs: ValidateResultReturn = RETURN_AS_ARR\n  ) {\n    // call the parent validate method\n    return super.validate(values)\n                .then((result: JsonqlGenericObject) => {\n                  switch (returnAs) {\n                    case RETURN_AS_RAW:\n                      return result \n                    case RETURN_AS_ARR:\n                      return this._prepareValidateResultForFuncCall(result)\n                    case RETURN_AS_OBJ:\n                    default:\n                      return this._prepareValidateResultAsObject(result)\n                  }\n                })\n  }\n\n  /** wrapper for the plugin instance register plugin method */\n  public registerPlugin(\n    name: string,\n    plugin: JsonqlValidationPlugin\n  ): void {\n    if (this._validatorPluginsInstance) {\n      this._validatorPluginsInstance.registerPlugin(name, plugin)\n    }\n  }\n\n  /** After the validation the success will get an object with\n  argumentName: value object and we make it to an array matching\n  the order of the call, then we can pass it directly to method that\n  get validated */\n  private async _prepareValidateResultForFuncCall(\n    validateResult: JsonqlGenericObject\n  ): Promise<unknown[]> {\n    debug('validateResult return as array', this._arguments, validateResult)\n    // @TODO need to fix the spread input type return result\n    return processValidateResultsAsArr(this._arguments, validateResult)\n  }\n\n  /** prepare the validation result as key value pair */\n  private async _prepareValidateResultAsObject(\n    validateResult: JsonqlGenericObject\n  ) {\n    debug('validateResult return as object', this._arguments, validateResult)\n    \n    return processValidateResultsAsObj(this._arguments, validateResult)\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
